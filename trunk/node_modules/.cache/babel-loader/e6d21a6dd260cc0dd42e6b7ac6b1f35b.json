{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\product\\commodity\\management.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\product\\commodity\\management.vue","mtime":1572415123905},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\r\n * { url: service + \"/xxxxxxx\", method: \"post\", form: true, auth: false }\r\n * url: \"\"\r\n * method: \"get\"   默认 post\r\n * form: true      默认 false\r\n * auth: true      默认 true\r\n * tip: true       默认 false\r\n */\nexport default {\n  data: function data() {\n    return {\n      activeName: 'customize',\n      rules: {},\n      filtersData: {\n        _url: \"\",\n        _service: \"\",\n        _method: \"post\",\n        _form: false\n      },\n      params: [{\n        name: \"\",\n        code: \"\"\n      }],\n      serviceOptions: [{\n        name: \"order\",\n        id: \"order-service\"\n      }, {\n        name: \"collocation\",\n        id: \"collocation-service\"\n      }, {\n        name: \"content\",\n        id: \"content-service\"\n      }, {\n        name: \"system\",\n        id: \"system-service\"\n      }, {\n        name: \"product\",\n        id: \"product-service\"\n      }, {\n        name: \"retail-store\",\n        id: \"retail-store-service\"\n      }, {\n        name: \"user\",\n        id: \"user-service\"\n      }],\n      methodOptions: [{\n        name: \"get\"\n      }, {\n        name: \"post\"\n      }, {\n        name: \"put\"\n      }, {\n        name: \"delete\"\n      }],\n      formOptions: [{\n        name: \"form\",\n        id: true\n      }, {\n        name: \"json\",\n        id: false\n      }],\n      ayncFormData: {\n        goodsOwner: null,\n        warehouseCode: null,\n        productGoodsCode: null\n      },\n      name: '',\n      goodsOwnerOptions: [],\n      warehouseOptions: []\n    };\n  },\n  created: function created() {\n    this.getGoodsOwner();\n    this.getWarehouse();\n  },\n  methods: {\n    addContent: function addContent() {\n      this.params.push({\n        code: \"\",\n        name: \"\"\n      });\n    },\n    //删除新增内容\n    removeDomain: function removeDomain(item) {\n      var index = this.params.indexOf(item);\n\n      if (index !== -1) {\n        this.params.splice(index, 1);\n      }\n    },\n    //发送请求\n    submitForm: function submitForm() {\n      var _this = this;\n\n      var param = this.params;\n      var paramName, paramCode;\n      var filter = this.filtersData;\n      var obj = new Object();\n\n      for (var i = 0; i < param.length; i++) {\n        paramName = !!param[i].name ? param[i].name : '';\n        paramCode = !!param[i].code ? param[i].code : '';\n\n        if (!!paramName) {\n          obj[paramName] = paramCode;\n        }\n      }\n\n      console.log(obj);\n      this.request({\n        url: filter._service + '/' + filter._url,\n        method: filter._method,\n        form: filter._form\n      }, obj).then(function (res) {\n        _this.$message.success('成功');\n      });\n    },\n    //同步库存新增\n    //获取货主\n    getGoodsOwner: function getGoodsOwner() {\n      var _this2 = this;\n\n      this.request(this.api.system.goodsOwner_getByUserId).then(function (res) {\n        console.log(res); // this.goodsOwnerOptions=res;\n\n        _this2.name = res.name;\n        _this2.ayncFormData.goodsOwner = res.code;\n      });\n    },\n    //获取仓库\n    getWarehouse: function getWarehouse() {\n      var _this3 = this;\n\n      this.request(this.api.system.warehouse_getListByUser).then(function (res) {\n        //console.log(res);\n        _this3.warehouseOptions = res;\n      });\n    },\n    //同步库存\n    ayncForm: function ayncForm() {\n      var _this4 = this;\n\n      this.request(this.api.product.productGoodsStock_synchronousStock, this.ayncFormData).then(function (res) {\n        _this4.$message.success('同步成功');\n      }).catch(function (err) {\n        _this4.$message.error('同步失败');\n      });\n    }\n  }\n};",{"version":3,"sources":["management.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: 同步库存及隐藏接口调用\r\n * @Author: elephant\r\n * @Date: 2019-08-20 08:58:21\r\n * @LastEditTime: 2019-08-22 19:26:52\r\n * @LastEditors: Please set LastEditors\r\n -->\r\n<template>\r\n  <div class=\"bg-fff item-margin item-padding\">\r\n  <el-tabs v-model=\"activeName\">\r\n    <el-tab-pane label=\"自定义\" name=\"customize\">\r\n     <el-form\r\n      class=\"item-form\"\r\n      :rules=\"rules\"\r\n      :model=\"filtersData\"\r\n      label-width=\"100px\"\r\n      size=\"small\"\r\n      ref=\"filtersForm\"\r\n      inline\r\n    >\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-form-item prop=\"_service\" label=\"微服务：\">\r\n            <el-select placeholder=\"请选择\" class=\"input-w\" v-model=\"filtersData._service\">\r\n              <el-option\r\n                v-for=\"item in serviceOptions\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item prop=\"_url\" label=\"url：\">\r\n            <el-input class=\"input-w\" placeholder=\"请输入内容\" v-model=\"filtersData._url\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item prop=\"_method\" label=\"请求方式：\">\r\n            <el-select placeholder=\"请选择\" class=\"input-w\" v-model=\"filtersData._method\">\r\n              <el-option\r\n                v-for=\"item in methodOptions\"\r\n                :key=\"item.name\"\r\n                :label=\"item.name\"\r\n                :value=\"item.name\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item prop=\"_form\" label=\"请求类型：\">\r\n            <el-select placeholder=\"请选择\" class=\"input-w\" v-model=\"filtersData._form\">\r\n              <el-option\r\n                v-for=\"item in formOptions\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\" v-for=\"(item,index) in params\" :key=\"index\">\r\n          <el-form-item :label=\" index == 0 ? '请求参数：':'   '\">\r\n            <el-input class=\"ztree-w\" v-model.trim=\"item.name\" placeholder=\"请输入字段名称\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-input class=\"ztree-w\" v-model.trim=\"item.code\" placeholder=\"请输入参数\"></el-input>\r\n            <i\r\n              @click=\"removeDomain(item)\"\r\n              v-if=\"index != 0\"\r\n              v-show=\"!item.id\"\r\n              class=\"el-icon-error\"\r\n            ></i>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item label>\r\n            <el-button class=\"label-input-right\" @click=\"addContent\">新增参数</el-button>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n    <div class=\"item-footer\">\r\n      <el-button size=\"small\" @click=\"submitForm('filtersForm')\" type=\"primary\">发送请求</el-button>\r\n    </div>\r\n    </el-form>\r\n    </el-tab-pane>\r\n      <el-tab-pane label=\"同步库存\" name=\"aync\">\r\n          <el-form\r\n      class=\"item-form\"\r\n      :rules=\"rules\"\r\n      :model=\"ayncFormData\"\r\n      label-width=\"100px\"\r\n      size=\"small\"\r\n      ref=\"ayncForm\"\r\n      inline\r\n    >\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-form-item prop=\"goodsOwner\" label=\"货主：\">\r\n            <!-- <el-select placeholder=\"请选择\" class=\"input-w\" v-model=\"ayncFormData.goodsOwner\">\r\n              <el-option\r\n                v-for=\"item in goodsOwnerOptions\"\r\n                :key=\"item.code\"\r\n                :label=\"item.name\"\r\n                :value=\"item.code\"\r\n              ></el-option>\r\n            </el-select> -->\r\n             <el-input class=\"input-w\" disabled placeholder=\"请输入内容\" v-model=\"name\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item prop=\"warehouseCode\" label=\"仓库：\">\r\n            <el-select placeholder=\"请选择\" class=\"input-w\" v-model=\"ayncFormData.warehouseCode\">\r\n              <el-option\r\n                v-for=\"item in warehouseOptions\"\r\n                :key=\"item.code\"\r\n                :label=\"item.name\"\r\n                :value=\"item.code\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item prop=\"productGoodsCode\" label=\"货品编码：\">\r\n            <el-input class=\"input-w\" placeholder=\"请输入内容\" v-model=\"ayncFormData.productGoodsCode\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n       \r\n      </el-row>\r\n    </el-form>\r\n        <el-button size=\"small\" @click=\"ayncForm('ayncForm')\" type=\"primary\">同步库存</el-button>\r\n      </el-tab-pane>\r\n      </el-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\n/**\r\n * { url: service + \"/xxxxxxx\", method: \"post\", form: true, auth: false }\r\n * url: \"\"\r\n * method: \"get\"   默认 post\r\n * form: true      默认 false\r\n * auth: true      默认 true\r\n * tip: true       默认 false\r\n */\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeName:'customize',\r\n      rules: {},\r\n      filtersData: {\r\n        _url: \"\",\r\n        _service: \"\",\r\n        _method: \"post\",\r\n        _form: false\r\n      },\r\n      params: [{ name: \"\", code: \"\" }],\r\n      serviceOptions: [\r\n        { name: \"order\", id: \"order-service\" },\r\n        { name: \"collocation\", id: \"collocation-service\" },\r\n        { name: \"content\", id: \"content-service\" },\r\n        { name: \"system\", id: \"system-service\" },\r\n        { name: \"product\", id: \"product-service\" },\r\n        { name: \"retail-store\", id: \"retail-store-service\" },\r\n        { name: \"user\", id: \"user-service\" }\r\n      ],\r\n      methodOptions: [\r\n        { name: \"get\" },\r\n        { name: \"post\" },\r\n        { name: \"put\" },\r\n        { name: \"delete\" }\r\n      ],\r\n      formOptions: [{ name: \"form\", id: true }, { name: \"json\", id: false }],\r\n      ayncFormData:{\r\n        goodsOwner:null,\r\n        warehouseCode:null,\r\n        productGoodsCode:null\r\n      },\r\n      name:'',\r\n      goodsOwnerOptions:[],\r\n      warehouseOptions:[],\r\n    };\r\n  },\r\n  created() {\r\n    this.getGoodsOwner();\r\n    this.getWarehouse();\r\n  },\r\n  methods: {\r\n    addContent() {\r\n      this.params.push({\r\n        code: \"\",\r\n        name: \"\"\r\n      });\r\n    },\r\n    //删除新增内容\r\n    removeDomain(item) {\r\n      let index = this.params.indexOf(item);\r\n      if (index !== -1) {\r\n        this.params.splice(index, 1);\r\n      }\r\n    },\r\n    //发送请求\r\n    submitForm() {\r\n      let param = this.params;\r\n      let paramName, paramCode;\r\n      let filter = this.filtersData;\r\n      let obj = new Object();\r\n\r\n      for (let i = 0; i < param.length; i++) {\r\n        paramName = !!param[i].name ? param[i].name : '';\r\n        paramCode = !!param[i].code ? param[i].code : '';\r\n        if(!!paramName){\r\n            obj[paramName] = paramCode;\r\n        }\r\n      }\r\n      console.log(obj);\r\n      this.request({\r\n          url:filter._service + '/'+filter._url,\r\n          method:filter._method,\r\n          form:filter._form\r\n      }\r\n          , obj)\r\n      .then(res =>{\r\n         this.$message.success('成功')\r\n      })\r\n    },\r\n    //同步库存新增\r\n    //获取货主\r\n    getGoodsOwner(){\r\n       this.request(this.api.system.goodsOwner_getByUserId)\r\n       .then(res =>{\r\n          console.log(res);\r\n           // this.goodsOwnerOptions=res;\r\n           this.name=res.name;\r\n           this.ayncFormData.goodsOwner=res.code;\r\n\r\n       })\r\n    },\r\n    //获取仓库\r\n    getWarehouse(){\r\n       this.request(this.api.system.warehouse_getListByUser)\r\n       .then(res =>{\r\n          //console.log(res);\r\n          this.warehouseOptions=res;\r\n      })\r\n     \r\n    },\r\n    //同步库存\r\n    ayncForm(){\r\n      this.request(this.api.product.productGoodsStock_synchronousStock,this.ayncFormData)\r\n      .then(res =>{\r\n         this.$message.success('同步成功')\r\n      })\r\n      .catch(err=>{\r\n        this.$message.error('同步失败');\r\n      })\r\n    },\r\n\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.item-padding{\r\n  padding: 20px\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/product/commodity"}]}