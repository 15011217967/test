{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\OC\\mechanism\\storeNum.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\OC\\mechanism\\storeNum.vue","mtime":1572415125270},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"storeNum\",\n  props: {\n    itemParam: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      classDialogVisible: false,\n      filtersData: {\n        code: \"\",\n        // 新增新增职位编码\n        name: \"\",\n        //职位名称\n        parentId: null,\n        //父级职位  已有职位选择 如果为1及职位则为NULL\n        valid: true // 使用状态\n\n      },\n      CategoryOptions: [],\n      //验证\n      rules: {\n        name: [{\n          required: true,\n          message: \"请输入职位名称\",\n          trigger: \"blur\"\n        }],\n        code: [{\n          required: true,\n          message: \"请输入职位编码\",\n          trigger: \"blur\"\n        }]\n      },\n      editDisabled: true,\n      //可编辑状态  除使用状态其他都不可编辑\n      showDisabled: true //查看时 使用状态不可编辑\n\n    };\n  },\n  methods: {\n    getValidOptions: function getValidOptions() {\n      var arr = [{\n        status_id: true,\n        status_name: \"使用中\"\n      }, {\n        status_id: false,\n        status_name: \"未使用\"\n      }];\n      return arr;\n    },\n    //初始化\n    positionDetailsPopupInit: function positionDetailsPopupInit() {\n      this.filtersData = {\n        code: \"\",\n        name: \"\",\n        type: \"\",\n        used: true\n      }; //对象还需初始化\n\n      var itemStatus = this.itemParam.type;\n\n      switch (itemStatus.toString()) {\n        case \"add\":\n          //新增\n          this.editDisabled = false;\n          this.showDisabled = false;\n          break;\n\n        case \"edit\":\n          //修改\n          this.editDisabled = true;\n          this.showDisabled = false;\n          this.getClassData();\n          break;\n\n        case \"show\":\n          //查看\n          this.editDisabled = true;\n          this.showDisabled = true;\n          this.getClassData();\n          break;\n      }\n\n      this.classDialogVisible = true;\n    },\n    //关闭\n    closeDialog: function closeDialog(formName) {\n      this.$refs[formName].resetFields(); //重置选项\n\n      this.classDialogVisible = false;\n    },\n    //保存表单\n    submitForm: function submitForm(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this.request(_this.api.user.position_get, _this.filtersData).then(function (data) {\n            // console.log(data)\n            _this.$message({\n              type: \"success\",\n              message: data.message\n            });\n\n            _this.closeDialog(formName);\n\n            _this.$emit(\"refreshItem\", \"刷新吧兄弟\");\n          });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    //获取列表数据\n    getClassData: function getClassData() {\n      var _this2 = this;\n\n      console.log(this.itemParam.id);\n      this.getAxios(\"USER\", \"/position/get\", {\n        id: this.itemParam.id\n      }).then(function (data) {\n        if (data.data) {\n          _this2.filtersData = data.data;\n        }\n      });\n    },\n    //修改表单\n    editForm: function editForm(formName) {\n      this.submitForm(formName);\n    }\n  }\n};",{"version":3,"sources":["storeNum.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-dialog\r\n    :title=\"itemParam.title\"\r\n    :visible.sync=\"classDialogVisible\"\r\n    class=\"alarmPopup\"\r\n    width=\"500px\"\r\n  >\r\n    <el-form\r\n      :model=\"filtersData\"\r\n      :rules=\"rules\"\r\n      label-width=\"100px\"\r\n      size=\"small\"\r\n      ref=\"filtersForm\"\r\n      inline\r\n    >\r\n      <el-form-item prop=\"code\" label=\"职位编码：\">\r\n        <el-input\r\n          placeholder=\"请输入内容\"\r\n          class=\"input-w\"\r\n          :disabled=\"editDisabled\"\r\n          v-model=\"filtersData.code\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"name\" label=\"职位名称：\">\r\n        <el-input\r\n          placeholder=\"请输入内容\"\r\n          class=\"input-w\"\r\n          :disabled=\"editDisabled\"\r\n          v-model=\"filtersData.name\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"jobDescribe\" label=\"职位描述：\">\r\n        <el-input\r\n          placeholder=\"请输入内容\"\r\n          class=\"input-w\"\r\n          :disabled=\"editDisabled\"\r\n          v-model=\"filtersData.jobDescribe\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"type\" label=\"职位类型：\">\r\n        <el-input\r\n          placeholder=\"请输入内容\"\r\n          class=\"input-w\"\r\n          :disabled=\"editDisabled\"\r\n          v-model=\"filtersData.type\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"used\" label=\"使用状态：\">\r\n        <el-select\r\n          class=\"input-w\"\r\n          placeholder=\"请选择\"\r\n          :disabled=\"showDisabled\"\r\n          v-model=\"filtersData.used\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in this.getValidOptions()\"\r\n            :key=\"item.status_id\"\r\n            :label=\"item.status_name\"\r\n            :value=\"item.status_id\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"item-right\">\r\n      <el-button size=\"small\" @click=\"closeDialog('filtersForm')\">取消</el-button>\r\n      <el-button\r\n        v-if=\"this.itemParam.type == 'add'\"\r\n        size=\"small\"\r\n        @click=\"submitForm('filtersForm')\"\r\n        type=\"primary\"\r\n      >确定</el-button>\r\n      <el-button\r\n        v-else-if=\"this.itemParam.type == 'edit'\"\r\n        size=\"small\"\r\n        @click=\"editForm('filtersForm')\"\r\n        type=\"primary\"\r\n      >修改</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"storeNum\",\r\n  props: {\r\n    itemParam: {\r\n      type: Object\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      classDialogVisible: false,\r\n      filtersData: {\r\n        code: \"\", // 新增新增职位编码\r\n        name: \"\", //职位名称\r\n        parentId: null, //父级职位  已有职位选择 如果为1及职位则为NULL\r\n        valid: true // 使用状态\r\n      },\r\n      CategoryOptions: [],\r\n      //验证\r\n      rules: {\r\n        name: [{ required: true, message: \"请输入职位名称\", trigger: \"blur\" }],\r\n        code: [{ required: true, message: \"请输入职位编码\", trigger: \"blur\" }]\r\n      },\r\n      editDisabled: true, //可编辑状态  除使用状态其他都不可编辑\r\n      showDisabled: true //查看时 使用状态不可编辑\r\n    };\r\n  },\r\n  methods: {\r\n    getValidOptions() {\r\n      let arr = [\r\n        {\r\n          status_id: true,\r\n          status_name: \"使用中\"\r\n        },\r\n        {\r\n          status_id: false,\r\n          status_name: \"未使用\"\r\n        }\r\n      ];\r\n      return arr;\r\n    },\r\n    //初始化\r\n    positionDetailsPopupInit() {\r\n      this.filtersData = {\r\n        code: \"\",\r\n        name: \"\",\r\n        type: \"\",\r\n        used: true\r\n      };\r\n      //对象还需初始化\r\n      let itemStatus = this.itemParam.type;\r\n      switch (itemStatus.toString()) {\r\n        case \"add\": //新增\r\n          this.editDisabled = false;\r\n          this.showDisabled = false;\r\n          break;\r\n        case \"edit\": //修改\r\n          this.editDisabled = true;\r\n          this.showDisabled = false;\r\n          this.getClassData();\r\n          break;\r\n        case \"show\": //查看\r\n          this.editDisabled = true;\r\n          this.showDisabled = true;\r\n          this.getClassData();\r\n          break;\r\n      }\r\n      this.classDialogVisible = true;\r\n    },\r\n    //关闭\r\n    closeDialog(formName) {\r\n      this.$refs[formName].resetFields(); //重置选项\r\n      this.classDialogVisible = false;\r\n    },\r\n    //保存表单\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.request(this.api.user.position_get, this.filtersData).then(\r\n            data => {\r\n              // console.log(data)\r\n              this.$message({\r\n                type: \"success\",\r\n                message: data.message\r\n              });\r\n              this.closeDialog(formName);\r\n              this.$emit(\"refreshItem\", \"刷新吧兄弟\");\r\n            }\r\n          );\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    //获取列表数据\r\n    getClassData() {\r\n      console.log(this.itemParam.id);\r\n      this.getAxios(\"USER\", \"/position/get\", { id: this.itemParam.id }).then(\r\n        data => {\r\n          if (data.data) {\r\n            this.filtersData = data.data;\r\n          }\r\n        }\r\n      );\r\n    },\r\n    //修改表单\r\n    editForm(formName) {\r\n      this.submitForm(formName);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n</style>\r\n"],"sourceRoot":"src/views/OC/mechanism"}]}