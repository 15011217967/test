{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\product\\custom_attrs\\supplier_support_details.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\product\\custom_attrs\\supplier_support_details.vue","mtime":1572415124053},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import _defineProperty from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find-index\";\nimport _toConsumableArray from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.regexp.to-string\";\n\nvar _components;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\r\n *制造商支持 新增 修改 查看 同一页面\r\n */\nimport MaterialDialog from \"@/components/customAttribute/material_dialog\";\nimport ReadyDadeDialog from \"@/components/customAttribute/ready_made_dialog\";\nimport TechnologyDialog from \"@/components/customAttribute/technology_dialog\";\nexport default {\n  data: function data() {\n    return {\n      filtersData: {\n        cateIdentifier: \"\",\n        manufacturerMeasurements: [],\n        //制造商量体数据\n        manufacturerProductionMaterials: [] //制造商原料数据\n\n      },\n      //标签切换默认\n      activeName: \"material\",\n      rules: {\n        //规则验证\n        code: [{\n          required: true,\n          message: \"请选择品牌编码\",\n          trigger: \"change\"\n        }],\n        name: [{\n          required: true,\n          message: \"请选择品牌名称\",\n          trigger: \"blur\"\n        }],\n        type: [{\n          required: true,\n          message: \"请选择品牌分类\",\n          trigger: \"blur\"\n        }]\n      },\n      editDisabled: false,\n      showDisabled: false,\n      materialTableListData: [],\n      //原料数据\n      technologyTableListData: [],\n      //工艺数据\n      readyMadeTableListData: [],\n      //成品数据\n      _type: \"\",\n      _id: \"\"\n    };\n  },\n  created: function created() {\n    //获取上页面传参\n    this.getQueryparams();\n  },\n  methods: {\n    //获取上页面参数\n    getQueryparams: function getQueryparams() {\n      var params = this.$route.query;\n      this._type = params._type;\n      this._id = params.id;\n      this.filtersData.cateId = params.cateId;\n      this.filtersData.cateName = params.cateName;\n      this.filtersData.cateIdentifier = params.cateIdentifier;\n      this.filtersData.fullCateName = params.fullCateName;\n      this.filtersData.manufacturerName = params.manufacturerName;\n      this.filtersData.manufacturerId = params.manufacturerId;\n      var itemStatus = this._type;\n\n      switch (itemStatus.toString()) {\n        case \"add\":\n          //新增\n          this.editDisabled = false;\n          this.showDisabled = false;\n          break;\n\n        case \"edit\":\n          //修改\n          this.editDisabled = true;\n          this.showDisabled = false;\n          this.getData();\n          break;\n\n        case \"show\":\n          //查看\n          this.editDisabled = true;\n          this.showDisabled = true;\n          this.getData();\n          break;\n      }\n    },\n    //获取数据\n    getData: function getData() {\n      var _this = this;\n\n      this.request(this.api.product.manufacturerProductionInformation_get, {\n        id: this._id\n      }).then(function (data) {\n        var _data = data;\n        _this.filtersData = JSON.parse(JSON.stringify(_data)); //循环找到原料工艺列表数据\n\n        var Materials = _data.manufacturerProductionMaterials;\n        var materialsTable = [],\n            technologyTable = [];\n\n        for (var i = 0; i < Materials.length; i++) {\n          if (Materials[i].type == 2) {\n            materialsTable.push(Materials[i]);\n          } else {\n            technologyTable.push(Materials[i]);\n          }\n        } //回显列表数据；\n\n\n        _this.materialTableListData = materialsTable;\n        _this.technologyTableListData = technologyTable;\n        _this.readyMadeTableListData = _data.manufacturerMeasurements;\n      });\n    },\n    //新增\n    submitAndEditForm: function submitAndEditForm() {\n      var _this2 = this;\n\n      if (this.materialTableListData.length <= 0) {\n        this.$message.error(\"原料数据不能为空\");\n        this.activeName = \"material\";\n        return false;\n      }\n\n      if (this.technologyTableListData.length <= 0) {\n        this.$message.error(\"工艺数据不能为空\");\n        this.activeName = \"technology\";\n        return false;\n      }\n\n      if (this.readyMadeTableListData.length <= 0) {\n        this.$message.error(\"成品数据不能为空\");\n        this.activeName = \"readyMade\";\n        return false;\n      } //处理量体\n\n\n      var filters = JSON.parse(JSON.stringify(this.filtersData));\n      var manufacturer = this.setSubmitData(this.readyMadeTableListData);\n      filters.manufacturerMeasurements = manufacturer;\n      var material = this.setSubmitData(this.materialTableListData, 2);\n      var technology = this.setSubmitData(this.technologyTableListData, 1);\n      filters.manufacturerProductionMaterials = [].concat(_toConsumableArray(material), _toConsumableArray(technology));\n\n      if (this._type == \"edit\") {\n        var mirrorFilters = JSON.parse(JSON.stringify(this.filtersData)); //镜像原料工艺\n\n        var mirrorMT = mirrorFilters.manufacturerProductionMaterials; //镜像成衣数据项\n\n        var mirrorMR = mirrorFilters.manufacturerMeasurements; //原料工艺\n\n        var MT = filters.manufacturerProductionMaterials; //成衣数据项\n\n        var MR = filters.manufacturerMeasurements;\n        var deleteMT = [],\n            deleteMr = [];\n\n        for (var i = 0; i < mirrorMT.length; i++) {\n          var flag = false;\n\n          for (var k = 0; k < MT.length; k++) {\n            if (mirrorMT[i].materialId == MT[k].materialId && MT[k].id != null) {\n              flag = true;\n            }\n          }\n\n          if (!flag) {\n            //此处是已删除的数据 但不正确 还要知道当前数据是不是删除后又新增的\n            mirrorMT[i].status = 9;\n            deleteMT.push(mirrorMT[i]);\n          }\n        }\n\n        for (var _i = 0; _i < mirrorMR.length; _i++) {\n          var _flag = false;\n\n          for (var _k = 0; _k < MR.length; _k++) {\n            if (mirrorMR[_i].measurementId == MR[_k].measurementId && MR[_k].id != null) {\n              _flag = true;\n            }\n          }\n\n          if (!_flag) {\n            //此处是已删除的数据 但不正确 还要知道当前数据是不是删除后又新增的\n            mirrorMR[_i].status = 9;\n            deleteMr.push(mirrorMR[_i]);\n          }\n        }\n\n        filters.manufacturerProductionMaterials = [].concat(_toConsumableArray(MT), deleteMT);\n        filters.manufacturerMeasurements = [].concat(_toConsumableArray(MR), deleteMr);\n      }\n\n      this.request(this.api.product.manufacturerProductionInformation_save, filters).then(function (data) {\n        _this2.$message.success(\"保存成功\");\n\n        setTimeout(function () {\n          _this2.routerback();\n        }, 500);\n      });\n    },\n    setSubmitData: function setSubmitData(list, type) {\n      var params = this.filtersData;\n\n      for (var i = 0; i < list.length; i++) {\n        list[i].cateId = params.cateId;\n        list[i].cateName = params.cateName;\n        list[i].cateIdentifier = params.cateIdentifier;\n        list[i].fullCateName = params.fullCateName;\n        list[i].manufacturerName = params.manufacturerName;\n        list[i].manufacturerId = params.manufacturerId;\n\n        if (type) {\n          list[i].type = type;\n        }\n      }\n\n      return list;\n    },\n\n    /**添加原料\r\n     * 判断当前状态是修改还是新增\r\n     * 当状态是修改时 把数据做个镜像发进去\r\n     * 子级处理好的返回父级\r\n     */\n    openAddMaterial: function openAddMaterial() {\n      this.$refs.materialDialog.popupInit(this.filtersData.cateIdentifier, \"edit\", _toConsumableArray(this.materialTableListData));\n    },\n    //原料添加成功后返回的数据\n    getSubMaterialList: function getSubMaterialList(list) {\n      this.materialTableListData = list;\n    },\n    //添加工艺\n    openAddTechnology: function openAddTechnology() {\n      this.$refs.technologyDialog.popupInit(this.filtersData.cateIdentifier, \"edit\", _toConsumableArray(this.technologyTableListData));\n    },\n    getSubTechnologyList: function getSubTechnologyList(list) {\n      this.technologyTableListData = list;\n    },\n    //添加成衣数据\n    openAddReadyMade: function openAddReadyMade() {\n      this.$refs.readymadeDialog.popupInit(this.filtersData.cateId, \"edit\", _toConsumableArray(this.readyMadeTableListData));\n    },\n    getSubReadyMadeList: function getSubReadyMadeList(list) {\n      this.readyMadeTableListData = list;\n    },\n    //统一删除\n    removeTableItem: function removeTableItem(cateName, row) {\n      switch (cateName) {\n        case \"material\":\n          this.deleteList(cateName, this.materialTableListData, row);\n          break;\n\n        case \"technology\":\n          this.deleteList(cateName, this.technologyTableListData, row);\n          break;\n\n        default:\n          //readyMade\n          this.deleteList(cateName, this.readyMadeTableListData, row);\n          break;\n      }\n    },\n    deleteList: function deleteList(cateName, list, row) {\n      var index = -1;\n\n      if (cateName == \"readyMade\") {\n        index = list.findIndex(function (item) {\n          return item.measurementId == row.measurementId;\n        });\n      } else {\n        index = list.findIndex(function (item) {\n          return item.materialId == row.materialId;\n        });\n      }\n\n      if (index != -1) {\n        list.splice(index, 1);\n      }\n    },\n    //后退\n    routerback: function routerback() {\n      if (this._type == \"edit\") {\n        this.$router.go(-1);\n      } else if (this._type == \"add\") {\n        this.$router.go(-2);\n      } else {\n        this.$router.go(-1);\n      }\n    }\n  },\n  components: (_components = {}, _defineProperty(_components, MaterialDialog.name, MaterialDialog), _defineProperty(_components, ReadyDadeDialog.name, ReadyDadeDialog), _defineProperty(_components, TechnologyDialog.name, TechnologyDialog), _components)\n};",{"version":3,"sources":["supplier_support_details.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"bg-fff item-margin\">\r\n    <el-form\r\n      class=\"item-form\"\r\n      :rules=\"rules\"\r\n      :model=\"filtersData\"\r\n      label-width=\"100px\"\r\n      size=\"small\"\r\n      ref=\"filtersForm\"\r\n      inline\r\n    >\r\n      <el-row>\r\n        <el-tabs v-model=\"activeName\" class=\"basic-wrap\">\r\n          <el-tab-pane label=\"支持原料\" name=\"material\">\r\n            <!-- 原料table -->\r\n            <div class=\"item-cont\">\r\n              <el-button size=\"small\" :disabled=\"showDisabled\" @click=\"openAddMaterial\">添加原料</el-button>\r\n              <span class=\"item-sub-title\">\r\n                已选&nbsp;\r\n                <em>{{materialTableListData.length}}</em>&nbsp;项原料\r\n              </span>\r\n            </div>\r\n            <div class=\"item-table\">\r\n              <el-table\r\n                :data=\"materialTableListData\"\r\n                stripe\r\n                empty-text=\"暂无数据\"\r\n                header-align=\"center\"\r\n                header-row-class-name=\"item-table-header\"\r\n                :highlight-current-row=\"true\"\r\n              >\r\n                <el-table-column prop=\"code\" align=\"center\" label=\"标准编码\" min-width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"name\" align=\"center\" label=\"属性名称\" min-width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"materialCateName\" align=\"center\" label=\"分类\" min-width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"image\" align=\"center\" label=\"图片\" width=\"80\">\r\n                  <template slot-scope=\"scope\">\r\n                    <img class=\"table-img-wh\" :src=\"scope.row.image\" alt>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"unitPrice\" align=\"center\" label=\"销售价格\" min-width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"sourceCode\" align=\"center\" label=\"外部编码\" min-width=\"120\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-input\r\n                      :disabled=\"showDisabled\"\r\n                      v-model=\"scope.row.sourceCode\"\r\n                      placeholder=\"请输入\"\r\n                    ></el-input>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                  fixed=\"right\"\r\n                  label-class-name=\"text-center\"\r\n                  class-name=\"text-center\"\r\n                  align=\"center\"\r\n                  label=\"操作\"\r\n                  width=\"50\"\r\n                >\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button\r\n                      v-if=\"_type != 'show'\"\r\n                      @click=\"removeTableItem('material',scope.row)\"\r\n                      type=\"text\"\r\n                      size=\"small\"\r\n                    >删除</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <!-- 原料table end  -->\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"支持工艺\" name=\"technology\">\r\n            <!-- 工艺table  -->\r\n            <div class=\"item-cont\">\r\n              <el-button size=\"small\" :disabled=\"showDisabled\" @click=\"openAddTechnology\">添加工艺</el-button>\r\n              <span class=\"item-sub-title\">\r\n                已选&nbsp;\r\n                <em>{{technologyTableListData.length}}</em>&nbsp;项工艺\r\n              </span>\r\n            </div>\r\n            <div class=\"item-table\">\r\n              <el-table\r\n                :data=\"technologyTableListData\"\r\n                stripe\r\n                empty-text=\"暂无数据\"\r\n                header-align=\"center\"\r\n                header-row-class-name=\"item-table-header\"\r\n                :highlight-current-row=\"true\"\r\n              >\r\n                <el-table-column prop=\"code\" align=\"center\" label=\"标准编码\" min-width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"materialCateName\" align=\"center\" label=\"分类\" min-width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"name\" align=\"center\" label=\"原料名称\" min-width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"image\" align=\"center\" label=\"图片\" width=\"80\">\r\n                  <template slot-scope=\"scope\">\r\n                    <img class=\"table-img-wh\" :src=\"scope.row.image\" alt>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"unitPrice\" align=\"center\" label=\"销售价格\" min-width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"sourceCode\" align=\"center\" label=\"外部编码\" min-width=\"120\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-input\r\n                      :disabled=\"showDisabled\"\r\n                      v-model=\"scope.row.sourceCode\"\r\n                      placeholder=\"请输入\"\r\n                    ></el-input>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                  fixed=\"right\"\r\n                  label-class-name=\"text-center\"\r\n                  class-name=\"text-center\"\r\n                  align=\"center\"\r\n                  label=\"操作\"\r\n                  width=\"50\"\r\n                >\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button\r\n                      v-if=\"_type != 'show'\"\r\n                      @click=\"removeTableItem('technology',scope.row)\"\r\n                      type=\"text\"\r\n                      size=\"small\"\r\n                    >删除</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <!-- 工艺table   End-->\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"成衣数据项\" name=\"readyMade\">\r\n            <!-- 成衣table  -->\r\n            <div class=\"item-cont\">\r\n              <el-button size=\"small\" :disabled=\"showDisabled\" @click=\"openAddReadyMade\">添加成衣测量项</el-button>\r\n              <span class=\"item-sub-title\">\r\n                已选&nbsp;\r\n                <em>{{readyMadeTableListData.length}}</em>&nbsp;项测量项\r\n              </span>\r\n            </div>\r\n            <div class=\"item-table\">\r\n              <el-table\r\n                :data=\"readyMadeTableListData\"\r\n                stripe\r\n                empty-text=\"暂无数据\"\r\n                header-align=\"center\"\r\n                header-row-class-name=\"item-table-header\"\r\n                :highlight-current-row=\"true\"\r\n              >\r\n                <el-table-column prop=\"name\" align=\"center\" label=\"名称\" min-width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"fullCateName\" align=\"center\" label=\"分类\" min-width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"image\" align=\"center\" label=\"图片\" min-width=\"80\">\r\n                  <template slot-scope=\"scope\">\r\n                    <img class=\"table-img-wh\" :src=\"scope.row.image\" alt>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                  fixed=\"right\"\r\n                  label-class-name=\"text-center\"\r\n                  class-name=\"text-center\"\r\n                  align=\"center\"\r\n                  label=\"操作\"\r\n                  width=\"50\"\r\n                >\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button\r\n                      v-if=\"_type != 'show'\"\r\n                      @click=\"removeTableItem('readyMade',scope.row)\"\r\n                      type=\"text\"\r\n                      size=\"small\"\r\n                    >删除</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <!-- 成衣table   End-->\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-row>\r\n    </el-form>\r\n    <div class=\"item-footer\">\r\n      <el-button\r\n        v-if=\"this._type == 'add'\"\r\n        size=\"small\"\r\n        @click=\"submitAndEditForm()\"\r\n        type=\"primary\"\r\n      >确认新增</el-button>\r\n      <el-button\r\n        v-else-if=\"this._type == 'edit'\"\r\n        size=\"small\"\r\n        @click=\"submitAndEditForm()\"\r\n        type=\"primary\"\r\n      >修改</el-button>\r\n      <el-button size=\"small\" @click=\"routerback()\">取消</el-button>\r\n    </div>\r\n    <!-- 原料 -->\r\n    <tp-material-dialog @setParentMaterialData=\"getSubMaterialList\" ref=\"materialDialog\"></tp-material-dialog>\r\n    <!-- 工艺 -->\r\n    <tp-technology-dialog @setParentTechnologyData=\"getSubTechnologyList\" ref=\"technologyDialog\"></tp-technology-dialog>\r\n    <!-- 成衣数据 -->\r\n    <tp-readymade-dialog @setParentReadyMadeData=\"getSubReadyMadeList\" ref=\"readymadeDialog\"></tp-readymade-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n/**\r\n *制造商支持 新增 修改 查看 同一页面\r\n */\r\nimport MaterialDialog from \"@/components/customAttribute/material_dialog\";\r\nimport ReadyDadeDialog from \"@/components/customAttribute/ready_made_dialog\";\r\nimport TechnologyDialog from \"@/components/customAttribute/technology_dialog\";\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      filtersData: {\r\n        cateIdentifier: \"\",\r\n        manufacturerMeasurements: [], //制造商量体数据\r\n        manufacturerProductionMaterials: [] //制造商原料数据\r\n      },\r\n      //标签切换默认\r\n      activeName: \"material\",\r\n      rules: {\r\n        //规则验证\r\n        code: [\r\n          { required: true, message: \"请选择品牌编码\", trigger: \"change\" }\r\n        ],\r\n        name: [{ required: true, message: \"请选择品牌名称\", trigger: \"blur\" }],\r\n        type: [{ required: true, message: \"请选择品牌分类\", trigger: \"blur\" }]\r\n      },\r\n      editDisabled: false,\r\n      showDisabled: false,\r\n      materialTableListData: [], //原料数据\r\n      technologyTableListData: [], //工艺数据\r\n      readyMadeTableListData: [], //成品数据\r\n      _type: \"\",\r\n      _id: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    //获取上页面传参\r\n    this.getQueryparams();\r\n  },\r\n  methods: {\r\n    //获取上页面参数\r\n    getQueryparams() {\r\n      let params = this.$route.query;\r\n      this._type = params._type;\r\n      this._id = params.id;\r\n      this.filtersData.cateId = params.cateId;\r\n      this.filtersData.cateName = params.cateName;\r\n      this.filtersData.cateIdentifier = params.cateIdentifier;\r\n      this.filtersData.fullCateName = params.fullCateName;\r\n      this.filtersData.manufacturerName = params.manufacturerName;\r\n      this.filtersData.manufacturerId = params.manufacturerId;\r\n      let itemStatus = this._type;\r\n      switch (itemStatus.toString()) {\r\n        case \"add\": //新增\r\n          this.editDisabled = false;\r\n          this.showDisabled = false;\r\n          break;\r\n        case \"edit\": //修改\r\n          this.editDisabled = true;\r\n          this.showDisabled = false;\r\n          this.getData();\r\n          break;\r\n        case \"show\": //查看\r\n          this.editDisabled = true;\r\n          this.showDisabled = true;\r\n          this.getData();\r\n          break;\r\n      }\r\n    },\r\n    //获取数据\r\n    getData() {\r\n      this.request(this.api.product.manufacturerProductionInformation_get, {\r\n        id: this._id\r\n      }).then(data => {\r\n        let _data = data;\r\n        this.filtersData =JSON.parse(JSON.stringify(_data));\r\n        //循环找到原料工艺列表数据\r\n        let Materials = _data.manufacturerProductionMaterials;\r\n        let materialsTable = [],\r\n          technologyTable = [];\r\n        for (let i = 0; i < Materials.length; i++) {\r\n          if (Materials[i].type == 2) {\r\n            materialsTable.push(Materials[i]);\r\n          } else {\r\n            technologyTable.push(Materials[i]);\r\n          }\r\n        }\r\n        //回显列表数据；\r\n        this.materialTableListData = materialsTable;\r\n        this.technologyTableListData = technologyTable;\r\n        this.readyMadeTableListData = _data.manufacturerMeasurements;\r\n      });\r\n    },\r\n    //新增\r\n    submitAndEditForm() {\r\n      if (this.materialTableListData.length <= 0) {\r\n        this.$message.error(\"原料数据不能为空\");\r\n        this.activeName = \"material\";\r\n        return false;\r\n      }\r\n      if (this.technologyTableListData.length <= 0) {\r\n        this.$message.error(\"工艺数据不能为空\");\r\n        this.activeName = \"technology\";\r\n        return false;\r\n      }\r\n      if (this.readyMadeTableListData.length <= 0) {\r\n        this.$message.error(\"成品数据不能为空\");\r\n        this.activeName = \"readyMade\";\r\n        return false;\r\n      }\r\n      //处理量体\r\n      let filters = JSON.parse(JSON.stringify(this.filtersData));\r\n      let manufacturer = this.setSubmitData(this.readyMadeTableListData);\r\n      filters.manufacturerMeasurements = manufacturer;\r\n      let material = this.setSubmitData(this.materialTableListData, 2);\r\n      let technology = this.setSubmitData(this.technologyTableListData, 1);\r\n      filters.manufacturerProductionMaterials = [...material, ...technology];\r\n      if (this._type == \"edit\") {\r\n        let mirrorFilters =JSON.parse(JSON.stringify(this.filtersData));\r\n        //镜像原料工艺\r\n        let mirrorMT = mirrorFilters.manufacturerProductionMaterials;\r\n        //镜像成衣数据项\r\n        let mirrorMR = mirrorFilters.manufacturerMeasurements;\r\n        //原料工艺\r\n        let MT = filters.manufacturerProductionMaterials;\r\n        //成衣数据项\r\n        let MR = filters.manufacturerMeasurements;\r\n        let deleteMT = [],\r\n          deleteMr = [];\r\n        for (let i = 0; i < mirrorMT.length; i++) {\r\n          let flag = false;\r\n          for (let k = 0; k < MT.length; k++) {\r\n            if (\r\n              mirrorMT[i].materialId == MT[k].materialId &&\r\n              MT[k].id != null\r\n            ) {\r\n              flag = true;\r\n            }\r\n          }\r\n          if (!flag) {\r\n            //此处是已删除的数据 但不正确 还要知道当前数据是不是删除后又新增的\r\n            mirrorMT[i].status = 9;\r\n            deleteMT.push(mirrorMT[i]);\r\n          }\r\n        }\r\n        for (let i = 0; i < mirrorMR.length; i++) {\r\n          let flag = false;\r\n          for (let k = 0; k < MR.length; k++) {\r\n            if (\r\n              mirrorMR[i].measurementId == MR[k].measurementId &&\r\n              MR[k].id != null\r\n            ) {\r\n              flag = true;\r\n            }\r\n          }\r\n          if (!flag) {\r\n            //此处是已删除的数据 但不正确 还要知道当前数据是不是删除后又新增的\r\n            mirrorMR[i].status = 9;\r\n            deleteMr.push(mirrorMR[i]);\r\n          }\r\n        }\r\n        filters.manufacturerProductionMaterials = [...MT, ...deleteMT];\r\n        filters.manufacturerMeasurements = [...MR, ...deleteMr];\r\n      }\r\n      this.request(\r\n        this.api.product.manufacturerProductionInformation_save,\r\n        filters\r\n      ).then(data => {\r\n        this.$message.success(\"保存成功\");\r\n        setTimeout(() => {\r\n          this.routerback();\r\n        }, 500);\r\n      });\r\n    },\r\n    setSubmitData(list, type) {\r\n      let params = this.filtersData;\r\n      for (let i = 0; i < list.length; i++) {\r\n        list[i].cateId = params.cateId;\r\n        list[i].cateName = params.cateName;\r\n        list[i].cateIdentifier = params.cateIdentifier;\r\n        list[i].fullCateName = params.fullCateName;\r\n        list[i].manufacturerName = params.manufacturerName;\r\n        list[i].manufacturerId = params.manufacturerId;\r\n        if (type) {\r\n          list[i].type = type;\r\n        }\r\n      }\r\n      return list;\r\n    },\r\n    /**添加原料\r\n     * 判断当前状态是修改还是新增\r\n     * 当状态是修改时 把数据做个镜像发进去\r\n     * 子级处理好的返回父级\r\n     */\r\n    openAddMaterial() {\r\n      this.$refs.materialDialog.popupInit(\r\n        this.filtersData.cateIdentifier,\r\n        \"edit\",\r\n        [...this.materialTableListData]\r\n      );\r\n    },\r\n    //原料添加成功后返回的数据\r\n    getSubMaterialList(list) {\r\n      this.materialTableListData = list;\r\n    },\r\n    //添加工艺\r\n    openAddTechnology() {\r\n      this.$refs.technologyDialog.popupInit(\r\n        this.filtersData.cateIdentifier,\r\n        \"edit\",\r\n        [...this.technologyTableListData]\r\n      );\r\n    },\r\n    getSubTechnologyList(list) {\r\n      this.technologyTableListData = list;\r\n    },\r\n    //添加成衣数据\r\n    openAddReadyMade() {\r\n      this.$refs.readymadeDialog.popupInit(\r\n        this.filtersData.cateId,\r\n        \"edit\",\r\n        [...this.readyMadeTableListData]\r\n      );\r\n    },\r\n    getSubReadyMadeList(list) {\r\n      this.readyMadeTableListData = list;\r\n    },\r\n    //统一删除\r\n    removeTableItem(cateName, row) {\r\n      switch (cateName) {\r\n        case \"material\":\r\n          this.deleteList(cateName, this.materialTableListData, row);\r\n          break;\r\n        case \"technology\":\r\n          this.deleteList(cateName, this.technologyTableListData, row);\r\n          break;\r\n        default:\r\n          //readyMade\r\n          this.deleteList(cateName, this.readyMadeTableListData, row);\r\n          break;\r\n      }\r\n    },\r\n    deleteList(cateName, list, row) {\r\n      let index = -1;\r\n      if (cateName == \"readyMade\") {\r\n        index = list.findIndex(item => item.measurementId == row.measurementId);\r\n      } else {\r\n        index = list.findIndex(item => item.materialId == row.materialId);\r\n      }\r\n      if (index != -1) {\r\n        list.splice(index, 1);\r\n      }\r\n    },\r\n    //后退\r\n    routerback() {\r\n      if (this._type == \"edit\") {\r\n        this.$router.go(-1);\r\n      } else if (this._type == \"add\") {\r\n        this.$router.go(-2);\r\n      } else {\r\n        this.$router.go(-1);\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    [MaterialDialog.name]: MaterialDialog,\r\n    [ReadyDadeDialog.name]: ReadyDadeDialog,\r\n    [TechnologyDialog.name]: TechnologyDialog\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.item-sub-title {\r\n  margin-left: 20px;\r\n  em {\r\n    color: red;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/product/custom_attrs"}]}