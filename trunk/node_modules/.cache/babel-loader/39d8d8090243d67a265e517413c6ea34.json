{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\market\\discount\\discount_manage_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\market\\discount\\discount_manage_list.vue","mtime":1574160265399},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { getToken } from '@/utils/auth';\nimport codeSet from '@/components/codeSet';\nimport treeDept from '@/components/treeDept';\nimport { filter } from 'minimatch';\nimport { get } from 'http';\nvar token = getToken();\nexport default {\n  name: 'discount_manage_list',\n  data: function data() {\n    return {\n      // 折扣列表\n      discountData: [],\n      data_obj: {},\n      // 折扣类型\n      discountType: ['预约折扣', '阶梯折扣', '单品折扣'],\n      // 门店列表\n      storeList: {},\n      // 检索\n      filtersData: {\n        pageIndex: 1,\n        // 当前页码\n        pageSize: 10,\n        // 每页数量\n        type: '',\n        // 门店类型\n        storeName: '' // 门店名称\n\n      }\n    };\n  },\n  created: function created() {\n    var that = this;\n    this.getStoreList();\n    this.marketingMiddleground_discountList(); // 获取折扣列表\n  },\n  activated: function activated() {\n    this.marketingMiddleground_discountList();\n  },\n  methods: {\n    /**\r\n     * 删除折扣\r\n     */\n    removeDiscount: function removeDiscount(item) {\n      var _this = this;\n\n      this.$confirm('确定删除吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        switch (item.type) {\n          case 0:\n            _this.request(_this.api.market.marketingMiddleground_deleteDiscountSetting, {\n              id: item.discountId\n            }).then(function (res) {\n              _this.marketingMiddleground_discountList();\n\n              _this.warn('删除成功!');\n            });\n\n            break;\n\n          case 1:\n            _this.request(_this.api.market.marketingMiddleground_deleteDiscountParameterS, {\n              id: item.discountId\n            }).then(function (res) {\n              _this.marketingMiddleground_discountList();\n\n              _this.warn('删除成功!');\n            });\n\n            break;\n\n          case 2:\n            _this.request(_this.api.market.marketingMiddleground_deleteSingleProductDiscount, {\n              id: item.discountId\n            }).then(function (res) {\n              _this.marketingMiddleground_discountList();\n\n              _this.warn('删除成功!');\n            });\n\n            break;\n        }\n      }).catch(function () {\n        _this.warn('取消删除!', 'info');\n      });\n    },\n\n    /**\r\n     * 查询门店列表\r\n     */\n    getStoreList: function getStoreList() {\n      var that = this;\n      this.request(that.api.store.storeBasic_list, {\n        pricingPower: 0\n      }, true).then(function (res) {\n        that.storeList = res;\n      });\n    },\n\n    /**\r\n     * 提示\r\n     * @param { String } message 提示文案\r\n     * @param { String } type 提示类型\r\n     */\n    warn: function warn(message, type) {\n      this.$message({\n        message: message,\n        type: type || 'success'\n      });\n    },\n\n    /**  \r\n     * 编辑\r\n     * @param { Object } item 当前对象\r\n     * @param { Boolean } isRead 是否可对写\r\n     * @property { Boolean }isEcho 是否是编辑\r\n     * @return { Object } Obj 返回对象\r\n     */\n    timeRedact: function timeRedact(item) {\n      var Obj = {};\n      this.href('market/discount/discount_order_edit', {\n        isEdit: true,\n        discountId: item.discountId,\n        type: item.type\n      });\n    },\n\n    /**  \r\n    * 快速创建\r\n    * @param { Object } item 当前对象\r\n    * @param { Boolean } isRead 是否可对写\r\n    * @property { Boolean }isEcho 是否是编辑\r\n    * @return { Object } Obj 返回对象\r\n    */\n    fastCreate: function fastCreate(item) {\n      var Obj = {};\n      this.href('market/discount/discount_order_add', {\n        isFastCreate: true,\n        discountId: item.discountId,\n        type: item.type\n      });\n    },\n\n    /**\r\n     * 获取折扣列表\r\n     */\n    marketingMiddleground_discountList: function marketingMiddleground_discountList() {\n      var _this2 = this;\n\n      this.request(this.api.market.marketingMiddleground_discountList, this.filtersData).then(function (res) {\n        _this2.discountData = res;\n      });\n    },\n\n    /**\r\n     * 跳转工单详情\r\n     */\n    href: function href(routeName, param) {\n      this.$router.push({\n        path: '/' + routeName,\n        query: param\n      });\n    },\n\n    /**\r\n     * 模糊搜索\r\n     */\n    handleSearch: function handleSearch() {\n      this.filtersData.pageIndex = 1;\n      this.filtersData.storeName = this.filtersData.storeName.replace(/(^\\s)|(\\s$)/g, '');\n      this.marketingMiddleground_discountList();\n    },\n\n    /**\r\n     * 搜索重置\r\n     */\n    handleResetFilters: function handleResetFilters() {\n      Object.assign(this.filtersData, {\n        pageIndex: 1,\n        // 当前页码\n        pageSize: 10,\n        // 每页数量\n        type: '',\n        // 门店类型\n        storeName: '' // 门店名称\n\n      });\n    },\n\n    /**\r\n     * 点击页数\r\n     * @param { Number } pageIndex 当前页\r\n     */\n    handleCurrentChange: function handleCurrentChange(pageIndex) {\n      this.filtersData.pageIndex = pageIndex;\n      this.marketingMiddleground_discountList();\n    },\n\n    /**\r\n     *  选择每页多少条数\r\n     *  @param { Number } pageSize 每页条数\r\n     */\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.filtersData.pageSize = pageSize;\n      this.marketingMiddleground_discountList();\n    }\n  },\n  components: {\n    codeSet: codeSet,\n    treeDept: treeDept\n  }\n};",{"version":3,"sources":["discount_manage_list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n   <div>\r\n      <!-- 模糊搜索 -->\r\n      <div class=\"item-margin\">\r\n         <el-form\r\n            class=\"item-form\"\r\n            size=\"small\"\r\n            :inline=\"true\"\r\n            :model=\"filtersData\">\r\n            <!-- 模糊查询 -->\r\n            <el-form-item label=\"折扣类型：\">\r\n               <el-select v-model=\"filtersData.type\" clearable placeholder=\"请选择\">\r\n                  <el-option v-for=\"(item, index) in discountType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\r\n               </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"适用门店：\" prop=\"storeId\">\r\n               <el-select \r\n               clearable \r\n               filterable \r\n               v-model=\"filtersData.storeName\" \r\n               class=\"el-input-short\">\r\n               <el-option v-for=\"(item, index) in storeList.data\" :key=\"index\" :label=\"item.name\" :value=\"item.name\"></el-option>\r\n               </el-select>\r\n            </el-form-item>\r\n            <!-- 搜索，重置 -->\r\n            <el-form-item>\r\n               <el-button size=\"small\" @click=\"handleSearch\" type=\"primary\" plain>搜索</el-button>\r\n               <el-button size=\"small\" @click=\"handleResetFilters\">重置</el-button>\r\n            </el-form-item>\r\n         </el-form>\r\n      </div>\r\n      <!-- 模糊搜索 -->\r\n      <!-- 列表 -->\r\n      <div class=\"box\">\r\n         <el-button size=\"small\" type=\"primary\" class=\"ml-20 mt-24\" @click=\"href('market/discount/discount_order_add')\">创建折扣</el-button>\r\n         <el-table\r\n               class=\"mt-20\"\r\n            :data=\"discountData.data\"\r\n            stripe\r\n            empty-text=\"暂无数据\"\r\n            header-align=\"center\"\r\n            header-row-class-name=\"item-table-header\"\r\n            :highlight-current-row=\"true\">\r\n            <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"折扣类型\" min-width=\"100\">\r\n               <template  slot-scope=\"scope\">{{ discountType[scope.row.type] }}</template>\r\n            </el-table-column>\r\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"折扣力度\" min-width=\"100\">\r\n               <template  slot-scope=\"scope\">{{ scope.row.discountValueStr }}</template>\r\n            </el-table-column>\r\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"适用门店\" min-width=\"100\">\r\n               <template  slot-scope=\"scope\">{{ scope.row.storeName  }}</template>\r\n            </el-table-column>\r\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"适用范围\" min-width=\"100\">\r\n               <template  slot-scope=\"scope\">{{ scope.row.scope  }}</template>\r\n            </el-table-column>\r\n            <!-- 操作 -->\r\n            <el-table-column\r\n               fixed=\"right\"\r\n               label-class-name=\"text-center\"\r\n               class-name=\"text-center\"\r\n               align=\"center\"\r\n               label=\"操作\"\r\n               width=\"180\">\r\n               <template slot-scope=\"scope\">\r\n                  <el-button type=\"text\" size=\"small\" @click=\"fastCreate(scope.row)\">快速创建</el-button>\r\n                  <el-button type=\"text\" size=\"small\" @click=\"timeRedact(scope.row)\">修改</el-button>\r\n                  <el-button type=\"text\" size=\"small\" @click=\"removeDiscount(scope.row)\">删除</el-button>\r\n               </template>\r\n            </el-table-column>\r\n         </el-table>\r\n         <div class=\"pagination mt-10 mb-20\">\r\n            <!-- 分页 -->\r\n            <el-pagination\r\n               class=\"mr-20\"\r\n               @size-change=\"handleSizeChange\"\r\n               @current-change=\"handleCurrentChange\"\r\n               :current-page=\"filtersData.pageIndex\"\r\n               :page-sizes=\"[10,20,30,40,50]\"\r\n               :page-size=\"filtersData.pageSize\"\r\n               layout=\"total, sizes, prev, pager, next, jumper\"\r\n               :total=\"discountData.totalCount\"\r\n            ></el-pagination>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</template>\r\n<!-- 工单池 -->\r\n<script>\r\nimport axios from 'axios'\r\nimport {getToken} from '@/utils/auth'\r\nimport codeSet from '@/components/codeSet'\r\nimport treeDept from '@/components/treeDept'\r\nimport { filter } from 'minimatch';\r\nimport { get } from 'http';\r\n\r\nlet token=getToken()\r\n\r\nexport default {\r\n   name:'discount_manage_list',\r\n   data() {\r\n      return{\r\n         // 折扣列表\r\n         discountData:[],\r\n         data_obj:{},\r\n         // 折扣类型\r\n         discountType:[\r\n            '预约折扣',\r\n            '阶梯折扣',\r\n            '单品折扣'\r\n         ],\r\n         // 门店列表\r\n         storeList:{},\r\n         // 检索\r\n         filtersData:{\r\n            pageIndex: 1,// 当前页码\r\n            pageSize: 10,// 每页数量\r\n            type:'',// 门店类型\r\n            storeName:'' // 门店名称\r\n         }\r\n      }\r\n   },\r\n   created() {\r\n      const that = this;\r\n      this.getStoreList();\r\n      this.marketingMiddleground_discountList();// 获取折扣列表\r\n   },\r\n   activated() {\r\n      this.marketingMiddleground_discountList();\r\n   },\r\n   methods: {\r\n      /**\r\n       * 删除折扣\r\n       */\r\n      removeDiscount(item) {\r\n         this.$confirm('确定删除吗？', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n         }).then(() => {\r\n            switch(item.type) {\r\n               case 0:\r\n                  this.request(\r\n                     this.api.market.marketingMiddleground_deleteDiscountSetting,\r\n                     {\r\n                        id:item.discountId\r\n                     }     \r\n                  ).then(res => {\r\n                     this.marketingMiddleground_discountList();\r\n                     this.warn('删除成功!');\r\n                  });\r\n                  break;\r\n               case 1:\r\n                  this.request(\r\n                     this.api.market.marketingMiddleground_deleteDiscountParameterS,\r\n                     {\r\n                        id:item.discountId\r\n                     }     \r\n                  ).then(res => {\r\n                     this.marketingMiddleground_discountList();\r\n                     this.warn('删除成功!');\r\n                  });\r\n                  break;\r\n               case 2:\r\n                  this.request(\r\n                     this.api.market.marketingMiddleground_deleteSingleProductDiscount,\r\n                     {\r\n                        id:item.discountId\r\n                     }     \r\n                  ).then(res => {\r\n                     this.marketingMiddleground_discountList();\r\n                     this.warn('删除成功!');\r\n                  });\r\n                  break;\r\n            }\r\n         }).catch(() => {\r\n            this.warn('取消删除!','info');\r\n         });\r\n      },\r\n      /**\r\n       * 查询门店列表\r\n       */\r\n      getStoreList() {\r\n         const that = this;\r\n\r\n         this.request(\r\n         that.api.store.storeBasic_list,\r\n         {\r\n            pricingPower:0\r\n         },\r\n         true\r\n         ).then(res => {\r\n            that.storeList = res;\r\n         });\r\n      },\r\n      /**\r\n       * 提示\r\n       * @param { String } message 提示文案\r\n       * @param { String } type 提示类型\r\n       */\r\n      warn(message, type) {\r\n         this.$message({\r\n         message: message,\r\n         type: type || 'success'\r\n         });\r\n      },\r\n      /**  \r\n       * 编辑\r\n       * @param { Object } item 当前对象\r\n       * @param { Boolean } isRead 是否可对写\r\n       * @property { Boolean }isEcho 是否是编辑\r\n       * @return { Object } Obj 返回对象\r\n       */\r\n      timeRedact(item) {\r\n         var Obj = {};\r\n         this.href('market/discount/discount_order_edit',{\r\n            isEdit:true,\r\n            discountId:item.discountId,\r\n            type:item.type\r\n         })\r\n      },\r\n       /**  \r\n       * 快速创建\r\n       * @param { Object } item 当前对象\r\n       * @param { Boolean } isRead 是否可对写\r\n       * @property { Boolean }isEcho 是否是编辑\r\n       * @return { Object } Obj 返回对象\r\n       */\r\n      fastCreate(item) {\r\n         var Obj = {};\r\n         this.href('market/discount/discount_order_add',{\r\n            isFastCreate:true,\r\n            discountId:item.discountId,\r\n            type:item.type\r\n         })\r\n      },\r\n      /**\r\n       * 获取折扣列表\r\n       */\r\n      marketingMiddleground_discountList() {\r\n         this.request(\r\n            this.api.market.marketingMiddleground_discountList,\r\n            this.filtersData     \r\n         ).then(res => {\r\n            this.discountData = res;\r\n         });\r\n      },\r\n      /**\r\n       * 跳转工单详情\r\n       */\r\n      href(routeName, param) {\r\n         this.$router.push({\r\n            path: '/' + routeName,\r\n            query: param\r\n         })\r\n      },\r\n      /**\r\n       * 模糊搜索\r\n       */\r\n      handleSearch() {\r\n         this.filtersData.pageIndex = 1;\r\n         this.filtersData.storeName = this.filtersData.storeName.replace(/(^\\s)|(\\s$)/g, '');\r\n         this.marketingMiddleground_discountList();\r\n      },\r\n      /**\r\n       * 搜索重置\r\n       */\r\n      handleResetFilters() {\r\n         Object.assign(this.filtersData,{\r\n            pageIndex: 1,// 当前页码\r\n            pageSize: 10,// 每页数量\r\n            type:'',// 门店类型\r\n            storeName:'' // 门店名称\r\n         });\r\n      },\r\n      /**\r\n       * 点击页数\r\n       * @param { Number } pageIndex 当前页\r\n       */\r\n      handleCurrentChange(pageIndex){\r\n         this.filtersData.pageIndex = pageIndex;\r\n         this.marketingMiddleground_discountList();\r\n      },\r\n      /**\r\n       *  选择每页多少条数\r\n       *  @param { Number } pageSize 每页条数\r\n       */\r\n      handleSizeChange(pageSize){\r\n         this.filtersData.pageSize = pageSize;  \r\n         this.marketingMiddleground_discountList();\r\n      },\r\n   },\r\n   components:{\r\n      codeSet,\r\n      treeDept\r\n   },\r\n}\r\n</script>\r\n<style  lang=\"less\" scoped>\r\n   .previewVisible-list{\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      .item{\r\n         width: 50%;\r\n         margin-right: 0;\r\n         text-align: right;\r\n      }\r\n   }\r\n   .blueness{  \r\n      color: #1E90FF;\r\n   }\r\n   h5 {\r\n     color: #222;\r\n     margin-left: -15px;\r\n   }\r\n   .test {\r\n     color: #9d9d9d;\r\n   }\r\n   .box{\r\n    padding: 20px 20px 20px 20px;\r\n    margin: 8px 8px 20px 8px;\r\n    background: #fff;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views/market/discount"}]}