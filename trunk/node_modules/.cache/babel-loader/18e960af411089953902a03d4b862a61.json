{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\collocation\\components\\matching_dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\collocation\\components\\matching_dialog.vue","mtime":1572415125598},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ElUploadImg from '@/components/uploadImg/el_upload_img';\nexport default {\n  name: \"tp-matching-dialog\",\n  data: function data() {\n    return {\n      dialogVisible: false,\n      filtersData: {\n        name: \"\",\n        //标签名称\n        image: '',\n        tagGroupId: '',\n        tagGroupName: '',\n        description: \"\"\n      },\n      productImages: [],\n      //验证\n      rules: {\n        name: [{\n          required: true,\n          message: \"请输入标签名称\",\n          trigger: \"blur\"\n        }, {\n          max: 24,\n          message: \"最大长度24个字符\",\n          trigger: \"blur\"\n        }],\n        description: [{\n          max: 120,\n          message: \"最大长度120个字符\",\n          trigger: \"blur\"\n        }]\n      },\n      editDisabled: false,\n      //可编辑状态  除使用状态其他都不可编辑\n      showDisabled: false,\n      //查看时 使用状态不可编辑\n      _type: \"\",\n      _id: \"\",\n      _title: \"新增\",\n      groupOptions: [],\n      setGroupData: []\n    };\n  },\n  created: function created() {\n    this.init();\n    this.getTagGroupList();\n  },\n  methods: {\n    init: function init() {\n      this._type = \"\";\n      this._id = \"\";\n      this._title = \"\";\n      this.setGroupData = [];\n      this.productImages = [];\n      this.filtersData = {\n        name: \"\",\n        description: \"\",\n        image: '',\n        tagGroupId: '',\n        tagGroupName: ''\n      };\n    },\n    getTagGroupList: function getTagGroupList() {\n      var _this = this;\n\n      this.request(this.api.collocation.collocationTagGroup_list, {}).then(function (res) {\n        _this.groupOptions = res.data;\n      });\n    },\n    //分组ID改变时获取ID 同时赋值name\n    tagGroupIdGet: function tagGroupIdGet(val) {\n      var _obj = this.groupOptions.find(function (item) {\n        return item.id == val;\n      });\n\n      this.filtersData.tagGroupName = _obj.name;\n    },\n    //初始化\n    popupInit: function popupInit(_type, _title, _id) {\n      this.init();\n      this._type = _type;\n      this._id = _id;\n      this._title = _title; //对象还需初始化\n\n      switch (_type.toString()) {\n        case \"add\":\n          //新增\n          this.editDisabled = false;\n          this.showDisabled = false;\n          break;\n\n        case \"edit\":\n          //修改\n          this.editDisabled = true;\n          this.showDisabled = false;\n          this.getListData(_id);\n          break;\n\n        case \"show\":\n          //查看\n          this.editDisabled = true;\n          this.showDisabled = true;\n          this.getListData(_id);\n          break;\n      }\n\n      this.dialogVisible = true;\n    },\n    //关闭\n    closeDialog: function closeDialog(formName) {\n      this.dialogVisible = false;\n      this.$refs[formName].resetFields(); //重置选项\n    },\n    //保存表单\n    submitForm: function submitForm(formName) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this2.request(_this2.api.collocation.collocationTag_save, _this2.filtersData).then(function (data) {\n            _this2.$message.success(\"保存成功\");\n\n            _this2.closeDialog(formName);\n\n            setTimeout(function () {\n              _this2.$emit(\"refreshItem\", \"刷新吧兄弟\");\n            }, 500);\n          });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    // //获取列表数据\n    getListData: function getListData(_id) {\n      var _this3 = this;\n\n      this.request(this.api.collocation.collocationTag_get, {\n        id: this._id\n      }).then(function (res) {\n        console.log(res);\n\n        if (!!res.image) {\n          _this3.productImages = [{\n            url: res.image\n          }];\n        } else {\n          _this3.productImages = [];\n        }\n\n        _this3.filtersData = res;\n      });\n    },\n    //修改表单\n    editForm: function editForm(formName) {\n      this.submitForm(formName);\n    }\n  },\n  components: {\n    ElUploadImg: ElUploadImg\n  }\n};",{"version":3,"sources":["matching_dialog.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: 标签\r\n * @Author:elephant\r\n * @Date: 2019-08-20 08:58:17\r\n * @LastEditTime: 2019-08-20 14:51:36\r\n * @LastEditors: Please set LastEditors\r\n -->\r\n <template>\r\n  <el-dialog\r\n    v-if=\"dialogVisible\"\r\n    :title=\"_title\"\r\n    :visible.sync=\"dialogVisible\"\r\n    class=\"alarmPopup\"\r\n    width=\"500px\"\r\n  >\r\n    <el-form\r\n      :model=\"filtersData\"\r\n      :rules=\"rules\"\r\n      label-width=\"100px\"\r\n      size=\"small\"\r\n      ref=\"filtersForm\"\r\n      inline\r\n    >\r\n      <el-form-item prop=\"name\" label=\"标签名称：\">\r\n        <el-input\r\n          class=\"input-w-2\"\r\n          placeholder=\"请输入内容\"\r\n          :disabled=\"editDisabled\"\r\n          v-model=\"filtersData.name\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"所属分组：\">\r\n        <el-select\r\n          class=\"input-w-2\"\r\n          placeholder=\"请选择\"\r\n          :disabled=\"showDisabled\"\r\n          v-model=\"filtersData.tagGroupId\"\r\n          @change=\"tagGroupIdGet\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in groupOptions\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n         <el-form-item  prop=\"image\"  label=\"标签图片：\">\r\n           <el-upload-img\r\n            v-model=\"filtersData.image\"\r\n            :EchoDisplayImages=\"productImages\"\r\n            CatalogName=\"product\"\r\n            ></el-upload-img>\r\n        </el-form-item>\r\n      <el-form-item prop=\"description\" label=\"标签描述：\">\r\n        <el-input\r\n          type=\"textarea\"\r\n          placeholder=\"请输入内容\"\r\n          class=\"input-w-2\"\r\n          :disabled=\"showDisabled\"\r\n          v-model=\"filtersData.description\"\r\n        ></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"item-right\">\r\n      <el-button size=\"small\" @click=\"closeDialog('filtersForm')\">取消</el-button>\r\n      <el-button\r\n        v-if=\"_type == 'add'\"\r\n        size=\"small\"\r\n        @click=\"submitForm('filtersForm')\"\r\n        type=\"primary\"\r\n      >确定</el-button>\r\n      <el-button\r\n        v-else-if=\"_type == 'edit'\"\r\n        size=\"small\"\r\n        @click=\"editForm('filtersForm')\"\r\n        type=\"primary\"\r\n      >修改</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport ElUploadImg from '@/components/uploadImg/el_upload_img';\r\nexport default {\r\n  name: \"tp-matching-dialog\",\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      filtersData: {\r\n        name: \"\", //标签名称\r\n        image:'',\r\n        tagGroupId:'',\r\n        tagGroupName:'',\r\n        description: \"\"\r\n      },\r\n      productImages:[],\r\n      //验证\r\n      rules: {\r\n        name: [\r\n          { required: true, message: \"请输入标签名称\", trigger: \"blur\" },\r\n          { max: 24, message: \"最大长度24个字符\", trigger: \"blur\" }\r\n        ],\r\n        description: [\r\n          { max: 120, message: \"最大长度120个字符\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      editDisabled: false, //可编辑状态  除使用状态其他都不可编辑\r\n      showDisabled: false, //查看时 使用状态不可编辑\r\n      _type: \"\",\r\n      _id: \"\",\r\n      _title: \"新增\",\r\n      groupOptions: [],\r\n      setGroupData: []\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n    this.getTagGroupList();\r\n  },\r\n  methods: {\r\n    init() {\r\n      this._type = \"\";\r\n      this._id = \"\";\r\n      this._title = \"\";\r\n      this.setGroupData = [];\r\n      this.productImages=[];\r\n      this.filtersData = {\r\n        name: \"\",\r\n        description: \"\",\r\n        image:'',\r\n         tagGroupId:'',\r\n        tagGroupName:'',\r\n\r\n      };\r\n    },\r\n    getTagGroupList() {\r\n      this.request(this.api.collocation.collocationTagGroup_list, {}).then(\r\n        res => {\r\n          this.groupOptions = res.data;\r\n        }\r\n      );\r\n    },\r\n     //分组ID改变时获取ID 同时赋值name\r\n    tagGroupIdGet(val) {\r\n      let _obj = this.groupOptions.find(item => item.id == val);\r\n      this.filtersData.tagGroupName = _obj.name;\r\n    },\r\n    //初始化\r\n    popupInit(_type, _title, _id) {\r\n      this.init();\r\n      this._type = _type;\r\n      this._id = _id;\r\n      this._title = _title;\r\n      //对象还需初始化\r\n      switch (_type.toString()) {\r\n        case \"add\": //新增\r\n          this.editDisabled = false;\r\n          this.showDisabled = false;\r\n          break;\r\n        case \"edit\": //修改\r\n          this.editDisabled = true;\r\n          this.showDisabled = false;\r\n          this.getListData(_id);\r\n          break;\r\n        case \"show\": //查看\r\n          this.editDisabled = true;\r\n          this.showDisabled = true;\r\n          this.getListData(_id);\r\n          break;\r\n      }\r\n      this.dialogVisible = true;\r\n    },\r\n    //关闭\r\n    closeDialog(formName) {\r\n      this.dialogVisible = false;\r\n      this.$refs[formName].resetFields(); //重置选项\r\n    },\r\n    //保存表单\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.request(\r\n            this.api.collocation.collocationTag_save,\r\n            this.filtersData\r\n          ).then(data => {\r\n            this.$message.success(\"保存成功\");\r\n            this.closeDialog(formName);\r\n            setTimeout(() => {\r\n              this.$emit(\"refreshItem\", \"刷新吧兄弟\");\r\n            }, 500);\r\n          });\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n\r\n    // //获取列表数据\r\n    getListData(_id) {\r\n      this.request(this.api.collocation.collocationTag_get, {\r\n        id: this._id\r\n      }).then(res => {\r\n        console.log(res);\r\n        if(!!res.image){\r\n          this.productImages=[{url:res.image}];\r\n        }else{\r\n          this.productImages=[];\r\n        }\r\n         this.filtersData = res;\r\n      });\r\n    },\r\n    //修改表单\r\n    editForm(formName) {\r\n      this.submitForm(formName);\r\n    },\r\n\r\n  },\r\n    components: {\r\n      ElUploadImg\r\n    },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n</style>\r\n"],"sourceRoot":"src/views/collocation/components"}]}