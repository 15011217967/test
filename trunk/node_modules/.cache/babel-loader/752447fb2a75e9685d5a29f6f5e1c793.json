{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\store\\store\\store_info_show.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\store\\store\\store_info_show.vue","mtime":1574160264504},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport codeSet from '@/components/codeSet';\nimport { getToken } from '@/utils/auth';\nimport division from \"@/components/division\";\nimport treeDept from \"@/components/treeDept\";\nimport treePerson from \"@/components/treePerson\";\nimport businessTime from \"../components/businessTime\";\nimport ElUploadImg from \"@/components/uploadImg/el_upload_img_multi\";\nimport { mapGetters } from 'vuex';\nimport OrganizationSelect from \"@/views/collocation/components/OrganizationSelect\";\nimport * as userTypes from \"@/types/userConfig\";\nimport { setTimeout, clearTimeout } from 'timers';\nimport Vue from 'vue';\nimport VueJsonp from 'vue-jsonp';\nVue.use(VueJsonp);\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      isAddShow: false,\n      // 上传图片路径\n      imgApi: this.api.content.aLiYun_upload,\n      businesstime: false,\n      // 是否编辑或查看页\n      isEcho: this.$route.query.isEcho,\n      // 是否只可读\n      isRead: this.$route.query.isRead,\n      // 当前选中的菜单\n      activeName: \"first\",\n      // 门店弹框\n      dialogTableVisible: false,\n      // 地图\n      dialogMap: false,\n      // 地图只执行一次\n      dialogMapTF: true,\n      // 门店负责人列表\n      principal_list: [],\n      // 搜索地址列表\n      searchAddress_list: [],\n      // 隶属机构\n      organization_list: [{\n        id: '01',\n        name: '研发部'\n      }, {\n        id: '02',\n        name: '商品部'\n      }, {\n        id: '03',\n        name: '测试部'\n      }],\n      // 启用搭配服务列表\n      designService_list: [{\n        id: 1,\n        name: '是'\n      }, {\n        id: 0,\n        name: '否'\n      }],\n      // 全部字典项\n      getAllCode_list: [],\n      // 门店类型\n      store_list: [],\n      // 门店货权归属\n      goodsowner_list: [],\n      // 上传图片描述\n      storeImgs_describe: '请上传门店图片，单张大小不超过2M，数量不超过5张。',\n      // 门店logo描述\n      logoImage_describe: '请尽量上传1：1比例的图片。',\n      // 附件信息描述\n      enclosure_describe: '请上传合同及营业执照信息，单张大小不超过2M，数量不超过5张。',\n      // 门店图片回显\n      storeImgs_EchoDisplayImages: [],\n      // 附件信息图片回显\n      enclosure_EchoDisplayImages: [],\n      // 门店校验\n      rules: {\n        name: [{\n          required: true,\n          validator: function validator(rule, value, callback) {\n            // 检验门店名称\n            _this.checkStoreName(value, callback);\n          },\n          trigger: 'blur'\n        }],\n        organizationId: [{\n          required: true,\n          message: '请选择隶属机构！',\n          trigger: 'change'\n        }],\n        principalName: [{\n          required: true,\n          message: '请选择门店负责人！',\n          trigger: 'change'\n        }],\n        operationBegin: [{\n          required: true,\n          message: '请选择门店早上开门时间！',\n          trigger: 'change'\n        }],\n        operationEnd: [{\n          required: true,\n          message: '请选择门店晚上闭店时间！',\n          trigger: 'change'\n        }],\n        type: [{\n          required: true,\n          message: '请选择门店类型！',\n          trigger: 'change'\n        }],\n        linkman: [{\n          required: true,\n          message: '请输入联系人！',\n          trigger: 'change'\n        }],\n        phone: [{\n          required: true,\n          validator: function validator(rule, value, callback) {\n            if (!value) {\n              callback(new Error('请输入手机号码！'));\n            } else {\n              var regPhone = /^1[3-9]\\d{9}$/g;\n\n              if (regPhone.test(value)) {\n                callback();\n              } else {\n                callback(new Error('请输入正确手机号码！'));\n              }\n            }\n          },\n          trigger: 'blur'\n        }],\n        divisionId: [{\n          required: true,\n          message: '请选择行政区域！',\n          trigger: 'change'\n        }],\n        addressInfo: [{\n          required: true,\n          message: '请输入详细地址！',\n          trigger: 'change'\n        }],\n        longitude: [{\n          required: true,\n          message: '请选择经度！',\n          trigger: 'change'\n        }],\n        latitude: [{\n          required: true,\n          message: '请选择纬度！',\n          trigger: 'change'\n        }],\n        goodsOwner: [{\n          required: true,\n          message: '请选择门店货权归属！',\n          trigger: 'change'\n        }],\n        designService: [{\n          required: true,\n          message: '请选择门店是否启用搭配服务！',\n          trigger: 'change'\n        }],\n        pricingPower: [{\n          required: true,\n          message: '请选择门店是否启用价格管理！',\n          trigger: 'change'\n        }],\n        manageType_list: [{\n          required: true,\n          validator: function validator(rule, arr, callback) {\n            var someItem = arr.some(function (item, index) {\n              return item.checked;\n            });\n\n            if (!someItem) {\n              callback(new Error('至少要选择一项业务类型！'));\n            } else {\n              callback();\n            }\n\n            ;\n          },\n          trigger: 'change'\n        }],\n        paymentType_list: [{\n          required: true,\n          validator: function validator(rule, arr, callback) {\n            var someItem = arr.some(function (item, index) {\n              return item.checked;\n            });\n\n            if (!someItem) {\n              callback(new Error('至少要选择一项收款方式！'));\n            } else {\n              callback();\n            }\n\n            ;\n          },\n          trigger: 'change'\n        }],\n        manageRange_list: [{\n          required: true,\n          validator: function validator(rule, arr, callback) {\n            var someItem = arr.some(function (item, index) {\n              return item.checked;\n            });\n\n            if (!someItem) {\n              callback(new Error('至少要选择一项经营范围！'));\n            } else {\n              callback();\n            }\n\n            ;\n          },\n          trigger: 'change'\n        }],\n        storeImgs_list: [{\n          type: 'array',\n          required: true,\n          message: '至少上传一张门店图片！',\n          trigger: 'blur'\n        }],\n        logoImage_list: [{\n          type: 'array',\n          required: true,\n          message: '至少上传一张门店logo！',\n          trigger: 'blur'\n        }] // enclosure_list: [{ type: 'array', required: true, message: '至少上传一张附件图片！', trigger: 'blur' }],\n\n      },\n      // 新建门店提交对象\n      save_createStore_obj: {\n        id: null,\n        // 门店 id\n        name: \"\",\n        // 门店名称\n        createName: \"\",\n        // 创建人姓名\n        organizationId: \"\",\n        // 组织机构 id\n        organizationName: \"\",\n        // 组织机构名称\n        principalId: \"\",\n        // 门店负责人 id\n        principalName: \"\",\n        // 门店负责人名字\n        operationBegin: \"\",\n        // 营业早上开门时间\n        operationEnd: \"\",\n        // 营业晚上闭店时间\n        type: \"\",\n        // 门店类型\n        linkman: \"\",\n        // 联系人\n        phone: \"\",\n        // 联系电话\n        provinceName: \"\",\n        // 省份名称\n        provinceCode: \"\",\n        // 省份 code\n        divisionId: \"\",\n        // 区 id\n        cityName: \"\",\n        // 城市名称\n        cityCode: \"\",\n        // 城市 code\n        areaName: \"\",\n        // 区域名称\n        areaCode: \"\",\n        // 区域 code\n        addressInfo: \"\",\n        // 详细地址\n        _addressInfo: \"\",\n        // 详细地址临时备份 \n        _longitude: \"\",\n        // 经度（暂存）\n        _latitude: \"\",\n        // 纬度'（暂存）\n        longitude: \"\",\n        // 经度\n        latitude: \"\",\n        // 纬度'\n        goodsOwner: \"\",\n        // 货权归属\n        pricingPower: \"\",\n        // 启用价格管理\n        storeArea: \"\",\n        // 店铺面积\n        cooperationArea: \"\",\n        // 合作面积\n        designService: \"\",\n        // 是否启用搭配服务\n        enableAllocation: false,\n        // 启用门店调拨\n        enableShowWeChat: true,\n        // 小程序展示\n        enableOwnSettlement: false,\n        // 门店自收银\n        enableNoMemberBilling: false,\n        // 无会员开单\n        enableOrderPrice: false,\n        // 订单改价\n        // 经营类型列表\n        manageType_list: [],\n        // 门店货款方式列表\n        paymentType_list: [],\n        // 经营范围列表\n        manageRange_list: [],\n        // 门店标签列表\n        storeTag_list: [],\n        // 门店图片\n        storeImgs_list: [],\n        // 门店logo列表\n        logoImage_list: [],\n        // 门店logo提交对象\n        logoImage: [],\n        // 附件信息\n        enclosure_list: [],\n        // 经营信息（经营业务类型 0、门店收款方式 1、经营范围 2、门店标签 3）\n        infos: [],\n        // 图片信息（门店图片 0、附件图片 1）\n        images: []\n      },\n      // 门店名称备份\n      storeName: '',\n      filtersData: {\n        pageIndex: 1,\n        //当前页码\n        pageSize: 10,\n        //每页数量\n        used: null,\n        //有效状态\n        filter: \"\",\n        //搜索关键字\n        name: \"\",\n        isStart: \"\",\n        startDate: \"\",\n        endDate: \"\",\n        businessType: \"\",\n        //\n        receiveDept: \"\" // 接受部门\n\n      }\n    };\n  },\n  created: function created() {\n    var that = this; // 获取所有字典内容\n\n    this.getAllCode(); // 获取用户列表\n\n    this.user_list(); // 获取隶属机构\n\n    document.onkeydown = function (e) {\n      var key = window.event.keyCode;\n\n      if (key == 13) {\n        that.handleSearch();\n      }\n    };\n\n    document.addEventListener('click', function (e) {\n      that.isAddShow = false;\n      e.stopPropagation();\n    }, false);\n  },\n  mounted: function mounted() {},\n  computed: _objectSpread({}, mapGetters({\n    userInfo: userTypes.GETTER_USERINFO\n  }), {\n    storeImgs_list: function storeImgs_list() {\n      return this.save_createStore_obj.storeImgs_list;\n    },\n    logoImage_list: function logoImage_list() {\n      return this.save_createStore_obj.logoImage_list;\n    },\n    enclosure_list: function enclosure_list() {\n      return this.save_createStore_obj.enclosure_list;\n    },\n    areaCode: function areaCode() {\n      return this.save_createStore_obj.areaCode;\n    }\n  }),\n  watch: {\n    /**\r\n     * 监听门店图片\r\n     */\n    storeImgs_list: function storeImgs_list(value) {\n      if (value && value.length > 0) {\n        this.$refs.formName.clearValidate('storeImgs_list');\n      } else {\n        this.$refs.formName.validateField('storeImgs_list');\n      }\n    },\n\n    /**\r\n     * 监听门店logo\r\n     */\n    logoImage_list: function logoImage_list(value) {\n      if (value && value.length > 0) {\n        this.$refs.formName.clearValidate('logoImage_list');\n      } else {\n        this.$refs.formName.validateField('logoImage_list');\n      }\n    },\n\n    /**\r\n     * 监听附件图片\r\n     */\n    enclosure_list: function enclosure_list(value) {\n      if (value && value.length > 0) {\n        this.$refs.formName.clearValidate('enclosure_list');\n      } else {\n        this.$refs.formName.validateField('enclosure_list');\n      }\n    },\n\n    /**\r\n     * 监听区域code，用户是否重新选择了地区\r\n     */\n    areaCode: function areaCode(value) {\n      this.dialogMapTF = true;\n    }\n  },\n  methods: {\n    /**\r\n     * 选择详细地址\r\n     */\n    checkAddress: function checkAddress(checkItem) {\n      console.log(checkItem);\n      Object.assign(this.save_createStore_obj, {\n        longitude: checkItem.location.lng,\n        _longitude: checkItem.location.lng,\n        latitude: checkItem.location.lat,\n        _latitude: checkItem.location.lat,\n        addressInfo: checkItem.title\n      });\n      this.isAddShow = false;\n      console.log(checkItem);\n    },\n\n    /**\r\n     * 选择详细地址失去焦点时\r\n     */\n    checkAddblur: function checkAddblur(value) {},\n\n    /**\r\n     * 根据关键词模糊搜索地址\r\n     */\n    searchAddress: function searchAddress() {\n      var _this2 = this;\n\n      var that = this,\n          region = that.save_createStore_obj.cityName,\n          address = this.$refs.addressInput.value;\n      if (this._address == address) return; // 先清\n\n      if (!address) {\n        this.searchAddress_list = [];\n      }\n\n      clearTimeout(this.searchAddressTime); // 节流\n\n      this.searchAddressTime = setTimeout(function () {\n        if (!region) {\n          _this2.warn('请选择省市区！');\n\n          return;\n        }\n\n        ;\n        if (!address) return;\n        var url = 'https://apis.map.qq.com/ws/place/v1/suggestion';\n\n        _this2.$jsonp(url, {\n          key: 'DAXBZ-VIQKS-7QAOO-6LPOB-EMQN7-UAFOU',\n          callbackName: 'QQmap',\n          output: 'jsonp',\n          keyword: address,\n          region: region\n        }).then(function (res) {\n          that.searchAddress_list = res.data;\n          that._address = _this2.$refs.addressInput.value;\n          that.isAddShow = true;\n        }).catch(function (err) {\n          console.log(err);\n        });\n      });\n    },\n\n    /**\r\n     * 根据经纬度反查详细地址\r\n     */\n    lngAndLatSearchAddress: function lngAndLatSearchAddress(lng, lat) {\n      var that = this;\n      var url = 'https://apis.map.qq.com/ws/geocoder/v1/';\n      this.$jsonp(url, {\n        key: 'DAXBZ-VIQKS-7QAOO-6LPOB-EMQN7-UAFOU',\n        callbackName: 'QQmap',\n        output: 'jsonp',\n        location: \"\".concat(lat, \",\").concat(lng)\n      }).then(function (res) {\n        if (res && res.result && res.result.formatted_addresses && res.result.formatted_addresses.recommend) {\n          that.save_createStore_obj.addressInfo = res.result.formatted_addresses.recommend;\n        } else {\n          // 重置地图位置\n          Object.assign(that.save_createStore_obj, {\n            addressInfo: \"\",\n            // 详细地址\n            _longitude: \"\",\n            // 经度（暂存）\n            _latitude: \"\",\n            // 纬度'（暂存）\n            longitude: \"\",\n            // 经度\n            latitude: \"\" // 纬度'\n\n          });\n          that.warn('查无地址，请重新选择门店位置！');\n        }\n\n        ; // 清空地址搜索项\n\n        that.searchAddress_list = [];\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n\n    /**\r\n     * 确认门店地图坐标\r\n     */\n    handleDialogMap: function handleDialogMap() {\n      // 如果select选择的地址与地图选点的位置一致，那么就不需要重新选点\n      if (this.save_createStore_obj.longitude == this.save_createStore_obj._longitude && this.save_createStore_obj.addressInfo) {\n        this.dialogMap = false;\n        return;\n      }\n\n      ;\n      this.save_createStore_obj.longitude = this.save_createStore_obj._longitude;\n      this.save_createStore_obj.latitude = this.save_createStore_obj._latitude;\n      this.dialogMap = false;\n      this.lngAndLatSearchAddress(this.save_createStore_obj.longitude, this.save_createStore_obj.latitude);\n    },\n\n    /**\r\n     * 地图选择门店坐标\r\n     */\n    fnMap: function fnMap() {\n      var _this3 = this;\n\n      var that = this; //\n\n      if (!this.save_createStore_obj.areaCode) {\n        this.warn('请选择省市区！');\n        return;\n      }\n\n      ;\n      this.dialogMap = true; // 地图只执行一次\n\n      if (this.dialogMapTF) {\n        this.TMap('DAXBZ-VIQKS-7QAOO-6LPOB-EMQN7-UAFOU').then(function (qq) {\n          var map = new qq.maps.Map(document.getElementById(\"container\"), {\n            // 地图的中心地理坐标。\n            center: new qq.maps.LatLng(39.916527, 116.397128),\n            // center: center,\n            zoom: 11\n          });\n          var citylocation = new qq.maps.CityService({\n            complete: function complete(results) {\n              map.setCenter(results.detail.latLng);\n            }\n          }); // 根据城市名称显示地图区域\n\n          citylocation.searchCityByName(_this3.save_createStore_obj.cityName);\n          var marker = null; // 坐标回显\n\n          marker = new qq.maps.Marker({\n            position: new qq.maps.LatLng(that.save_createStore_obj.latitude, that.save_createStore_obj.longitude),\n            map: map\n          }); // 点击创建门店坐标\n\n          qq.maps.event.addListener(map, 'click', function (event) {\n            that.save_createStore_obj._longitude = event.latLng.getLng();\n            that.save_createStore_obj._latitude = event.latLng.getLat();\n            console.log(that.save_createStore_obj.longitude);\n\n            if (marker) {\n              marker.setMap(null);\n            }\n\n            ;\n            marker = new qq.maps.Marker({\n              position: new qq.maps.LatLng(event.latLng.getLat(), event.latLng.getLng()),\n              map: map\n            });\n          });\n        });\n        this.dialogMapTF = false;\n      }\n    },\n\n    /**\r\n     * 关闭地图时，地图初始化\r\n     */\n    handleClose: function handleClose() {\n      if (!this.save_createStore_obj.longitude) {\n        this.dialogMapTF = true;\n      }\n\n      ;\n    },\n\n    /**\r\n     * 腾讯地图\r\n     * @param { String } key\r\n     */\n    TMap: function TMap(key) {\n      return new Promise(function (resolve, reject) {\n        window.init = function () {\n          resolve(qq);\n        };\n\n        var script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        script.src = \"http://map.qq.com/api/js?v=2.exp&callback=init&key=\" + key;\n        script.onerror = reject;\n        document.head.appendChild(script);\n      });\n    },\n\n    /**\r\n     * 检验门店名称\r\n     * @param { String } value 门店名称\r\n     * @param { Function } callback 校验的回调函数\r\n     *\r\n     */\n    checkStoreName: function () {\n      var _checkStoreName = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(value, callback) {\n        var data;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (value) {\n                  _context.next = 3;\n                  break;\n                }\n\n                callback(new Error('请输入门店名称！'));\n                return _context.abrupt(\"return\");\n\n              case 3:\n                ; // 如果编辑原来的名字，则不做请求校验\n\n                if (!(this.storeName != value)) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.next = 7;\n                return this.request(this.api.store.storeBasic_check, {\n                  name: value\n                });\n\n              case 7:\n                data = _context.sent;\n\n                if (!data) {\n                  callback(new Error('已存在相同的门店名称，请重新输入！'));\n                } else {\n                  callback();\n                }\n\n                ;\n                _context.next = 13;\n                break;\n\n              case 12:\n                callback();\n\n              case 13:\n                ;\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function checkStoreName(_x, _x2) {\n        return _checkStoreName.apply(this, arguments);\n      }\n\n      return checkStoreName;\n    }(),\n\n    /**\r\n     * 获取门店信息\r\n     * @param { String } id 门店 id\r\n     *\r\n     */\n    getStoreInfo: function getStoreInfo(id) {\n      var _this4 = this;\n\n      var that = this;\n      this.request(this.api.store.storeBasic_get, {\n        id: id\n      }, true).then(function (res) {\n        // delete res.organizationId;\n        // 不要直接this.save_createStore_obj = res，这样会把初始化的数据替换掉；\n        Object.assign(_this4.save_createStore_obj, res); // 赋值经度位置预选\n\n        _this4.save_createStore_obj._latitude = _this4.save_createStore_obj.latitude;\n        _this4.save_createStore_obj._longitude = _this4.save_createStore_obj.longitude;\n        var data = _this4.save_createStore_obj; // 处理门店名称\n\n        _this4.storeName = JSON.parse(JSON.stringify(data.name)); // 处理启用门店调拨\n\n        data.enableAllocation = _this4.save_createStore_obj.enableAllocation ? true : false; // 小程序展示\n\n        data.enableShowWeChat = _this4.save_createStore_obj.enableShowWeChat ? true : false; // 门店自收银\n\n        data.enableOwnSettlement = _this4.save_createStore_obj.enableOwnSettlement ? true : false; // 无会员开单\n\n        data.enableNoMemberBilling = _this4.save_createStore_obj.enableNoMemberBilling ? true : false; // 订单改价\n\n        data.enableOrderPrice = _this4.save_createStore_obj.enableOrderPrice ? true : false; // 处理图片\n\n        data.images.forEach(function (item, idnex) {\n          switch (item.type) {\n            case 0:\n              data.storeImgs_list.push({\n                url: item.url\n              });\n              break;\n\n            case 1:\n              data.enclosure_list.push({\n                url: item.url\n              });\n              break;\n          }\n        }); // 处理logo\n\n        data.logoImage_list.push({\n          url: data.logoImage\n        });\n        console.log(data.logoImage); // 处理经营信息\n\n        var infosMap_arr = [];\n        Object.values(data.infosMap).forEach(function (item, index) {\n          item.forEach(function (items, indexs) {\n            infosMap_arr.push(items);\n          });\n        });\n        console.log(infosMap_arr);\n        infosMap_arr.forEach(function (item, idnex) {\n          switch (item.type) {\n            case 0:\n              _this4.findTime(item, data.manageType_list);\n\n              break;\n\n            case 1:\n              _this4.findTime(item, data.paymentType_list);\n\n              break;\n\n            case 2:\n              _this4.findTime(item, data.manageRange_list);\n\n              break;\n\n            case 3:\n              _this4.findTime(item, data.storeTag_list);\n\n              break;\n          }\n        });\n        console.log(data);\n      });\n    },\n\n    /**\r\n     * 查找经营信息匹配的项\r\n     * @param { Object } item 当前对比的对象；\r\n     * @param { Array } arr 需要查找的数组；\r\n     */\n    findTime: function findTime(item, arr) {\n      var findTime = arr.find(function (items, indexs) {\n        return item.dataName == items.name;\n      });\n\n      if (findTime) {\n        findTime.checked = true;\n      }\n\n      ;\n    },\n\n    /**\r\n     * 选择字典项\r\n     * @param { Object } item 当前项\r\n     */\n    selectCheckbox: function selectCheckbox(item) {\n      item.checked = !item.checked;\n    },\n\n    /**\r\n     * 获取字典项\r\n     */\n    getAllCode: function getAllCode() {\n      var _this5 = this;\n\n      this.request(this.api.system.ALL_CODESET_POST, {}, true).then(function (res) {\n        res.forEach(function (item, index) {\n          switch (item.name) {\n            case 'STO001':\n              // 门店类型列表\n              item.codeItemList.forEach(function (itemk, indexk) {\n                itemk.checked = false;\n              });\n              _this5.store_list = item.codeItemList;\n              break;\n\n            case 'COM002':\n              // 经营类型列表\n              item.codeItemList.forEach(function (itemk, indexk) {\n                itemk.checked = false;\n              });\n              _this5.save_createStore_obj.manageType_list = item.codeItemList;\n              break;\n\n            case 'STO002':\n              // 门店收款方式\n              item.codeItemList.forEach(function (itemk, indexk) {\n                itemk.checked = false;\n              });\n              _this5.save_createStore_obj.paymentType_list = item.codeItemList;\n              break;\n\n            case 'STO003':\n              // 门店货权归属\n              item.codeItemList.forEach(function (itemk, indexk) {\n                itemk.checked = false;\n              });\n              _this5.goodsowner_list = item.codeItemList;\n              break;\n\n            case 'STO004':\n              // 经营范围列表\n              item.codeItemList.forEach(function (itemk, indexk) {\n                itemk.checked = false;\n              });\n              _this5.save_createStore_obj.manageRange_list = item.codeItemList;\n              break;\n\n            case 'STO005':\n              // 门店标签\n              item.codeItemList.forEach(function (itemk, indexk) {\n                itemk.checked = false;\n              });\n              _this5.save_createStore_obj.storeTag_list = item.codeItemList;\n              break;\n          }\n        }); // 获取门店信息\n\n        if (_this5.isEcho) {\n          _this5.getStoreInfo(_this5.$route.query.id);\n        }\n\n        ;\n      });\n    },\n\n    /**\r\n     * 获取人员列表\r\n     */\n    user_list: function user_list() {\n      var _this6 = this;\n\n      this.request(this.api.store.user_list, this.filtersData, true).then(function (res) {\n        _this6.principal_list = res;\n      });\n    },\n\n    /**\r\n     * 搜索\r\n     */\n    handleSearch: function handleSearch() {\n      this.user_list();\n    },\n\n    /**\r\n     * 选择地区回调\r\n     * @param { Object } obj 选择区域返回的回调函数\r\n     */\n    setDivision: function setDivision(obj) {\n      console.log(obj);\n      this.searchAddress_list = [];\n      Object.assign(this.save_createStore_obj, {\n        \"provinceName\": obj.province,\n        // 省份名称\n        \"provinceCode\": obj.provinceCode,\n        // 省份 code\n        \"divisionId\": obj.divisionId,\n        // 区 id\n        \"cityName\": obj.municipality,\n        // 城市名称\n        \"cityCode\": obj.municipalityCode,\n        // 城市 code\n        \"areaName\": obj.area,\n        // 区域名称\n        \"areaCode\": obj.areaCode // 区域 code\n\n      });\n    },\n\n    /**\r\n     * 匹配营业时间段\r\n     * @param { Regular } /^\\d+:\\d+/g  开头为数字，匹配n个，然后匹配'：'再然后数字n个\r\n     */\n    matchTime: function matchTime(strTime) {\n      if (!strTime) return;\n      var reg = /\\d+:\\d+/g;\n      var regZone = /0800/g;\n      var str = strTime && strTime.match(reg)[0];\n      var isZone = regZone.test(strTime);\n      str = str.split(':'); // 此处需加8个小时（时区时间）\n\n      if (!isZone) {\n        str = this.replenishZero((parseInt(str[0]) + 8) % 24) + ':' + str[1];\n      } else {\n        str = \"\".concat(str[0], \":\").concat(str[1]);\n      }\n\n      ;\n      return str;\n    },\n\n    /**\r\n     * 补零函数\r\n     * @param { Nunber | String } item 数字或数字字符串 如： 1，'1'\r\n     * @return { String } 如：'01'\r\n     */\n    replenishZero: function replenishZero(item) {\n      item = parseInt(item);\n      return item < 10 ? \"0\".concat(item) : item;\n    },\n\n    /**\r\n     * 添加门店负责人\r\n     * @param { Object } item 选中的当前项\r\n     */\n    add_principal: function add_principal(item) {\n      if (!item) return;\n      Object.assign(this.save_createStore_obj, {\n        principalId: item.id,\n        principalName: item.name\n      });\n      this.dialogTableVisible = false;\n    },\n\n    /**\r\n     * 新建或编辑门店\r\n     */\n    save_createStore: function save_createStore() {\n      var _this7 = this;\n\n      var that = this,\n          data = JSON.parse(JSON.stringify(this.save_createStore_obj));\n\n      if (this.isEcho) {\n        Object.assign(data, {\n          id: this.$route.query.id\n        });\n      }\n\n      ; // 添加创建人姓名\n\n      data.createName = this.userInfo.name; // 添加隶属机构名称\n\n      if (!this.isEcho) {\n        data.organizationName = this.$refs.organizationName.organizationList[0].name;\n        console.log(this.$refs.organizationName);\n      }\n\n      ; // 处理启用门店调拨\n\n      data.enableAllocation = this.save_createStore_obj.enableAllocation ? 1 : 0; // 处理启用门店调拨\n\n      data.enableShowWeChat = this.save_createStore_obj.enableShowWeChat ? 1 : 0; // 处理门店自收银\n\n      data.enableOwnSettlement = this.save_createStore_obj.enableOwnSettlement ? 1 : 0; // 处理无会员开单\n\n      data.enableNoMemberBilling = this.save_createStore_obj.enableNoMemberBilling ? 1 : 0; // 订单改价\n\n      data.enableOrderPrice = this.save_createStore_obj.enableOrderPrice ? 1 : 0; // 处理经营信息\n\n      data.infos = [];\n      this.pushInfos(this.save_createStore_obj.manageType_list, 0, data);\n      this.pushInfos(this.save_createStore_obj.paymentType_list, 1, data);\n      this.pushInfos(this.save_createStore_obj.manageRange_list, 2, data);\n      this.pushInfos(this.save_createStore_obj.storeTag_list, 3, data); // 处理图片\n\n      data.images = [];\n      this.pushImages(this.save_createStore_obj.storeImgs_list, 0, data);\n      this.pushImages(this.save_createStore_obj.enclosure_list, 1, data); // 处理门店logo\n\n      if (data.logoImage_list.length > 0) {\n        data.logoImage = data.logoImage_list[0].url;\n      } // 删除无用数据\n\n\n      delete data.enclosure_list;\n      delete data.manageRange_list;\n      delete data.manageType_list;\n      delete data.paymentType_list;\n      delete data.storeImgs_list;\n      delete data.storeTag_list;\n      delete data.logoImage_list;\n      delete data.infosMap;\n      console.log(data); // return;\n\n      this.$refs.formName.validate(function (valid) {\n        if (valid) {\n          var text = _this7.isEcho ? '零售门店信息修改后将立即生效，是否确认修改？' : '请确认以上内容填写无误，是否确认创建此门店？';\n          var textEcho = _this7.isEcho ? '编辑成功！' : '新建成功！';\n\n          _this7.$confirm(text, '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(function () {\n            // 请求\n            _this7.request(_this7.api.store.storeBasic_save, data).then(function (res) {\n              _this7.warn(textEcho);\n\n              _this7.href('store/store/store_info_list');\n            });\n          }).catch(function () {\n            _this7.warn('已取消！', {\n              type: 'info'\n            });\n          });\n        } else {\n          _this7.warn('门店信息未填写完整，请填写完整后重试！', 'warning');\n\n          return;\n        }\n      });\n    },\n\n    /**\r\n     * 添加经营信息\r\n     * @param { Array } arr 父级数组集合\r\n     * @param { Number } type 经营信息类型\r\n     * @param { Object } data 提交对象集合\r\n     */\n    pushInfos: function pushInfos(arr, type, data) {\n      arr.forEach(function (item, index) {\n        if (item.checked) {\n          data.infos.push({\n            \"dataName\": item.name,\n            \"dataId\": item.codeSetId,\n            \"type\": type\n          });\n        }\n      });\n    },\n\n    /**\r\n     * 提示\r\n     * @param { String } message 提示文案\r\n     * @param { String } type 提示类型\r\n     */\n    warn: function warn(message, type) {\n      this.$message({\n        message: message,\n        type: type || 'success'\n      });\n    },\n\n    /**\r\n     * 跳转\r\n     * @param { String } routeName 路由跳转名字\r\n     */\n    href: function href(routeName) {\n      this.$router.push({\n        path: \"/\".concat(routeName)\n      });\n    },\n\n    /**\r\n     * 添加门店图片，附件信息\r\n     * @param { Array } arr 父级数组集合\r\n     * @param { Number } type 经营信息类型\r\n     * @param { Object } data 提交对象集合\r\n     */\n    pushImages: function pushImages(arr, type, data) {\n      arr.forEach(function (item, index) {\n        console.log(arr);\n        data.images.push({\n          \"type\": type,\n          \"url\": item.url\n        });\n      });\n    },\n\n    /**\r\n     * 点击页数\r\n     * @param { Number } pageIndex 当前页\r\n     */\n    handleCurrentChange: function handleCurrentChange(pageIndex) {\n      this.filtersData.pageIndex = pageIndex;\n      this.user_list();\n    },\n\n    /**\r\n     * 改变每页展示条目\r\n     * @param { Number } pageSize 每页展示条目\r\n     */\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.filtersData.pageSize = pageSize;\n      this.user_list();\n    }\n  },\n  components: {\n    codeSet: codeSet,\n    division: division,\n    treeDept: treeDept,\n    ElUploadImg: ElUploadImg,\n    OrganizationSelect: OrganizationSelect,\n    businessTime: businessTime\n  }\n};",{"version":3,"sources":["store_info_show.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"create-store\">\r\n    <!-- 指派 -->\r\n    <el-dialog title=\"选择门店负责人\" :visible.sync=\"dialogTableVisible\">\r\n      <el-form\r\n        class=\"item-form\"\r\n        size=\"small\"\r\n        :inline=\"true\"\r\n        :model=\"filtersData\">\r\n        <!-- 模糊查询 -->\r\n        <el-form-item label=\"综合搜索：\">\r\n          <el-input v-model=\"filtersData.filter\" style=\"width:310px;\" clearable  placeholder=\"人员姓名/联系电话/商家端账号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button @click=\"handleSearch\" type=\"primary\" plain size=\"small\">搜索</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-table :data=\"principal_list.data\">\r\n        <el-table-column  label=\"人员姓名\" align=\"center\">\r\n            <template  slot-scope=\"scope\">{{ scope.row.name }}</template>\r\n        </el-table-column>\r\n        <el-table-column  label=\"联系电话\" align=\"center\">\r\n            <template  slot-scope=\"scope\">{{ scope.row.phone }}</template>\r\n        </el-table-column>\r\n        <el-table-column  label=\"商家端账号\" align=\"center\">\r\n            <template  slot-scope=\"scope\">{{ scope.row.phone }}</template>\r\n        </el-table-column>\r\n        <el-table-column  label=\"下属门店数量\" align=\"center\">\r\n            <template  slot-scope=\"scope\">{{ scope.row.storeCount }}</template>\r\n        </el-table-column>\r\n        <el-table-column  label=\"操作\" align=\"center\">\r\n            <template  slot-scope=\"scope\"><span class=\"add_principal\" @click=\"add_principal(scope.row)\">{{ isEcho ? '确认修改' : '确认添加' }}</span></template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        class=\"mt-30\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"filtersData.pageIndex\"\r\n        :page-sizes=\"[10,20,30,40,50]\"\r\n        :page-size=\"filtersData.pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"principal_list.totalCount\"\r\n      ></el-pagination>\r\n    </el-dialog>\r\n    <el-dialog title=\"选择门店位置\" :visible.sync=\"dialogMap\" @close=\"handleClose\">\r\n      <div id=\"container\"></div>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogMap = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"handleDialogMap\">确 定</el-button>\r\n        </span>\r\n    </el-dialog>\r\n    <!--  -->\r\n    <template>\r\n    <el-form\r\n          :model=\"save_createStore_obj\"\r\n          label-width=\"120px\"\r\n          class=\"form-label\"\r\n          :rules=\"rules\"\r\n          ref=\"formName\"\r\n        >\r\n      <el-tabs v-model=\"activeName\">\r\n        <!-- 1.基本信息 -->\r\n        <el-tab-pane label=\"基本信息\" name=\"first\">\r\n          <section>\r\n            <!-- 门店名称 -->\r\n            <el-form-item label=\"门店名称：\" prop=\"name\">\r\n              <el-input v-model=\"save_createStore_obj.name\" :disabled=\"isRead\" placeholder=\"请输入门店名称\"></el-input>\r\n            </el-form-item>\r\n            <!-- 隶属机构 -->\r\n            <el-form-item label=\"隶属机构：\" prop=\"organizationId\">\r\n              <el-select disabled v-if=\"isEcho\" v-model=\"save_createStore_obj.organizationName\">\r\n              </el-select>\r\n              <organization-select v-else :isDirectly=\"true\" v-model=\"save_createStore_obj.organizationId\" width-class=\"input-w-2\" ref=\"organizationName\"></organization-select>\r\n            </el-form-item>\r\n            <!-- 门店负责人 -->\r\n            <el-form-item label=\"门店负责人：\" prop=\"principalName\">\r\n              <el-input\r\n                class=\"el-input-short\"\r\n                disabled\r\n                v-model=\"save_createStore_obj.principalName\"\r\n                placeholder=\"请选择门店负责人\"\r\n              ></el-input>\r\n              <el-button size=\"mini\" type=\"primary\" class=\"ml-10\" :disabled=\"isRead\" @click=\"dialogTableVisible = true\">点击选择</el-button>\r\n            </el-form-item>\r\n            <!-- 营业时间 -->\r\n            <el-form-item label=\"营业时间：\" required>\r\n              <el-col :span=\"5.5\">\r\n                <el-form-item prop=\"operationBegin\">\r\n                  <business-time :disabled=\"isRead\" :operationbegin=\"save_createStore_obj.operationBegin\" v-model=\"save_createStore_obj.operationBegin\"></business-time>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"3\">\r\n                <el-form-item prop=\"operationEnd\">\r\n                  <business-time :disabled=\"isRead\" :operationbegin=\"save_createStore_obj.operationEnd\" v-model=\"save_createStore_obj.operationEnd\"></business-time>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-form-item>\r\n            <!-- 门店类型 -->\r\n            <el-form-item label=\"门店类型：\" prop=\"type\">\r\n              <el-select v-model=\"save_createStore_obj.type\" :disabled=\"isRead\" placeholder=\"请选择门店类型\">\r\n                <el-option :label=\"item.name\" :value=\"item.code\" :key=\"index\" v-for=\"(item, index) in store_list\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <!-- 联系人 -->\r\n            <el-form-item label=\"联系人：\" prop=\"linkman\">\r\n              <el-input v-model=\"save_createStore_obj.linkman\" :disabled=\"isRead\" placeholder=\"请输入联系人\"></el-input>\r\n            </el-form-item>\r\n            <!-- 联系电话 -->\r\n            <el-form-item label=\"联系电话：\" prop=\"phone\">\r\n              <el-input maxlength=\"11\" v-model=\"save_createStore_obj.phone\" :disabled=\"isRead\" placeholder=\"请输入联系电话\"></el-input>\r\n            </el-form-item>\r\n            <!-- 门店地址 -->\r\n            <el-form-item label=\"门店地址：\" prop=\"divisionId\">\r\n              <div style=\"width:700px;\">\r\n                <division @set-division=\"setDivision\" :isDisabled=\"isRead\" v-model=\"save_createStore_obj.divisionId\"></division>\r\n              </div>\r\n            </el-form-item>\r\n            <el-form-item prop=\"addressInfo\">\r\n              <div class=\"add\" @click.stop=\"\">\r\n                <input \r\n                type=\"text\" \r\n                @input=\"searchAddress\"\r\n                class=\"address\" \r\n                :class=\"{'address2':isRead}\"\r\n                :disabled=\"isRead\"\r\n                placeholder=\"请选择\"\r\n                v-model=\"save_createStore_obj.addressInfo\"\r\n                ref=\"addressInput\">\r\n                <div class=\"address-box\"  :class=\"{addOv : searchAddress_list && searchAddress_list.length > 6}\" v-if=\"isAddShow\">\r\n                  <div class=\"li\" v-if=\"searchAddress_list && searchAddress_list.length > 0\" v-for=\"(item, index) in searchAddress_list\" @click.stop=\"checkAddress(item)\" :key=\"index\">{{ item.title }}</div>\r\n                  <div class=\"li\"  v-if=\"searchAddress_list && searchAddress_list.length == 0\">暂无数据</div>\r\n                </div>\r\n                <el-button size=\"mini\" :disabled=\"isRead\" @click=\"fnMap\"  type=\"primary\" class=\"ml-10\">地图选点</el-button>\r\n              </div>\r\n            </el-form-item>\r\n            <!-- 经度、纬度 -->\r\n            <div class=\"display-flex\">\r\n              <el-form-item label=\"经度：\" prop=\"longitude\">\r\n                <el-input\r\n                  v-model=\"save_createStore_obj.longitude\"\r\n                  disabled\r\n                  class=\"el-input-short\"\r\n                  placeholder=\"经度纬度\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"纬度：\" prop=\"latitude\" label-width=\"65px\" class=\"ml-15\">\r\n                <el-input\r\n                  v-model=\"save_createStore_obj.latitude\"\r\n                  disabled\r\n                  class=\"el-input-short\"\r\n                  placeholder=\"纬度坐标\"\r\n                ></el-input>\r\n              </el-form-item>\r\n            </div>\r\n          </section>\r\n        </el-tab-pane>\r\n        <!-- 2.经营信息 -->\r\n        <el-tab-pane label=\"经营信息\" name=\"second\">\r\n          <section>\r\n            <!-- 经营业务类型 -->\r\n            <el-form-item label=\"经营业务类型：\" prop=\"manageType_list\">\r\n              <div class=\"el-checkbox-group\">\r\n                <el-checkbox :label=\"item.name\" :disabled=\"isRead\" v-model=\"item.checked\" v-for=\"(item, index) in save_createStore_obj.manageType_list\" :key=\"index\"></el-checkbox>\r\n              </div>\r\n            </el-form-item>\r\n            <!-- 门店收款方式 -->\r\n            <el-form-item label=\"门店收款方式：\" prop=\"paymentType_list\">\r\n              <div class=\"el-checkbox-group\">\r\n                <el-checkbox :label=\"item.name\" :disabled=\"isRead\" v-model=\"item.checked\" v-for=\"(item, index) in save_createStore_obj.paymentType_list\" :key=\"index\"></el-checkbox>\r\n              </div>\r\n            </el-form-item>\r\n            <!-- 门店货权归属 -->\r\n            <el-form-item label=\"门店货权归属：\" prop=\"goodsOwner\">\r\n              <el-select v-model=\"save_createStore_obj.goodsOwner\" :disabled=\"isRead\" placeholder=\"请选择门店是否启用搭配服务\">\r\n                <el-option :label=\"item.name\" :value=\"item.code\" :key=\"index\" v-for=\"(item, index) in goodsowner_list\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <!-- 启用搭配服务 -->\r\n            <el-form-item label=\"启用搭配服务：\" prop=\"designService\">\r\n              <el-select v-model=\"save_createStore_obj.designService\" :disabled=\"isRead\" placeholder=\"请选择门店是否启用搭配服务\">\r\n                <el-option :label=\"item.name\" :value=\"item.id\" :key=\"index\" v-for=\"(item, index) in designService_list\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <!-- 经营范围 -->\r\n            <el-form-item label=\"经营范围：\" prop=\"manageRange_list\">\r\n              <div class=\"el-checkbox-group\">\r\n                <el-checkbox :label=\"item.name\" :disabled=\"isRead\" v-model=\"item.checked\" v-for=\"(item, index) in save_createStore_obj.manageRange_list\" :key=\"index\"></el-checkbox>\r\n              </div>\r\n            </el-form-item>\r\n            <!-- 启用价格管理 -->\r\n            <el-form-item label=\"启用价格管理：\" prop=\"pricingPower\">\r\n              <el-select v-model=\"save_createStore_obj.pricingPower\" :disabled=\"isRead\" placeholder=\"请选择门店是否启用价格管理\">\r\n                <el-option :label=\"item.name\" :value=\"item.id\" :key=\"index\" v-for=\"(item, index) in designService_list\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <!-- 店铺面积 -->\r\n            <el-form-item label=\"店铺面积：\" prop=\"storeArea\">\r\n              <el-input v-model=\"save_createStore_obj.storeArea\" :disabled=\"isRead\" placeholder=\"请输入店铺面积\"></el-input>\r\n            </el-form-item>\r\n            <!-- 合作面积 -->\r\n            <el-form-item label=\"合作面积：\" prop=\"cooperationArea\">\r\n              <el-input v-model=\"save_createStore_obj.cooperationArea\" :disabled=\"isRead\" placeholder=\"请输入合作面积\"></el-input>\r\n            </el-form-item>\r\n            <!-- 门店标签 -->\r\n            <el-form-item label=\"门店标签：\">\r\n              <div class=\"el-checkbox-group\">\r\n                <el-checkbox :label=\"item.name\" :disabled=\"isRead\" v-model=\"item.checked\" v-for=\"(item, index) in save_createStore_obj.storeTag_list\" :key=\"index\"></el-checkbox>\r\n              </div>\r\n            </el-form-item>\r\n            <!-- 启用门店调拨 -->\r\n            <el-form-item label=\"启用店间调拨：\">\r\n              <div class=\"el-checkbox-group\">\r\n                <el-switch\r\n                  :disabled=\"isRead\"\r\n                  v-model=\"save_createStore_obj.enableAllocation\"\r\n                  active-color=\"#13ce66\"\r\n                  inactive-color=\"#9d9d9d\"\r\n                ></el-switch>\r\n              </div>\r\n            </el-form-item>\r\n            <!-- 小程序展示 -->\r\n            <el-form-item label=\"小程序展示：\">\r\n              <div class=\"el-checkbox-group\">\r\n                <el-switch\r\n                  :disabled=\"isRead\"\r\n                  v-model=\"save_createStore_obj.enableShowWeChat\"\r\n                  active-color=\"#13ce66\"\r\n                  inactive-color=\"#9d9d9d\"\r\n                ></el-switch>\r\n              </div>\r\n            </el-form-item>\r\n            <!-- 门店自收银 -->\r\n            <el-form-item label=\"门店自收银：\">\r\n              <div class=\"el-checkbox-group\">\r\n                <el-switch\r\n                  :disabled=\"isRead\"\r\n                  v-model=\"save_createStore_obj.enableOwnSettlement\"\r\n                  active-color=\"#13ce66\"\r\n                  inactive-color=\"#9d9d9d\"\r\n                ></el-switch>\r\n              </div>\r\n            </el-form-item>\r\n            <!-- 无会员开单 -->\r\n            <el-form-item label=\"无会员开单：\">\r\n              <div class=\"el-checkbox-group\">\r\n                <el-switch\r\n                  :disabled=\"isRead\"\r\n                  v-model=\"save_createStore_obj.enableNoMemberBilling\"\r\n                  active-color=\"#13ce66\"\r\n                  inactive-color=\"#9d9d9d\"\r\n                ></el-switch>\r\n              </div>\r\n            </el-form-item>\r\n            <!-- 订单改价 -->\r\n            <el-form-item label=\"订单改价：\">\r\n              <div class=\"el-checkbox-group\">\r\n                <el-switch\r\n                  :disabled=\"isRead\"\r\n                  v-model=\"save_createStore_obj.enableOrderPrice\"\r\n                  active-color=\"#13ce66\"\r\n                  inactive-color=\"#9d9d9d\"\r\n                ></el-switch>\r\n              </div>\r\n            </el-form-item>\r\n          </section>\r\n        </el-tab-pane>\r\n        <!-- 3.门店图片 -->\r\n        <el-tab-pane label=\"门店图片\" name=\"third\">\r\n          <section>\r\n            <!-- 图片上传 -->\r\n            <el-form-item label=\"图片上传：\" prop=\"storeImgs_list\" res=\"uploadElement\">\r\n              <el-upload-img\r\n              :disabled=\"isRead\"\r\n              v-model=\"save_createStore_obj.storeImgs_list\"\r\n              :EchoDisplayImages=\"save_createStore_obj.storeImgs_list\"\r\n              CatalogName=\"store\"\r\n              :imgApi=\"imgApi\"\r\n              :describe=\"storeImgs_describe\"\r\n              :LssUpimgLimit=\"isRead ? 1 : 5\"\r\n              ></el-upload-img>\r\n            </el-form-item>\r\n            <!-- 图片上传 -->\r\n            <el-form-item label=\"门店logo：\" prop=\"logoImage_list\">\r\n              <el-upload-img\r\n              :disabled=\"isRead\"\r\n              :imgApi=\"imgApi\"\r\n              v-model=\"save_createStore_obj.logoImage_list\"\r\n              :EchoDisplayImages=\"save_createStore_obj.logoImage_list\"\r\n              CatalogName=\"store\"\r\n              :describe=\"logoImage_describe\"\r\n              :LssUpimgLimit=\"1\"\r\n              ></el-upload-img>\r\n            </el-form-item>\r\n          </section>\r\n        </el-tab-pane>\r\n        <!-- 4.附件信息 -->\r\n        <el-tab-pane label=\"附件信息\" name=\"fourth\">\r\n          <section>\r\n            <!-- 文件上传 -->\r\n            <el-form-item label=\"附件上传：\" prop=\"enclosure_list\">\r\n              <el-upload-img\r\n              :disabled=\"isRead\"\r\n              :imgApi=\"imgApi\"\r\n              v-model=\"save_createStore_obj.enclosure_list\"\r\n              :EchoDisplayImages=\"save_createStore_obj.enclosure_list\"\r\n              CatalogName=\"store\"\r\n              :describe=\"enclosure_describe\"\r\n              :LssUpimgLimit=\"isRead ? 1 : 5\"\r\n              ></el-upload-img>\r\n            </el-form-item>\r\n          </section>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n      </el-form>\r\n    </template>\r\n    <div class=\"save\"  v-if=\"!isRead\">\r\n      <el-button type=\"primary\" @click=\"save_createStore\">{{ isEcho ? '确认修改' : '确认创建' }}</el-button>\r\n      <el-button @click=\"href('store/store/store_info_list')\">取消</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport codeSet from '@/components/codeSet'\r\nimport {getToken} from '@/utils/auth'\r\nimport division from \"@/components/division\";\r\nimport treeDept from \"@/components/treeDept\";\r\nimport treePerson from \"@/components/treePerson\";\r\nimport businessTime from \"../components/businessTime\";\r\nimport ElUploadImg from \"@/components/uploadImg/el_upload_img_multi\";\r\nimport { mapGetters } from 'vuex';\r\nimport OrganizationSelect from \"@/views/collocation/components/OrganizationSelect\";\r\nimport * as userTypes from \"@/types/userConfig\";\r\nimport { setTimeout, clearTimeout } from 'timers';\r\nimport Vue from 'vue'\r\nimport VueJsonp from 'vue-jsonp'\r\nVue.use(VueJsonp);\r\nexport default {\r\n  data() {\r\n    return {\r\n      isAddShow:false,\r\n      // 上传图片路径\r\n      imgApi:this.api.content.aLiYun_upload,\r\n      businesstime:false,\r\n      // 是否编辑或查看页\r\n      isEcho:this.$route.query.isEcho,\r\n      // 是否只可读\r\n      isRead:this.$route.query.isRead,\r\n      // 当前选中的菜单\r\n      activeName: \"first\",\r\n      // 门店弹框\r\n      dialogTableVisible:false,\r\n      // 地图\r\n      dialogMap:false,\r\n      // 地图只执行一次\r\n      dialogMapTF:true,\r\n      // 门店负责人列表\r\n      principal_list:[],\r\n      // 搜索地址列表\r\n      searchAddress_list:[],\r\n      // 隶属机构\r\n      organization_list:[{\r\n        id:'01',\r\n        name:'研发部'\r\n      },{\r\n        id:'02',\r\n        name:'商品部'\r\n      },{\r\n        id:'03',\r\n        name:'测试部'\r\n      }],\r\n      // 启用搭配服务列表\r\n      designService_list:[{\r\n        id:1,\r\n        name:'是'\r\n      },{\r\n        id:0,\r\n        name:'否'\r\n      }],\r\n      // 全部字典项\r\n      getAllCode_list:[],\r\n      // 门店类型\r\n      store_list:[],\r\n      // 门店货权归属\r\n      goodsowner_list:[],\r\n\r\n\r\n\r\n      // 上传图片描述\r\n      storeImgs_describe:'请上传门店图片，单张大小不超过2M，数量不超过5张。',\r\n      // 门店logo描述\r\n      logoImage_describe:'请尽量上传1：1比例的图片。',\r\n      // 附件信息描述\r\n      enclosure_describe:'请上传合同及营业执照信息，单张大小不超过2M，数量不超过5张。',\r\n      // 门店图片回显\r\n      storeImgs_EchoDisplayImages:[],\r\n      // 附件信息图片回显\r\n      enclosure_EchoDisplayImages:[],\r\n      // 门店校验\r\n      rules:{\r\n        name: [{ required: true, validator:(rule, value, callback)=>{\r\n          // 检验门店名称\r\n          this.checkStoreName(value, callback);\r\n        }, trigger: 'blur' }],\r\n        organizationId: [{ required: true, message: '请选择隶属机构！', trigger: 'change' }],\r\n        principalName: [{ required: true, message: '请选择门店负责人！', trigger: 'change' }],\r\n        operationBegin: [{ required: true, message: '请选择门店早上开门时间！', trigger: 'change' }],\r\n        operationEnd: [{ required: true, message: '请选择门店晚上闭店时间！', trigger: 'change' }],\r\n        type: [{ required: true, message: '请选择门店类型！', trigger: 'change' }],\r\n        linkman: [{ required: true, message: '请输入联系人！', trigger: 'change' }],\r\n        phone: [{ required: true, validator:(rule, value, callback)=>{\r\n          if(!value) {\r\n            callback(new Error('请输入手机号码！'));\r\n          }else{\r\n            const regPhone = /^1[3-9]\\d{9}$/g;\r\n            if(regPhone.test(value)) {\r\n             callback();\r\n            }else{\r\n              callback(new Error('请输入正确手机号码！'));\r\n            }\r\n          }\r\n        }, trigger: 'blur' }],\r\n        divisionId: [{ required: true, message: '请选择行政区域！', trigger: 'change' }],\r\n        addressInfo: [{ required: true, message: '请输入详细地址！', trigger: 'change' }],\r\n        longitude: [{ required: true, message: '请选择经度！', trigger: 'change' }],\r\n        latitude: [{ required: true, message: '请选择纬度！', trigger: 'change' }],\r\n        goodsOwner: [{ required: true, message: '请选择门店货权归属！', trigger: 'change' }],\r\n        designService: [{ required: true, message: '请选择门店是否启用搭配服务！', trigger: 'change' }],\r\n        pricingPower: [{ required: true, message: '请选择门店是否启用价格管理！', trigger: 'change' }],\r\n        manageType_list: [{ required: true, validator: (rule, arr, callback) => {\r\n          const someItem = arr.some((item, index) => {\r\n            return item.checked;\r\n          });\r\n          if(!someItem) {\r\n            callback(new Error('至少要选择一项业务类型！'));\r\n          }else{\r\n            callback();\r\n          };\r\n        }, trigger: 'change' }],\r\n        paymentType_list: [{ required: true, validator: (rule, arr, callback) => {\r\n          const someItem = arr.some((item, index) => {\r\n            return item.checked;\r\n          });\r\n          if(!someItem) {\r\n            callback(new Error('至少要选择一项收款方式！'));\r\n          }else{\r\n            callback();\r\n          };\r\n        }, trigger: 'change' }],\r\n        manageRange_list: [{ required: true, validator: (rule, arr, callback) => {\r\n          const someItem = arr.some((item, index) => {\r\n            return item.checked;\r\n          });\r\n          if(!someItem) {\r\n            callback(new Error('至少要选择一项经营范围！'));\r\n          }else{\r\n            callback();\r\n          };\r\n        }, trigger: 'change' }],\r\n        storeImgs_list: [{ type: 'array', required: true, message: '至少上传一张门店图片！', trigger: 'blur' }],\r\n        logoImage_list: [{ type: 'array', required: true, message: '至少上传一张门店logo！', trigger: 'blur' }],\r\n        // enclosure_list: [{ type: 'array', required: true, message: '至少上传一张附件图片！', trigger: 'blur' }],\r\n      },\r\n      // 新建门店提交对象\r\n      save_createStore_obj: {\r\n        id:null, // 门店 id\r\n        name: \"\", // 门店名称\r\n        createName: \"\", // 创建人姓名\r\n        organizationId: \"\", // 组织机构 id\r\n        organizationName: \"\", // 组织机构名称\r\n        principalId: \"\", // 门店负责人 id\r\n        principalName: \"\", // 门店负责人名字\r\n        operationBegin: \"\", // 营业早上开门时间\r\n        operationEnd: \"\", // 营业晚上闭店时间\r\n        type: \"\", // 门店类型\r\n        linkman: \"\", // 联系人\r\n        phone: \"\", // 联系电话\r\n        provinceName: \"\", // 省份名称\r\n        provinceCode: \"\", // 省份 code\r\n        divisionId:\"\",// 区 id\r\n        cityName: \"\", // 城市名称\r\n        cityCode: \"\", // 城市 code\r\n        areaName: \"\", // 区域名称\r\n        areaCode: \"\", // 区域 code\r\n        addressInfo: \"\", // 详细地址\r\n        _addressInfo:\"\", // 详细地址临时备份 \r\n        _longitude: \"\", // 经度（暂存）\r\n        _latitude: \"\", // 纬度'（暂存）\r\n        longitude: \"\", // 经度\r\n        latitude: \"\", // 纬度'\r\n        goodsOwner: \"\", // 货权归属\r\n        pricingPower:\"\",// 启用价格管理\r\n        storeArea: \"\", // 店铺面积\r\n        cooperationArea: \"\", // 合作面积\r\n        designService: \"\", // 是否启用搭配服务\r\n        enableAllocation:false, // 启用门店调拨\r\n        enableShowWeChat:true, // 小程序展示\r\n        enableOwnSettlement:false, // 门店自收银\r\n        enableNoMemberBilling:false, // 无会员开单\r\n        enableOrderPrice:false, // 订单改价\r\n        // 经营类型列表\r\n        manageType_list:[],\r\n        // 门店货款方式列表\r\n        paymentType_list:[],\r\n        // 经营范围列表\r\n        manageRange_list:[],\r\n        // 门店标签列表\r\n        storeTag_list:[],\r\n        // 门店图片\r\n        storeImgs_list:[],\r\n        // 门店logo列表\r\n        logoImage_list:[],\r\n        // 门店logo提交对象\r\n        logoImage:[],\r\n        // 附件信息\r\n        enclosure_list:[],\r\n        // 经营信息（经营业务类型 0、门店收款方式 1、经营范围 2、门店标签 3）\r\n        infos: [],\r\n        // 图片信息（门店图片 0、附件图片 1）\r\n        images: []\r\n      },\r\n      // 门店名称备份\r\n      storeName:'',\r\n      filtersData:{\r\n        pageIndex: 1, //当前页码\r\n        pageSize: 10, //每页数量\r\n        used: null, //有效状态\r\n        filter: \"\", //搜索关键字\r\n        name:\"\",\r\n        isStart:\"\",\r\n        startDate: \"\",\r\n        endDate: \"\",\r\n        businessType:\"\",//\r\n        receiveDept:\"\",// 接受部门\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    const that = this;\r\n    // 获取所有字典内容\r\n    this.getAllCode();\r\n    // 获取用户列表\r\n    this.user_list();\r\n    // 获取隶属机构\r\n    document.onkeydown = function(e) {\r\n        var key = window.event.keyCode;\r\n        if (key == 13) {\r\n          that.handleSearch();\r\n        }\r\n    };\r\n    document.addEventListener('click', function(e) {\r\n      that.isAddShow = false;\r\n      e.stopPropagation();\r\n    }, false)\r\n  },\r\n  mounted() {},\r\n  computed: {\r\n    ...mapGetters({\r\n        userInfo: userTypes.GETTER_USERINFO\r\n    }),\r\n    storeImgs_list() {\r\n      return this.save_createStore_obj.storeImgs_list;\r\n    },\r\n    logoImage_list() {\r\n      return this.save_createStore_obj.logoImage_list;\r\n    },\r\n    enclosure_list() {\r\n      return this.save_createStore_obj.enclosure_list;\r\n    },\r\n    areaCode() {\r\n      return this.save_createStore_obj.areaCode;\r\n    },\r\n  },\r\n  watch:{\r\n    /**\r\n     * 监听门店图片\r\n     */\r\n    storeImgs_list(value) {\r\n      if(value && value.length > 0) {\r\n        this.$refs.formName.clearValidate('storeImgs_list');\r\n      }else{\r\n        this.$refs.formName.validateField('storeImgs_list');\r\n      }\r\n    },\r\n    /**\r\n     * 监听门店logo\r\n     */\r\n    logoImage_list(value) {\r\n      if(value && value.length > 0) {\r\n        this.$refs.formName.clearValidate('logoImage_list');\r\n      }else{\r\n        this.$refs.formName.validateField('logoImage_list');\r\n      }\r\n    },\r\n    /**\r\n     * 监听附件图片\r\n     */\r\n    enclosure_list(value) {\r\n      if(value && value.length > 0) {\r\n        this.$refs.formName.clearValidate('enclosure_list');\r\n      }else{\r\n        this.$refs.formName.validateField('enclosure_list');\r\n      }\r\n    },\r\n    /**\r\n     * 监听区域code，用户是否重新选择了地区\r\n     */\r\n    areaCode(value) {\r\n      this.dialogMapTF = true;\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 选择详细地址\r\n     */\r\n    checkAddress(checkItem) {\r\n      console.log(checkItem)\r\n      Object.assign(this.save_createStore_obj, {\r\n        longitude:checkItem.location.lng,\r\n        _longitude:checkItem.location.lng,\r\n        latitude:checkItem.location.lat,\r\n        _latitude:checkItem.location.lat,\r\n        addressInfo:checkItem.title\r\n      });\r\n      this.isAddShow = false;\r\n      console.log(checkItem)\r\n    },\r\n    /**\r\n     * 选择详细地址失去焦点时\r\n     */\r\n    checkAddblur(value) {\r\n      \r\n    },\r\n    /**\r\n     * 根据关键词模糊搜索地址\r\n     */\r\n    searchAddress() {\r\n      const that = this,\r\n        region = that.save_createStore_obj.cityName,\r\n        address = this.$refs.addressInput.value;\r\n        if(this._address == address) return;\r\n      // 先清\r\n      if(!address) {\r\n        this.searchAddress_list = [];\r\n      }\r\n      clearTimeout(this.searchAddressTime);\r\n      // 节流\r\n      this.searchAddressTime = setTimeout(() => {\r\n        if(!region){\r\n          this.warn('请选择省市区！');\r\n          return;\r\n        };\r\n        if(!address) return;\r\n        let url = 'https://apis.map.qq.com/ws/place/v1/suggestion';\r\n        this.$jsonp(url,{\r\n            key:'DAXBZ-VIQKS-7QAOO-6LPOB-EMQN7-UAFOU',\r\n            callbackName: 'QQmap',\r\n            output:'jsonp',\r\n            keyword:address,\r\n            region\r\n          })\r\n        .then(res => {\r\n          that.searchAddress_list = res.data;\r\n          that._address = this.$refs.addressInput.value;\r\n          that.isAddShow = true;\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n      });\r\n    },\r\n    /**\r\n     * 根据经纬度反查详细地址\r\n     */\r\n    lngAndLatSearchAddress(lng, lat) {\r\n      const that = this;\r\n\r\n      let url = 'https://apis.map.qq.com/ws/geocoder/v1/';\r\n      this.$jsonp(url,{\r\n          key:'DAXBZ-VIQKS-7QAOO-6LPOB-EMQN7-UAFOU',\r\n          callbackName: 'QQmap',\r\n          output:'jsonp',\r\n          location:`${lat},${lng}`\r\n        })\r\n      .then(res => {\r\n        if(res && res.result && res.result.formatted_addresses && res.result.formatted_addresses.recommend) {\r\n          that.save_createStore_obj.addressInfo = res.result.formatted_addresses.recommend;\r\n        }else{\r\n          // 重置地图位置\r\n          Object.assign(that.save_createStore_obj, {\r\n            addressInfo: \"\", // 详细地址\r\n            _longitude: \"\", // 经度（暂存）\r\n            _latitude: \"\", // 纬度'（暂存）\r\n            longitude: \"\", // 经度\r\n            latitude: \"\", // 纬度'\r\n          });\r\n          that.warn('查无地址，请重新选择门店位置！');\r\n        };\r\n        // 清空地址搜索项\r\n        that.searchAddress_list = [];\r\n      })\r\n      .catch(err => {\r\n          console.log(err)\r\n      })\r\n    },\r\n    /**\r\n     * 确认门店地图坐标\r\n     */\r\n    handleDialogMap() {\r\n      // 如果select选择的地址与地图选点的位置一致，那么就不需要重新选点\r\n      if(this.save_createStore_obj.longitude == this.save_createStore_obj._longitude && this.save_createStore_obj.addressInfo) {\r\n        this.dialogMap = false;\r\n        return;\r\n      };\r\n      this.save_createStore_obj.longitude = this.save_createStore_obj._longitude;\r\n      this.save_createStore_obj.latitude = this.save_createStore_obj._latitude;\r\n      this.dialogMap = false;\r\n      this.lngAndLatSearchAddress(this.save_createStore_obj.longitude, this.save_createStore_obj.latitude);\r\n    },\r\n    /**\r\n     * 地图选择门店坐标\r\n     */\r\n    fnMap() {\r\n      const that = this;\r\n      //\r\n      if(!this.save_createStore_obj.areaCode) {\r\n        this.warn('请选择省市区！');\r\n        return;\r\n      };\r\n\r\n      this.dialogMap = true;\r\n\r\n      // 地图只执行一次\r\n      if(this.dialogMapTF) {\r\n        this.TMap('DAXBZ-VIQKS-7QAOO-6LPOB-EMQN7-UAFOU').then(qq => {\r\n          var map = new qq.maps.Map(document.getElementById(\"container\"), {\r\n              // 地图的中心地理坐标。\r\n              center: new qq.maps.LatLng(39.916527, 116.397128),\r\n              // center: center,\r\n              zoom:11\r\n          });\r\n          var citylocation = new qq.maps.CityService({\r\n            complete : function(results){\r\n              map.setCenter(results.detail.latLng);\r\n            }\r\n          });\r\n          // 根据城市名称显示地图区域\r\n          citylocation.searchCityByName(this.save_createStore_obj.cityName);\r\n          var marker = null;\r\n          // 坐标回显\r\n          marker = new qq.maps.Marker({\r\n              position:new qq.maps.LatLng(that.save_createStore_obj.latitude, that.save_createStore_obj.longitude),\r\n              map: map\r\n          });\r\n          // 点击创建门店坐标\r\n          qq.maps.event.addListener(map, 'click', function(event) {\r\n            that.save_createStore_obj._longitude = event.latLng.getLng();\r\n            that.save_createStore_obj._latitude = event.latLng.getLat();\r\n            console.log(that.save_createStore_obj.longitude)\r\n            if(marker) {\r\n              marker.setMap(null);\r\n            };\r\n            marker = new qq.maps.Marker({\r\n                position:new qq.maps.LatLng(event.latLng.getLat(), event.latLng.getLng()),\r\n                map: map\r\n            });\r\n          });\r\n        });\r\n        this.dialogMapTF = false;\r\n      }\r\n    },\r\n    /**\r\n     * 关闭地图时，地图初始化\r\n     */\r\n    handleClose() {\r\n      if (!this.save_createStore_obj.longitude) {\r\n        this.dialogMapTF = true;\r\n      };\r\n    },\r\n    /**\r\n     * 腾讯地图\r\n     * @param { String } key\r\n     */\r\n    TMap(key) {\r\n      return new Promise(function (resolve, reject) {\r\n        window.init = function () {\r\n          resolve(qq);\r\n        }\r\n        var script = document.createElement(\"script\");\r\n        script.type = \"text/javascript\";\r\n        script.src = \"http://map.qq.com/api/js?v=2.exp&callback=init&key=\"+key;\r\n        script.onerror = reject;\r\n        document.head.appendChild(script);\r\n      })\r\n    },\r\n    /**\r\n     * 检验门店名称\r\n     * @param { String } value 门店名称\r\n     * @param { Function } callback 校验的回调函数\r\n     *\r\n     */\r\n     async checkStoreName(value, callback) {\r\n      if (!value){\r\n        callback(new Error('请输入门店名称！'));\r\n        return;\r\n      };\r\n      // 如果编辑原来的名字，则不做请求校验\r\n      if(this.storeName != value) {\r\n        let data = await this.request(\r\n          this.api.store.storeBasic_check,\r\n          {name:value}\r\n        );\r\n        if(!data) {\r\n          callback(new Error('已存在相同的门店名称，请重新输入！'));\r\n        }else{\r\n          callback();\r\n        };\r\n      }else{\r\n          callback();\r\n      };\r\n\r\n    },\r\n    /**\r\n     * 获取门店信息\r\n     * @param { String } id 门店 id\r\n     *\r\n     */\r\n    getStoreInfo(id) {\r\n      const that = this;\r\n      this.request(\r\n        this.api.store.storeBasic_get,\r\n        {id},\r\n        true\r\n      ).then(res => {\r\n        // delete res.organizationId;\r\n        // 不要直接this.save_createStore_obj = res，这样会把初始化的数据替换掉；\r\n        Object.assign(this.save_createStore_obj, res);\r\n        // 赋值经度位置预选\r\n        this.save_createStore_obj._latitude = this.save_createStore_obj.latitude;\r\n        this.save_createStore_obj._longitude = this.save_createStore_obj.longitude;\r\n\r\n        let data = this.save_createStore_obj;\r\n        // 处理门店名称\r\n        this.storeName = JSON.parse(JSON.stringify(data.name));\r\n        // 处理启用门店调拨\r\n        data.enableAllocation = this.save_createStore_obj.enableAllocation ? true : false ;\r\n        // 小程序展示\r\n        data.enableShowWeChat = this.save_createStore_obj.enableShowWeChat ? true : false ;\r\n        // 门店自收银\r\n        data.enableOwnSettlement = this.save_createStore_obj.enableOwnSettlement ? true : false ;\r\n        // 无会员开单\r\n        data.enableNoMemberBilling = this.save_createStore_obj.enableNoMemberBilling ? true : false ;\r\n        // 订单改价\r\n        data.enableOrderPrice  = this.save_createStore_obj.enableOrderPrice  ? true : false ;\r\n        // 处理图片\r\n        data.images.forEach((item, idnex) => {\r\n          switch(item.type) {\r\n            case 0:\r\n              data.storeImgs_list.push({url:item.url});\r\n            break;\r\n            case 1:\r\n              data.enclosure_list.push({url:item.url});\r\n            break;\r\n          }\r\n        });\r\n        // 处理logo\r\n        data.logoImage_list.push({ url:data.logoImage });\r\n        console.log(data.logoImage)\r\n        // 处理经营信息\r\n        let infosMap_arr = [];\r\n\r\n        Object.values(data.infosMap).forEach((item, index) => {\r\n          item.forEach((items, indexs) => {\r\n            infosMap_arr.push(items);\r\n          });\r\n        });\r\n        console.log(infosMap_arr);\r\n\r\n        infosMap_arr.forEach((item, idnex) => {\r\n          switch(item.type) {\r\n            case 0:\r\n              this.findTime(item, data.manageType_list);\r\n            break;\r\n            case 1:\r\n              this.findTime(item, data.paymentType_list);\r\n            break;\r\n            case 2:\r\n              this.findTime(item, data.manageRange_list);\r\n            break;\r\n            case 3:\r\n              this.findTime(item, data.storeTag_list);\r\n            break;\r\n          }\r\n        });\r\n        console.log(data)\r\n      });\r\n    },\r\n    /**\r\n     * 查找经营信息匹配的项\r\n     * @param { Object } item 当前对比的对象；\r\n     * @param { Array } arr 需要查找的数组；\r\n     */\r\n    findTime(item, arr) {\r\n      var findTime = arr.find((items, indexs) => {\r\n        return item.dataName == items.name;\r\n      });\r\n      if(findTime){\r\n        findTime.checked = true;\r\n      };\r\n    },\r\n    /**\r\n     * 选择字典项\r\n     * @param { Object } item 当前项\r\n     */\r\n    selectCheckbox(item) {\r\n      item.checked = !item.checked;\r\n    },\r\n    /**\r\n     * 获取字典项\r\n     */\r\n    getAllCode() {\r\n      this.request(\r\n        this.api.system.ALL_CODESET_POST,\r\n        {},\r\n        true\r\n      ).then(res => {\r\n        res.forEach((item, index) => {\r\n          switch(item.name) {\r\n            case 'STO001':\r\n              // 门店类型列表\r\n              item.codeItemList.forEach((itemk, indexk) => {\r\n                itemk.checked = false;\r\n              });\r\n              this.store_list = item.codeItemList;\r\n              break;\r\n            case 'COM002':\r\n              // 经营类型列表\r\n              item.codeItemList.forEach((itemk, indexk) => {\r\n                itemk.checked = false;\r\n              });\r\n              this.save_createStore_obj.manageType_list = item.codeItemList;\r\n              break;\r\n            case 'STO002':\r\n              // 门店收款方式\r\n              item.codeItemList.forEach((itemk, indexk) => {\r\n                itemk.checked = false;\r\n              });\r\n              this.save_createStore_obj.paymentType_list = item.codeItemList;\r\n            break;\r\n            case 'STO003':\r\n              // 门店货权归属\r\n              item.codeItemList.forEach((itemk, indexk) => {\r\n                itemk.checked = false;\r\n              });\r\n              this.goodsowner_list = item.codeItemList;\r\n            break;\r\n              case 'STO004':\r\n              // 经营范围列表\r\n              item.codeItemList.forEach((itemk, indexk) => {\r\n                itemk.checked = false;\r\n              });\r\n              this.save_createStore_obj.manageRange_list = item.codeItemList;\r\n            break;\r\n              case 'STO005':\r\n              // 门店标签\r\n              item.codeItemList.forEach((itemk, indexk) => {\r\n                itemk.checked = false;\r\n              });\r\n              this.save_createStore_obj.storeTag_list = item.codeItemList;\r\n            break;\r\n          }\r\n        });\r\n        // 获取门店信息\r\n        if(this.isEcho) {\r\n          this.getStoreInfo(this.$route.query.id);\r\n        };\r\n      });\r\n    },\r\n    /**\r\n     * 获取人员列表\r\n     */\r\n    user_list() {\r\n      this.request(\r\n        this.api.store.user_list,\r\n        this.filtersData,\r\n        true\r\n      ).then(res => {\r\n        this.principal_list = res;\r\n      });\r\n    },\r\n    /**\r\n     * 搜索\r\n     */\r\n    handleSearch() {\r\n      this.user_list();\r\n    },\r\n    /**\r\n     * 选择地区回调\r\n     * @param { Object } obj 选择区域返回的回调函数\r\n     */\r\n    setDivision(obj) {\r\n      console.log(obj)\r\n      this.searchAddress_list = [];\r\n\r\n      Object.assign(this.save_createStore_obj, {\r\n        \"provinceName\": obj.province,// 省份名称\r\n        \"provinceCode\": obj.provinceCode,// 省份 code\r\n        \"divisionId\":obj.divisionId,// 区 id\r\n        \"cityName\": obj.municipality,// 城市名称\r\n        \"cityCode\": obj.municipalityCode,// 城市 code\r\n        \"areaName\": obj.area,// 区域名称\r\n        \"areaCode\": obj.areaCode,// 区域 code\r\n      });\r\n    },\r\n    /**\r\n     * 匹配营业时间段\r\n     * @param { Regular } /^\\d+:\\d+/g  开头为数字，匹配n个，然后匹配'：'再然后数字n个\r\n     */\r\n    matchTime(strTime) {\r\n      if(!strTime) return;\r\n      var reg = /\\d+:\\d+/g;\r\n      var regZone = /0800/g;\r\n      var str = strTime && strTime.match(reg)[0];\r\n      var isZone = regZone.test(strTime);\r\n\r\n      str = str.split(':');\r\n      // 此处需加8个小时（时区时间）\r\n      if(!isZone) {\r\n        str = this.replenishZero((parseInt(str[0]) + 8)%24) + ':' + str[1];\r\n      }else{\r\n        str = `${str[0]}:${str[1]}`\r\n      };\r\n      return str;\r\n    },\r\n    /**\r\n     * 补零函数\r\n     * @param { Nunber | String } item 数字或数字字符串 如： 1，'1'\r\n     * @return { String } 如：'01'\r\n     */\r\n    replenishZero(item) {\r\n        item = parseInt(item);\r\n\r\n        return item < 10 ? `0${item}` : item;\r\n    },\r\n    /**\r\n     * 添加门店负责人\r\n     * @param { Object } item 选中的当前项\r\n     */\r\n    add_principal(item) {\r\n      if(!item) return;\r\n      Object.assign(this.save_createStore_obj, {\r\n        principalId:item.id,\r\n        principalName:item.name\r\n      });\r\n      this.dialogTableVisible = false;\r\n    },\r\n    /**\r\n     * 新建或编辑门店\r\n     */\r\n    save_createStore() {\r\n      let that = this,\r\n        data = JSON.parse(JSON.stringify(this.save_createStore_obj));\r\n      if(this.isEcho) {\r\n        Object.assign(data, {\r\n          id:this.$route.query.id\r\n        })\r\n      };\r\n      // 添加创建人姓名\r\n      data.createName = this.userInfo.name;\r\n      // 添加隶属机构名称\r\n      if(!this.isEcho) {\r\n        data.organizationName = this.$refs.organizationName.organizationList[0].name;\r\n        console.log(this.$refs.organizationName)\r\n      };\r\n      // 处理启用门店调拨\r\n      data.enableAllocation = this.save_createStore_obj.enableAllocation ? 1 : 0 ;\r\n      // 处理启用门店调拨\r\n      data.enableShowWeChat = this.save_createStore_obj.enableShowWeChat ? 1 : 0 ;\r\n      // 处理门店自收银\r\n      data.enableOwnSettlement = this.save_createStore_obj.enableOwnSettlement ? 1 : 0 ;\r\n      // 处理无会员开单\r\n      data.enableNoMemberBilling = this.save_createStore_obj.enableNoMemberBilling ? 1 : 0 ;\r\n      // 订单改价\r\n      data.enableOrderPrice  = this.save_createStore_obj.enableOrderPrice  ? 1 : 0 ;\r\n      // 处理经营信息\r\n      data.infos = [];\r\n      this.pushInfos(this.save_createStore_obj.manageType_list, 0, data);\r\n      this.pushInfos(this.save_createStore_obj.paymentType_list, 1, data);\r\n      this.pushInfos(this.save_createStore_obj.manageRange_list, 2, data);\r\n      this.pushInfos(this.save_createStore_obj.storeTag_list, 3, data);\r\n      // 处理图片\r\n      data.images = [];\r\n      this.pushImages(this.save_createStore_obj.storeImgs_list, 0, data);\r\n      this.pushImages(this.save_createStore_obj.enclosure_list, 1, data);\r\n      // 处理门店logo\r\n      if( data.logoImage_list.length > 0){\r\n        data.logoImage = data.logoImage_list[0].url;\r\n      }\r\n      // 删除无用数据\r\n      delete data.enclosure_list;\r\n      delete data.manageRange_list;\r\n      delete data.manageType_list;\r\n      delete data.paymentType_list;\r\n      delete data.storeImgs_list;\r\n      delete data.storeTag_list;\r\n      delete data.logoImage_list;\r\n      delete data.infosMap;\r\n      console.log(data);\r\n      // return;\r\n      this.$refs.formName.validate((valid) => {\r\n        if (valid) {\r\n          let text = this.isEcho ? '零售门店信息修改后将立即生效，是否确认修改？' : '请确认以上内容填写无误，是否确认创建此门店？';\r\n          let textEcho = this.isEcho ? '编辑成功！' : '新建成功！';\r\n\r\n          this.$confirm(text, '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          }).then(() => {\r\n            // 请求\r\n            this.request(\r\n              this.api.store.storeBasic_save,\r\n              data\r\n            ).then(res => {\r\n              this.warn(textEcho);\r\n              this.href('store/store/store_info_list');\r\n            });\r\n          }).catch(() => {\r\n            this.warn('已取消！',{\r\n              type:'info'\r\n            });\r\n\r\n          });\r\n\r\n        } else {\r\n           this.warn('门店信息未填写完整，请填写完整后重试！','warning');\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 添加经营信息\r\n     * @param { Array } arr 父级数组集合\r\n     * @param { Number } type 经营信息类型\r\n     * @param { Object } data 提交对象集合\r\n     */\r\n    pushInfos(arr, type, data) {\r\n      arr.forEach((item, index) => {\r\n        if(item.checked) {\r\n          data.infos.push({\r\n            \"dataName\": item.name,\r\n            \"dataId\": item.codeSetId,\r\n            \"type\": type\r\n          })\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 提示\r\n     * @param { String } message 提示文案\r\n     * @param { String } type 提示类型\r\n     */\r\n    warn(message, type) {\r\n      this.$message({\r\n        message: message,\r\n        type: type || 'success'\r\n      });\r\n    },\r\n    /**\r\n     * 跳转\r\n     * @param { String } routeName 路由跳转名字\r\n     */\r\n    href(routeName) {\r\n      this.$router.push({\r\n        path: `/${routeName}`\r\n      });\r\n    },\r\n    /**\r\n     * 添加门店图片，附件信息\r\n     * @param { Array } arr 父级数组集合\r\n     * @param { Number } type 经营信息类型\r\n     * @param { Object } data 提交对象集合\r\n     */\r\n    pushImages(arr, type, data) {\r\n\r\n      arr.forEach((item, index) => {\r\n        console.log(arr)\r\n        data.images.push({\r\n          \"type\": type,\r\n          \"url\": item.url\r\n        })\r\n      });\r\n    },\r\n    /**\r\n     * 点击页数\r\n     * @param { Number } pageIndex 当前页\r\n     */\r\n    handleCurrentChange(pageIndex){\r\n        this.filtersData.pageIndex = pageIndex;\r\n        this.user_list();\r\n    },\r\n    /**\r\n     * 改变每页展示条目\r\n     * @param { Number } pageSize 每页展示条目\r\n     */\r\n    handleSizeChange(pageSize){\r\n        this.filtersData.pageSize = pageSize;\r\n        this.user_list();\r\n    },\r\n  },\r\n  components: {\r\n    codeSet,\r\n    division,\r\n    treeDept,\r\n    ElUploadImg,\r\n    OrganizationSelect,\r\n    businessTime\r\n  }\r\n};\r\n</script>\r\n<style  lang=\"less\" scoped>\r\n.add{\r\n  position: relative;\r\n}\r\n.address{\r\n  width: 370px;\r\n  padding: 0 15px;\r\n  background-color: #FFF;\r\n  background-image: none;\r\n  border-radius: 4px;\r\n  border: 1px solid #DCDFE6;\r\n  box-sizing: border-box;\r\n  color: #606266;\r\n  display: inline-block;\r\n  font-size: inherit;\r\n  height: 32px;\r\n}\r\n.addOv{\r\n  height: 240px;\r\n}\r\n.address::-webkit-input-placeholder {\r\n    color: #C0C4CC;\r\n}\r\n.address2{\r\n    background: #F5F7FA;\r\n    color: #C0C4CC;\r\n  }\r\n.address-box{\r\n  position: absolute;\r\n  bottom:50px;\r\n  overflow-y: scroll;\r\n  left:0px;                            \r\n  background: #fff;\r\n  width: 370px;\r\n  border-radius: 5px;\r\n  border: 1px solid #e4e7ed;\r\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\r\n  position: absolute;\r\n  font-size: 12px;\r\n  color: #606266;\r\n  z-index: 9999;\r\n}\r\n.address-box .li{\r\n  text-indent: 30px;\r\n  width: 360px;\r\n  overflow: hidden;\r\n  text-overflow:ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.address-box .li:hover{\r\n  background: #f5f7fa;\r\n}\r\n.address-box:after{\r\n  // position: absolute;\r\n  // display: block;\r\n  // width: 0;\r\n  // height: 0;\r\n  // border-color: transparent;\r\n  // border-style: solid;\r\n  // bottom: 12px;\r\n  // left: 48px;\r\n  // margin-left: -6px;\r\n  // border-top-width: 0;\r\n  // border-bottom-color: #fff;\r\n  // content: \" \";\r\n  // border-width: 6px;\r\n}\r\n#container{\r\n  width: 100%;\r\n  height: 500px;\r\n  border: 1px solid #666;\r\n}\r\n.add_principal{\r\n  color: #2290E8;\r\n  cursor: pointer;\r\n}\r\n\r\n.create-store {\r\n  margin: 8px;\r\n  background: #fff;\r\n  position: relative;\r\n  padding: 20px 20px 60px 20px;\r\n  .save {\r\n    position: absolute;\r\n    left: 140px;\r\n  }\r\n  .form-label {\r\n    margin-top: 20px;\r\n    .el-input,\r\n    .el-select {\r\n      width: 370px;\r\n    }\r\n    .el-checkbox-group {\r\n      width: 650px;\r\n    }\r\n    .el-checkbox-group /deep/ .el-checkbox{\r\n      width: 100px;\r\n    }\r\n    .el-input-short {\r\n      width: 180px;\r\n    }\r\n    .video-upload {\r\n      border: 1px dashed #d9d9d9;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      position: relative;\r\n      overflow: hidden;\r\n      width: 80px;\r\n      height: 80px;\r\n      text-align: center;\r\n      line-height: 80px;\r\n      span {\r\n        font-size: 35px;\r\n        color: #d9d9d9;\r\n      }\r\n    }\r\n    .video-upload-p {\r\n      color: #666;\r\n      font-size: 12px;\r\n    }\r\n    .video-upload:hover {\r\n      border: 1px dashed #409eff;\r\n    }\r\n  }\r\n}\r\n.display-flex {\r\n  display: flex;\r\n}\r\n</style>\r\n\r\n"],"sourceRoot":"src/views/store/store"}]}