{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\workorder\\config\\workOrder_time_redact.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\workorder\\config\\workOrder_time_redact.vue","mtime":1574160264939},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport _typeof from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/typeof\";\nimport \"core-js/modules/es7.object.values\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport { getToken } from \"@/utils/auth\";\nimport codeSet from \"@/components/codeSet\";\nimport treeDept from \"@/components/treeDept\";\nimport { filter } from \"minimatch\";\nimport { get } from \"http\";\nvar token = getToken();\nexport default {\n  data: function data() {\n    return {\n      // 预警类型列表\n      warningTypeList: [],\n      // 消息模板列表\n      messageTemplate_List: [],\n      // 适用工单列表\n      findAll_List: [],\n      applyWorkOrders_backups: [],\n      // 预警设置列表备份，添加时候直接深拷贝使用\n      \"alarmSetsBck\": {},\n      jobOrderTimeSaveObjName: '',\n      // 新增工单时限对象集合\n      jobOrderTimeSaveObj: {\n        \"alarmSets\": [// 预警设置列表\n        {\n          // 预警结束时间\n          endTime: {\n            day: '00',\n            hour: '00',\n            minute: '00',\n            s: '00'\n          },\n          \"adminReceive\": \"\",\n          // 管理者接收\n          \"localRemind\": \"\",\n          // 站内提醒\n          \"signerReceive\": false,\n          // 工单签发人接收\n          \"warnType\": \"\",\n          // 预警类型\n          localRemindDisabled: false,\n          // 站内提醒状态\n          adminReceiveDisabled: false // 管理者状态\n\n        }],\n        // 处理时间时长\n        handleTime: {\n          day: '00',\n          hour: '00',\n          minute: '00',\n          s: '00'\n        },\n        // 流入工单池时间\n        jobPoolTime: {\n          day: '00',\n          hour: '00',\n          minute: '00',\n          s: '00'\n        },\n        \"applyWorkOrders\": [],\n        // 适用工单\n        \"isStart\": 1,\n        // 启停状态\n        \"name\": \"\" // 时限管理名称\n\n      }\n    };\n  },\n  created: function created() {\n    // 拷贝预警设置\n    this.alarmSetsBck = JSON.parse(JSON.stringify(this.jobOrderTimeSaveObj.alarmSets[0]));\n    this.getJobOrderTimeGet(this.$route.query.id);\n    this.getWarningTypeList();\n    this.getMessageTemplate_List();\n    this.getFindAll_List(); // this.tableItemListByOrderExtendId();\n  },\n  methods: {\n    /**\r\n     * 获取工单时间配置内容\r\n     */\n    getJobOrderTimeGet: function getJobOrderTimeGet(id) {\n      var that = this;\n      this.request(that.api.job_order.jobOrderTimeGet, {\n        id: id\n      }).then(function (res) {\n        // 启停状态数据处理\n        res.isStart = res.isStart ? true : false; // 站内提醒，接收人数据处理\n\n        res.alarmSets.forEach(function (item, index) {\n          item.localRemindDisabled = item.localRemind ? true : false;\n          item.adminReceiveDisabled = item.adminReceive ? true : false;\n          item.signerReceive = item.signerReceive == 'true' ? true : false;\n          item.endTime = that.strObj(item.endTime);\n        });\n        res.handleTime = that.strObj(res.handleTime);\n        res.jobPoolTime = that.strObj(res.jobPoolTime);\n        that.jobOrderTimeSaveObj = res; // 备份适用工单，添加时做校验\n\n        that.applyWorkOrders_backups = JSON.parse(JSON.stringify(that.jobOrderTimeSaveObj.applyWorkOrders));\n        that.jobOrderTimeSaveObjName = JSON.parse(JSON.stringify(that.jobOrderTimeSaveObj.name));\n      });\n    },\n\n    /**\r\n     * 字符串转对象\r\n     */\n    strObj: function strObj(str) {\n      var arr = str.split('-');\n      return {\n        day: this.replenishZero(arr[0]),\n        hour: this.replenishZero(arr[1]),\n        minute: this.replenishZero(arr[2]),\n        s: this.replenishZero(arr[3])\n      };\n    },\n\n    /**\r\n     * 补零函数\r\n     * @param { Nunber | String } item 数字或数字字符串 如： 1，'1'\r\n     * @return { String } 如：'01'\r\n     */\n    replenishZero: function replenishZero(item) {\n      item = parseInt(item);\n      return item < 10 ? \"0\".concat(item) : item;\n    },\n\n    /**\r\n     * 获取预警类型\r\n     */\n    getWarningTypeList: function getWarningTypeList() {\n      var that = this;\n      this.request(that.api.job_order.getWarningType_List).then(function (res) {\n        that.warningTypeList = res;\n      });\n    },\n\n    /**\r\n     * 获取消息模板\r\n     */\n    getMessageTemplate_List: function getMessageTemplate_List() {\n      var that = this;\n      this.request(that.api.job_order.getMessageTemplate_List).then(function (res) {\n        that.messageTemplate_List = res;\n      });\n    },\n\n    /**\r\n     * 获取适用工单\r\n     */\n    getFindAll_List: function getFindAll_List() {\n      var that = this;\n      this.request(that.api.job_order.getFindAll_List, {}).then(function (res) {\n        that.findAll_List = res;\n      });\n    },\n\n    /**\r\n     * 预防js注入攻击函数\r\n     * @param { String } str 输入的文本\r\n     */\n    preventGsImplantAttack: function preventGsImplantAttack(str) {\n      var res = /(<|>)/ig;\n      return str.replace(res, function (item) {\n        switch (item) {\n          case '<':\n            return '&lt;';\n            break;\n\n          case '>':\n            return '&gt;';\n            break;\n        }\n      });\n    },\n\n    /**\r\n     * 保存工单时间\r\n     */\n    saveJobTime: function () {\n      var _saveJobTime = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var that, nameReg, isRepetition, handleTimeEvery, _item, _item2, _loop, i, item, _ret, data;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                that = this, nameReg = /^([\\w\\u4E00-\\u9FA5_\\-]+)+$/;\n\n                if (that.jobOrderTimeSaveObj.name) {\n                  _context.next = 4;\n                  break;\n                }\n\n                this.warn('时限管理名称不能为空！');\n                return _context.abrupt(\"return\");\n\n              case 4:\n                ;\n\n                if (nameReg.test(that.jobOrderTimeSaveObj.name)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                this.warn('时限管理名称不能含有特殊字符！');\n                return _context.abrupt(\"return\");\n\n              case 8:\n                ; // 编辑的名字不等于数据库存的名字，才去校验，名字是否重复\n\n                if (!(this.jobOrderTimeSaveObjName != that.jobOrderTimeSaveObj.name)) {\n                  _context.next = 17;\n                  break;\n                }\n\n                _context.next = 12;\n                return this.request(this.api.job_order.jobOrderTime_validation, {\n                  name: that.jobOrderTimeSaveObj.name,\n                  applyWorkOrders: []\n                });\n\n              case 12:\n                isRepetition = _context.sent;\n\n                if (isRepetition.exist) {\n                  _context.next = 16;\n                  break;\n                }\n\n                that.warn(isRepetition.msg);\n                return _context.abrupt(\"return\");\n\n              case 16:\n                ;\n\n              case 17:\n                handleTimeEvery = Object.values(that.jobOrderTimeSaveObj.handleTime).every(function (item) {\n                  return item == false;\n                });\n\n                if (!handleTimeEvery) {\n                  _context.next = 21;\n                  break;\n                }\n\n                this.warn('处理时长不能为空！');\n                return _context.abrupt(\"return\");\n\n              case 21:\n                ;\n                _context.t0 = regeneratorRuntime.keys(that.jobOrderTimeSaveObj.handleTime);\n\n              case 23:\n                if ((_context.t1 = _context.t0()).done) {\n                  _context.next = 30;\n                  break;\n                }\n\n                _item = _context.t1.value;\n\n                if (!(that.jobOrderTimeSaveObj.handleTime[_item] < 0)) {\n                  _context.next = 28;\n                  break;\n                }\n\n                this.warn('处理时长不能含有负数！');\n                return _context.abrupt(\"return\");\n\n              case 28:\n                _context.next = 23;\n                break;\n\n              case 30:\n                ;\n                _context.t2 = regeneratorRuntime.keys(that.jobOrderTimeSaveObj.jobPoolTime);\n\n              case 32:\n                if ((_context.t3 = _context.t2()).done) {\n                  _context.next = 39;\n                  break;\n                }\n\n                _item2 = _context.t3.value;\n\n                if (!(that.jobOrderTimeSaveObj.jobPoolTime[_item2] < 0)) {\n                  _context.next = 37;\n                  break;\n                }\n\n                this.warn('流入工单池时间不能含有负数！');\n                return _context.abrupt(\"return\");\n\n              case 37:\n                _context.next = 32;\n                break;\n\n              case 39:\n                ;\n\n                if (that.jobOrderTimeSaveObj.alarmSets.length) {\n                  _context.next = 43;\n                  break;\n                }\n\n                this.warn('请添加预警配置！');\n                return _context.abrupt(\"return\");\n\n              case 43:\n                ;\n\n                _loop = function _loop() {\n                  item = that.jobOrderTimeSaveObj.alarmSets[i];\n                  var endTimeEvery = Object.values(item.endTime).every(function (item) {\n                    return item == false;\n                  });\n\n                  if (endTimeEvery) {\n                    _this.warn('预警时间段不能为空！');\n\n                    return {\n                      v: void 0\n                    };\n                  }\n\n                  ;\n\n                  for (var _i in item.endTime) {\n                    if (item.endTime[_i] < 0) {\n                      _this.warn('预警时间段不能含有负数！');\n\n                      return {\n                        v: void 0\n                      };\n                    }\n                  }\n\n                  ; // 把除了当前的endTime全部装到endTimeArr里\n\n                  var endTimeArr = [];\n                  that.jobOrderTimeSaveObj.alarmSets.forEach(function (items, indexs) {\n                    for (name in items.endTime) {\n                      items.endTime[name] = _this.replenishZero(items.endTime[name]);\n                    }\n\n                    ;\n\n                    if (items !== item) {\n                      endTimeArr.push({\n                        endTime: items.endTime\n                      });\n                    }\n\n                    ;\n                  }); // 拿当前的endTime跟数组里所有时间做比较，如果时间相同，那么返回这个元素\n\n                  var isEndTimes = endTimeArr.find(function (isItem, IsIndex) {\n                    var item_endTime = parseInt(Object.values(item.endTime).join(''));\n                    var items_endTime = parseInt(Object.values(isItem.endTime).join(''));\n                    return item_endTime === items_endTime;\n                  });\n\n                  if (isEndTimes) {\n                    isEndTimes.endTime.isEndTime = true;\n\n                    _this.warn('预警时间段不能重复设置！');\n\n                    return {\n                      v: void 0\n                    };\n                  }\n\n                  ;\n\n                  if (!item.warnType) {\n                    _this.warn('请选择预警类型！');\n\n                    return {\n                      v: void 0\n                    };\n                  }\n\n                  ;\n\n                  if (item.localRemindDisabled && !item.localRemind) {\n                    _this.warn('请选择预警提醒！');\n\n                    return {\n                      v: void 0\n                    };\n                  }\n\n                  ;\n\n                  if (item.localRemindDisabled && !item.signerReceive && !item.adminReceiveDisabled) {\n                    _this.warn('请勾选接收人！');\n\n                    return {\n                      v: void 0\n                    };\n                  }\n\n                  ;\n\n                  if (item.adminReceiveDisabled && !item.adminReceive) {\n                    _this.warn('请选择所属机构！');\n\n                    return {\n                      v: void 0\n                    };\n                  }\n\n                  ;\n                };\n\n                i = 0;\n\n              case 46:\n                if (!(i < that.jobOrderTimeSaveObj.alarmSets.length)) {\n                  _context.next = 53;\n                  break;\n                }\n\n                _ret = _loop();\n\n                if (!(_typeof(_ret) === \"object\")) {\n                  _context.next = 50;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _ret.v);\n\n              case 50:\n                i++;\n                _context.next = 46;\n                break;\n\n              case 53:\n                ; // 数据提交之前，最后一次深拷贝\n\n                data = JSON.parse(JSON.stringify(that.jobOrderTimeSaveObj)); // 处理数据\n\n                data.handleTime = this.obj2Str(data.handleTime);\n                data.jobPoolTime = this.obj2Str(data.jobPoolTime);\n                data.isStart = data.isStart ? 1 : 0;\n                data.alarmSets.forEach(function (item, index) {\n                  item.endTime = _this.obj2Str(item.endTime); // 如果站内消息没有勾选，清除站内提醒数据\n\n                  item.localRemind = item.localRemindDisabled ? item.localRemind : ''; // 如果接收人没有勾选，清除管理者接收数据\n\n                  item.adminReceive = item.adminReceiveDisabled || item.signerReceive ? item.adminReceive : '';\n                }); // return;\n\n                this.request(that.api.job_order.jobOrderTimeUpdate, data).then(function (res) {\n                  that.warn('工单时限编辑成功！', 'success');\n                  that.href('workorder/config/workOrder_time_list');\n                });\n\n              case 60:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function saveJobTime() {\n        return _saveJobTime.apply(this, arguments);\n      }\n\n      return saveJobTime;\n    }(),\n\n    /**\r\n     * 提示\r\n     */\n    warn: function warn(message, type) {\n      this.$message({\n        message: message,\n        type: type || 'warning'\n      });\n    },\n\n    /**\r\n     * 对象拼接字符串\r\n     * @param { Object } timeObj 时间对象\r\n     */\n    obj2Str: function obj2Str(timeObj) {\n      var newTimeObj = '';\n\n      for (var item in timeObj) {\n        if (timeObj[item]) {\n          newTimeObj += \"\".concat(timeObj[item], \"-\");\n        } else {\n          newTimeObj += \"0-\";\n        }\n      }\n\n      ;\n      return newTimeObj.replace(/-$/g, '');\n    },\n\n    /**\r\n     * 添加预警\r\n     */\n    addAlarmSets: function addAlarmSets() {\n      var that = this;\n      that.jobOrderTimeSaveObj.alarmSets.push(JSON.parse(JSON.stringify(that.alarmSetsBck)));\n    },\n\n    /**\r\n     * 删除预警\r\n     */\n    closeAlarmSets: function closeAlarmSets(index) {\n      var that = this;\n      that.jobOrderTimeSaveObj.alarmSets.splice(index, 1);\n    },\n\n    /**\r\n     * 添加适用工单，且添加的工单不能重复\r\n     * @param { Object } item 选中的每一项\r\n     */\n    addApplyWorkOrder: function () {\n      var _addApplyWorkOrder = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(item) {\n        var that, isExist, isRepetition, isHas;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                that = this; // 判断是否是编辑时获取的适用工单，如果不是可以走检验\n\n                isExist = this.applyWorkOrders_backups.every(function (v) {\n                  return v.workOrderId != item.id;\n                }); // 检验工单是否已经创建\n\n                if (!isExist) {\n                  _context2.next = 10;\n                  break;\n                }\n\n                _context2.next = 5;\n                return this.request(this.api.job_order.jobOrderTime_validation, {\n                  name: '',\n                  applyWorkOrders: [{\n                    workOrderId: item.id,\n                    workOrderName: item.name\n                  }]\n                });\n\n              case 5:\n                isRepetition = _context2.sent;\n\n                if (isRepetition.exist) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                that.warn(isRepetition.msg);\n                return _context2.abrupt(\"return\");\n\n              case 9:\n                ;\n\n              case 10:\n                ;\n                isHas = that.jobOrderTimeSaveObj.applyWorkOrders.every(function (i) {\n                  return i.workOrderId != item.id;\n                });\n\n                if (isHas) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 14:\n                that.jobOrderTimeSaveObj.applyWorkOrders.push({\n                  workOrderId: item.id,\n                  workOrderName: item.name\n                });\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function addApplyWorkOrder(_x) {\n        return _addApplyWorkOrder.apply(this, arguments);\n      }\n\n      return addApplyWorkOrder;\n    }(),\n\n    /**\r\n     * 适用工单校验\r\n     */\n    applyWorkOrdersValidation: function applyWorkOrdersValidation(item) {\n      this.request(this.api.job_order.jobOrderTime_validation, {\n        name: '',\n        applyWorkOrders: [{\n          workOrderId: item.id,\n          workOrderName: item.name\n        }]\n      });\n    },\n\n    /**\r\n     * 删除适用工单\r\n     */\n    deleteTag: function deleteTag(index) {\n      var that = this;\n      that.jobOrderTimeSaveObj.applyWorkOrders.splice(index, 1);\n    },\n\n    /**\r\n     * 跳转\r\n     */\n    href: function href(routeName) {\n      this.$router.push({\n        path: \"/\".concat(routeName)\n      });\n    },\n\n    /**\r\n     * 领取工单\r\n     */\n    open2: function open2() {\n      this.$message({\n        message: \"工单领取成功！\",\n        type: \"success\"\n      });\n    }\n  },\n  components: {\n    codeSet: codeSet,\n    treeDept: treeDept\n  }\n};",{"version":3,"sources":["workOrder_time_redact.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 创建新工单 -->\r\n<template>\r\n  <div>\r\n    <!-- 新建工单 -->\r\n    <div class=\"item-margin\" style=\"height:100%;\">\r\n      <div class=\"item-form\">\r\n        <el-form ref=\"form\" :model=\"jobOrderTimeSaveObj\">\r\n          <div class=\"display-flex leftName\">\r\n            <span class=\"leftName-span\"><i class=\"colorRed\">*&nbsp;</i>时限管理名称：</span>\r\n            <el-form-item>\r\n              <el-input maxlength=\"30\"  v-model=\"jobOrderTimeSaveObj.name\" class=\"width350\"></el-input>\r\n            </el-form-item>\r\n          </div>\r\n          <div class=\"display-flex leftName\">\r\n            <span class=\"leftName-span\"><i class=\"colorRed\">*&nbsp;</i>设置处理时长：</span>\r\n            <el-form-item>\r\n              <el-input type=\"number\" v-model=\"jobOrderTimeSaveObj.handleTime.day\" class=\"width50\"></el-input>&nbsp;天&nbsp;\r\n              <el-input type=\"number\" v-model=\"jobOrderTimeSaveObj.handleTime.hour\" class=\"width50\"></el-input>&nbsp;时&nbsp;\r\n              <el-input type=\"number\" v-model=\"jobOrderTimeSaveObj.handleTime.minute\" class=\"width50\"></el-input>&nbsp;分&nbsp;\r\n              <el-input type=\"number\" v-model=\"jobOrderTimeSaveObj.handleTime.s\" class=\"width50\"></el-input>&nbsp;秒&nbsp;\r\n            </el-form-item>\r\n          </div>\r\n          <div class=\"display-flex leftName\">\r\n            <span class=\"leftName-span\"><i class=\"colorRed\">&nbsp;</i>设置流入工单池时间：</span>\r\n            <el-form-item>\r\n              <el-input type=\"number\" v-model=\"jobOrderTimeSaveObj.jobPoolTime.day\" class=\"width50\"></el-input>&nbsp;天&nbsp;\r\n              <el-input type=\"number\" v-model=\"jobOrderTimeSaveObj.jobPoolTime.hour\" class=\"width50\"></el-input>&nbsp;时&nbsp;\r\n              <el-input type=\"number\" v-model=\"jobOrderTimeSaveObj.jobPoolTime.minute\" class=\"width50\"></el-input>&nbsp;分&nbsp;\r\n              <el-input type=\"number\" v-model=\"jobOrderTimeSaveObj.jobPoolTime.s\" class=\"width50\"></el-input>&nbsp;秒&nbsp;\r\n            </el-form-item>\r\n          </div>\r\n          <div class=\"display-flex leftName\">\r\n            <span class=\"leftName-span\">适用工单：</span>\r\n            <el-form-item >\r\n                <div class=\"width600\">\r\n                  <el-tag\r\n                    class=\"mr-10\"\r\n                    v-for=\"(item, index) in jobOrderTimeSaveObj.applyWorkOrders\"\r\n                    :key=\"item.workOrderName\"\r\n                    closable\r\n                    :type=\"item.type\"\r\n                    @close=\"deleteTag(index)\"\r\n                  >{{item.workOrderName}}\r\n                  </el-tag>\r\n                </div>\r\n                <el-dropdown\r\n                  size=\"medium\"\r\n                  :split-button=\"true\"\r\n                  type=\"primary\"\r\n                  @command=\"addApplyWorkOrder\">\r\n                  添加\r\n                  <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item :command=\"item\" :key=\"index\" v-for=\"(item, index) in findAll_List\">{{ item.name }}</el-dropdown-item>\r\n                  </el-dropdown-menu>\r\n                </el-dropdown>\r\n              </el-form-item>\r\n          </div>\r\n          <div class=\"display-flex leftName\">\r\n            <span class=\"leftName-span\"><i class=\"colorRed\">*&nbsp;</i>预警设置：</span>\r\n            <el-form-item>\r\n              <div class=\"set-warning mt-10\" :class=\"{isEndTime:alaItem.endTime.isEndTime}\" :key=\"alaIndex\" v-for=\"(alaItem, alaIndex) in jobOrderTimeSaveObj.alarmSets\">\r\n                <i class=\"el-icon-close\" @click=\"closeAlarmSets(alaIndex)\"></i>\r\n                <el-form ref=\"form\" :model=\"alaItem\">\r\n                  <div class=\"display-flex leftName2 mt-20\">\r\n                    <span class=\"leftName-span2\"><i class=\"colorRed\">*&nbsp;</i>预警时间段：</span>\r\n                    <el-form-item>\r\n                      <el-input type=\"number\" v-model=\"alaItem.endTime.day\" class=\"width50\"></el-input>&nbsp;天&nbsp;\r\n                      <el-input type=\"number\" v-model=\"alaItem.endTime.hour\" class=\"width50\"></el-input>&nbsp;时&nbsp;\r\n                      <el-input type=\"number\" v-model=\"alaItem.endTime.minute\" class=\"width50\"></el-input>&nbsp;分&nbsp;\r\n                      <el-input type=\"number\" v-model=\"alaItem.endTime.s\" class=\"width50\"></el-input>&nbsp;秒&nbsp;\r\n                    </el-form-item>\r\n                  </div>\r\n                  <div class=\"display-flex leftName2 mt-20\">\r\n                    <span class=\"leftName-span2\"><i class=\"colorRed\">*&nbsp;</i>预警类型：</span>\r\n                    <el-form-item>\r\n                      <el-select v-model=\"alaItem.warnType\" placeholder=\"请选择\">\r\n                        <el-option\r\n                          :value=\"wItem.id\"\r\n                          :label=\"wItem.tag\"\r\n                          :key=\"wItem.id\"\r\n                          :style=\"{background:wItem.color}\"\r\n                          class=\"warningTypeColor\"\r\n                          v-for=\"wItem in warningTypeList.data\">\r\n                        </el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                  </div>\r\n                  <el-form-item label=\"预警提醒：\" label-width=\"110px\">\r\n                    <div class=\"display-flex\">\r\n                      <template>\r\n                        <!-- `checked` 为 true 或 false -->\r\n                        <el-checkbox v-model=\"alaItem.localRemindDisabled\" hca>站内提醒</el-checkbox>\r\n                      </template>\r\n                      <el-select\r\n                        v-model=\"alaItem.localRemind\"\r\n                        :disabled=\"!alaItem.localRemindDisabled\"\r\n                        placeholder=\"请选择消息模板\">\r\n                        <el-option\r\n                          :value=\"mItem.id\"\r\n                          :label=\"mItem.name\"\r\n                          :key=\"mItem.id\"\r\n                          v-for=\"mItem in messageTemplate_List.data\">\r\n                        </el-option>\r\n                      </el-select>\r\n                    </div>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"接收人：\" label-width=\"110px\" class=\" mt-10\">\r\n                    <div class=\"display-flex\">\r\n                      <template>\r\n                        <el-checkbox v-model=\"alaItem.signerReceive\">工单签发人</el-checkbox>\r\n                        <el-checkbox v-model=\"alaItem.adminReceiveDisabled\">管理者</el-checkbox>\r\n                      </template>\r\n                      所属机构：&nbsp;\r\n                      <tree-dept\r\n                        v-model=\"alaItem.adminReceive\"\r\n                        :disabled=\"!alaItem.adminReceiveDisabled\"\r\n                        val-type=\"id\"\r\n                        :sel-type=\"1\"\r\n                        :default-expand-all=\"true\"\r\n                      ></tree-dept>\r\n                    </div>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </div>\r\n              <el-button class=\"mt-10\" @click=\"addAlarmSets\">添加</el-button>\r\n            </el-form-item>\r\n          </div>\r\n          <div class=\"display-flex leftName\">\r\n            <span class=\"leftName-span\">启停状态:</span>\r\n            <el-form-item>\r\n              <el-switch\r\n                active-color=\"#13ce66\"\r\n                inactive-color=\"#9d9d9d\"\r\n                v-model=\"jobOrderTimeSaveObj.isStart\">\r\n              </el-switch>\r\n            </el-form-item>\r\n          </div>\r\n          <el-form-item label-width=\"200px\">\r\n            <el-button type=\"primary\" v-no-more-click @click=\"saveJobTime\" size=\"small\">确定</el-button>\r\n            <el-button @click=\"href('workorder/config/workOrder_time_list')\" size=\"small\">取消</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <!-- 新建工单 -->\r\n  </div>\r\n</template>\r\n<!-- 工单池 -->\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { getToken } from \"@/utils/auth\";\r\nimport codeSet from \"@/components/codeSet\";\r\nimport treeDept from \"@/components/treeDept\";\r\nimport { filter } from \"minimatch\";\r\nimport { get } from \"http\";\r\nlet token = getToken();\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 预警类型列表\r\n      warningTypeList:[],\r\n      // 消息模板列表\r\n      messageTemplate_List:[],\r\n      // 适用工单列表\r\n      findAll_List:[],\r\n      applyWorkOrders_backups:[],\r\n      // 预警设置列表备份，添加时候直接深拷贝使用\r\n      \"alarmSetsBck\":{},\r\n      jobOrderTimeSaveObjName:'',\r\n      // 新增工单时限对象集合\r\n      jobOrderTimeSaveObj:{\r\n        \"alarmSets\": [// 预警设置列表\r\n          {\r\n            // 预警结束时间\r\n            endTime: {\r\n              day:'00',\r\n              hour:'00',\r\n              minute:'00',\r\n              s:'00'\r\n            },\r\n            \"adminReceive\": \"\",// 管理者接收\r\n            \"localRemind\": \"\",// 站内提醒\r\n            \"signerReceive\": false,// 工单签发人接收\r\n            \"warnType\": \"\",// 预警类型\r\n            localRemindDisabled:false,// 站内提醒状态\r\n            adminReceiveDisabled:false// 管理者状态\r\n          }\r\n        ],\r\n        // 处理时间时长\r\n        handleTime: {\r\n          day:'00',\r\n          hour:'00',\r\n          minute:'00',\r\n          s:'00'\r\n        },\r\n        // 流入工单池时间\r\n        jobPoolTime: {\r\n          day:'00',\r\n          hour:'00',\r\n          minute:'00',\r\n          s:'00'\r\n        },\r\n        \"applyWorkOrders\": [],// 适用工单\r\n        \"isStart\": 1,// 启停状态\r\n        \"name\": \"\",// 时限管理名称\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    // 拷贝预警设置\r\n    this.alarmSetsBck = JSON.parse(JSON.stringify(this.jobOrderTimeSaveObj.alarmSets[0]));\r\n    this.getJobOrderTimeGet(this.$route.query.id);\r\n    this.getWarningTypeList();\r\n    this.getMessageTemplate_List();\r\n    this.getFindAll_List();\r\n    // this.tableItemListByOrderExtendId();\r\n  },\r\n  methods: {\r\n    /**\r\n     * 获取工单时间配置内容\r\n     */\r\n    getJobOrderTimeGet(id) {\r\n      const that = this;\r\n\r\n      this.request(\r\n        that.api.job_order.jobOrderTimeGet,\r\n        {\r\n          id\r\n        }\r\n      ).then(res => {\r\n        // 启停状态数据处理\r\n        res.isStart = res.isStart ? true : false;\r\n        // 站内提醒，接收人数据处理\r\n        res.alarmSets.forEach((item, index) => {\r\n          item.localRemindDisabled = item.localRemind ? true : false;\r\n          item.adminReceiveDisabled = item.adminReceive ? true : false;\r\n          item.signerReceive = item.signerReceive == 'true' ? true : false;\r\n          item.endTime = that.strObj(item.endTime);\r\n\r\n        });\r\n        res.handleTime = that.strObj(res.handleTime);\r\n        res.jobPoolTime = that.strObj(res.jobPoolTime);\r\n        that.jobOrderTimeSaveObj = res;\r\n        // 备份适用工单，添加时做校验\r\n        that.applyWorkOrders_backups = JSON.parse(JSON.stringify(that.jobOrderTimeSaveObj.applyWorkOrders));\r\n        that.jobOrderTimeSaveObjName = JSON.parse(JSON.stringify(that.jobOrderTimeSaveObj.name));\r\n      });\r\n    },\r\n    /**\r\n     * 字符串转对象\r\n     */\r\n    strObj(str) {\r\n      const arr = str.split('-');\r\n      return {\r\n        day:this.replenishZero(arr[0]),\r\n        hour:this.replenishZero(arr[1]),\r\n        minute:this.replenishZero(arr[2]),\r\n        s:this.replenishZero(arr[3])\r\n      }\r\n    },\r\n    /**\r\n     * 补零函数\r\n     * @param { Nunber | String } item 数字或数字字符串 如： 1，'1'\r\n     * @return { String } 如：'01'\r\n     */\r\n    replenishZero(item) {\r\n        item = parseInt(item);\r\n\r\n        return item < 10 ? `0${item}` : item;\r\n    },\r\n    /**\r\n     * 获取预警类型\r\n     */\r\n    getWarningTypeList() {\r\n      const that = this;\r\n\r\n      this.request(\r\n        that.api.job_order.getWarningType_List,\r\n      ).then(res => {\r\n        that.warningTypeList = res;\r\n      });\r\n    },\r\n    /**\r\n     * 获取消息模板\r\n     */\r\n    getMessageTemplate_List() {\r\n      const that = this;\r\n\r\n      this.request(\r\n        that.api.job_order.getMessageTemplate_List,\r\n      ).then(res => {\r\n        that.messageTemplate_List = res;\r\n      });\r\n    },\r\n    /**\r\n     * 获取适用工单\r\n     */\r\n    getFindAll_List() {\r\n      const that = this;\r\n\r\n      this.request(\r\n        that.api.job_order.getFindAll_List,{}\r\n      ).then(res => {\r\n        that.findAll_List = res;\r\n      });\r\n    },\r\n    /**\r\n     * 预防js注入攻击函数\r\n     * @param { String } str 输入的文本\r\n     */\r\n    preventGsImplantAttack(str) {\r\n      const res = /(<|>)/ig;\r\n\r\n      return str.replace(res ,item => {\r\n        switch(item) {\r\n          case '<':\r\n            return '&lt;';\r\n            break;\r\n          case '>':\r\n            return '&gt;';\r\n            break;\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 保存工单时间\r\n     */\r\n    async saveJobTime() {\r\n      const that = this,\r\n            nameReg = /^([\\w\\u4E00-\\u9FA5_\\-]+)+$/;\r\n\r\n      if(!that.jobOrderTimeSaveObj.name) {\r\n        this.warn('时限管理名称不能为空！');\r\n        return;\r\n      };\r\n      if(!nameReg.test(that.jobOrderTimeSaveObj.name)) {\r\n        this.warn('时限管理名称不能含有特殊字符！');\r\n        return;\r\n      };\r\n      // 编辑的名字不等于数据库存的名字，才去校验，名字是否重复\r\n      if(this.jobOrderTimeSaveObjName != that.jobOrderTimeSaveObj.name) {\r\n        let isRepetition = await this.request(\r\n          this.api.job_order.jobOrderTime_validation,\r\n          {\r\n            name:that.jobOrderTimeSaveObj.name,\r\n            applyWorkOrders:[]\r\n          }\r\n        );\r\n        if(!isRepetition.exist) {\r\n          that.warn(isRepetition.msg);\r\n          return;\r\n        };\r\n      }\r\n      let handleTimeEvery = Object.values(that.jobOrderTimeSaveObj.handleTime).every(item => {\r\n        return item == false;\r\n      });\r\n      if(handleTimeEvery) {\r\n          this.warn('处理时长不能为空！');\r\n          return;\r\n      };\r\n      for(let item in that.jobOrderTimeSaveObj.handleTime) {\r\n        if(that.jobOrderTimeSaveObj.handleTime[item] < 0) {\r\n          this.warn('处理时长不能含有负数！');\r\n          return;\r\n        }\r\n      };\r\n      for(let item in that.jobOrderTimeSaveObj.jobPoolTime) {\r\n        if(that.jobOrderTimeSaveObj.jobPoolTime[item] < 0) {\r\n          this.warn('流入工单池时间不能含有负数！');\r\n          return;\r\n        }\r\n      };\r\n      if(!that.jobOrderTimeSaveObj.alarmSets.length) {\r\n          this.warn('请添加预警配置！');\r\n          return;\r\n      };\r\n      for(var i = 0; i < that.jobOrderTimeSaveObj.alarmSets.length; i++){\r\n        var item = that.jobOrderTimeSaveObj.alarmSets[i];\r\n        let endTimeEvery = Object.values(item.endTime).every(item => {\r\n          return item == false;\r\n        });\r\n        if(endTimeEvery) {\r\n            this.warn('预警时间段不能为空！');\r\n            return;\r\n        };\r\n        for(let i in item.endTime) {\r\n          if(item.endTime[i] < 0) {\r\n            this.warn('预警时间段不能含有负数！');\r\n            return;\r\n          }\r\n        };\r\n        // 把除了当前的endTime全部装到endTimeArr里\r\n        let endTimeArr = [];\r\n        that.jobOrderTimeSaveObj.alarmSets.forEach((items, indexs) => {\r\n          for(name in items.endTime) {\r\n            items.endTime[name] = this.replenishZero(items.endTime[name]);\r\n          };\r\n          if(items !== item) {\r\n            endTimeArr.push({endTime: items.endTime});\r\n          };\r\n        });\r\n        // 拿当前的endTime跟数组里所有时间做比较，如果时间相同，那么返回这个元素\r\n        let isEndTimes = endTimeArr.find((isItem, IsIndex) => {\r\n          let item_endTime = parseInt(Object.values(item.endTime).join(''));\r\n          let items_endTime = parseInt(Object.values(isItem.endTime).join(''));\r\n          return item_endTime === items_endTime;\r\n        });\r\n        if(isEndTimes) {\r\n          isEndTimes.endTime.isEndTime = true;\r\n          this.warn('预警时间段不能重复设置！');\r\n          return;\r\n        };\r\n        if(!item.warnType) {\r\n          this.warn('请选择预警类型！');\r\n          return;\r\n        };\r\n        if(item.localRemindDisabled && !item.localRemind) {\r\n          this.warn('请选择预警提醒！');\r\n          return;\r\n        };\r\n        if(item.localRemindDisabled && !item.signerReceive  && !item.adminReceiveDisabled) {\r\n          this.warn('请勾选接收人！');\r\n          return;\r\n        };\r\n        if(item.adminReceiveDisabled && !item.adminReceive) {\r\n          this.warn('请选择所属机构！');\r\n          return;\r\n        };\r\n      };\r\n      // 数据提交之前，最后一次深拷贝\r\n      let data = JSON.parse(JSON.stringify(that.jobOrderTimeSaveObj));\r\n      // 处理数据\r\n      data.handleTime = this.obj2Str(data.handleTime);\r\n      data.jobPoolTime = this.obj2Str(data.jobPoolTime);\r\n      data.isStart = data.isStart ? 1 : 0;\r\n      data.alarmSets.forEach((item ,index) => {\r\n        item.endTime = this.obj2Str(item.endTime);\r\n        // 如果站内消息没有勾选，清除站内提醒数据\r\n        item.localRemind = item.localRemindDisabled ?  item.localRemind : '';\r\n        // 如果接收人没有勾选，清除管理者接收数据\r\n        item.adminReceive = (item.adminReceiveDisabled || item.signerReceive) ? item.adminReceive : '';\r\n      });\r\n      // return;\r\n      this.request(\r\n        that.api.job_order.jobOrderTimeUpdate,\r\n        data\r\n      ).then(res => {\r\n         that.warn('工单时限编辑成功！','success');\r\n          that.href('workorder/config/workOrder_time_list');\r\n      });\r\n    },\r\n    /**\r\n     * 提示\r\n     */\r\n    warn(message, type) {\r\n      this.$message({\r\n        message: message,\r\n        type: type || 'warning'\r\n      });\r\n    },\r\n    /**\r\n     * 对象拼接字符串\r\n     * @param { Object } timeObj 时间对象\r\n     */\r\n    obj2Str(timeObj) {\r\n      let  newTimeObj ='';\r\n\r\n      for(var item in timeObj) {\r\n        if(timeObj[item]) {\r\n          newTimeObj += `${timeObj[item]}-`;\r\n        }else{\r\n          newTimeObj += `0-`;\r\n        }\r\n      };\r\n      return newTimeObj.replace(/-$/g,'');\r\n    },\r\n    /**\r\n     * 添加预警\r\n     */\r\n    addAlarmSets() {\r\n      const that = this;\r\n\r\n      that.jobOrderTimeSaveObj.alarmSets.push(JSON.parse(JSON.stringify(that.alarmSetsBck)));\r\n    },\r\n    /**\r\n     * 删除预警\r\n     */\r\n    closeAlarmSets(index) {\r\n      const that = this;\r\n\r\n      that.jobOrderTimeSaveObj.alarmSets.splice(index, 1);\r\n    },\r\n    /**\r\n     * 添加适用工单，且添加的工单不能重复\r\n     * @param { Object } item 选中的每一项\r\n     */\r\n    async addApplyWorkOrder(item) {\r\n      const that = this;\r\n      // 判断是否是编辑时获取的适用工单，如果不是可以走检验\r\n      let isExist = this.applyWorkOrders_backups.every(v => {\r\n        return v.workOrderId !=  item.id;\r\n      });\r\n      // 检验工单是否已经创建\r\n      if(isExist) {\r\n        let isRepetition = await this.request(\r\n          this.api.job_order.jobOrderTime_validation,\r\n          {\r\n            name:'',\r\n            applyWorkOrders:[{\r\n              workOrderId:item.id,\r\n              workOrderName:item.name\r\n            }]\r\n          }\r\n        );\r\n        // 如果已经存在，提示并终止添加此条工单\r\n        if(!isRepetition.exist) {\r\n          that.warn(isRepetition.msg);\r\n          return;\r\n        };\r\n      };\r\n      let isHas = that.jobOrderTimeSaveObj.applyWorkOrders.every((i) => {\r\n        return i.workOrderId != item.id;\r\n      });\r\n      if(!isHas) return;\r\n      that.jobOrderTimeSaveObj.applyWorkOrders.push({\r\n        workOrderId:item.id,\r\n        workOrderName:item.name\r\n      });\r\n\r\n    },\r\n    /**\r\n     * 适用工单校验\r\n     */\r\n    applyWorkOrdersValidation(item) {\r\n      this.request(\r\n        this.api.job_order.jobOrderTime_validation,\r\n        {\r\n          name:'',\r\n          applyWorkOrders:[{\r\n            workOrderId:item.id,\r\n            workOrderName:item.name\r\n          }]\r\n        }\r\n      );\r\n    },\r\n    /**\r\n     * 删除适用工单\r\n     */\r\n    deleteTag(index) {\r\n       const that = this;\r\n\r\n      that.jobOrderTimeSaveObj.applyWorkOrders.splice(index, 1);\r\n    },\r\n    /**\r\n     * 跳转\r\n     */\r\n    href(routeName) {\r\n      this.$router.push({\r\n        path: `/${routeName}`,\r\n      });\r\n    },\r\n    /**\r\n     * 领取工单\r\n     */\r\n    open2() {\r\n      this.$message({\r\n        message: \"工单领取成功！\",\r\n        type: \"success\"\r\n      });\r\n    },\r\n  },\r\n  components: {\r\n    codeSet,\r\n    treeDept\r\n  }\r\n};\r\n</script>\r\n<style  lang=\"less\" scoped>\r\n.warningTypeColor{\r\n  border-radius:5px;\r\n  color:#fff;\r\n  margin-bottom:1px;\r\n}\r\n.leftName{\r\n  .leftName-span{\r\n      width: 200px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      text-align: right;\r\n      padding-right: 10px;\r\n      .colorRed{\r\n        color: red;\r\n        line-height:30px;\r\n      }\r\n  }\r\n}\r\n.leftName2{\r\n  .leftName-span2{\r\n      width: 98px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      text-align: right;\r\n      padding-right: 10px;\r\n      .colorRed{\r\n        color: red;\r\n        line-height:30px;\r\n      }\r\n  }\r\n}\r\n.el-icon-close{\r\n  cursor:pointer;\r\n}\r\nh5 {\r\n  color: #222;\r\n  margin-left: -15px;\r\n}\r\n.set-warning {\r\n  width: 650px;\r\n  padding-bottom: 10px;\r\n  border: 1px solid #dcdfe6;\r\n  border-radius: 4px;\r\n  position: relative;\r\n  .el-icon-close {\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 15px;\r\n  }\r\n}\r\n.isEndTime{\r\n  border: 1px solid #FFEC8B;\r\n  box-shadow: 0 2px 2px 2px #f5f5f5;\r\n}\r\n.width600{\r\n  width: 600px;\r\n}\r\n.width350 {\r\n  width: 350px;\r\n}\r\n.width50 {\r\n  width: 75px;\r\n}\r\n.test {\r\n  color: #9d9d9d;\r\n}\r\n.display-flex {\r\n  display: flex;\r\n}\r\n.justify-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.content {\r\n  height: 50px;\r\n  line-height: 50px;\r\n}\r\n.text-index10 {\r\n  text-indent: 10px;\r\n}\r\n.tree {\r\n  width: 700px;\r\n  border-right: 1px solid #ccc;\r\n  border-top: 1px solid #ccc;\r\n  border-left: 1px solid #ccc;\r\n  span {\r\n    display: inline-block;\r\n    width: 50%;\r\n  }\r\n  span {\r\n    border-bottom: 1px solid #ccc;\r\n  }\r\n  .l {\r\n    border-right: 1px solid #ccc;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/workorder/config"}]}