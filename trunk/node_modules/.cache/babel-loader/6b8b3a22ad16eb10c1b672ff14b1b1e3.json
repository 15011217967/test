{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\OS\\channelSales\\channelSales.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\OS\\channelSales\\channelSales.vue","mtime":1574160265312},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import _defineProperty from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport { getToken } from \"@/utils/auth\";\nimport codeSet from \"@/components/codeSet\";\nimport treeDept from \"@/components/treeDept\";\nimport { filter } from \"minimatch\";\nimport { get } from \"http\";\nvar token = getToken();\nexport default {\n  components: {\n    codeSet: codeSet,\n    treeDept: treeDept\n  },\n  data: function data() {\n    return {\n      //权限Code码\n      codeData: [],\n      //是否显示备注信息框\n      isShowRemarkMsgBox: false,\n      //仓储性质数据\n      storageValArr: [],\n      //订单来源支持多数据绑定\n      orderValArr: [],\n      formInline: {\n        orderType: \"0201\",\n        searchKey: \"\",\n        // 日期时间\n        startTime: \"\",\n        endTime: \"\",\n        channelCodes: [],\n        //订单状态\n        businessStatusList: [],\n        //组织机构\n        organizationCodes: [],\n        //店铺名称\n        storeName: \"\",\n        //当前页数\n        pageIndex: 1,\n        //每页要显示的数据条数,默认10条\n        pageSize: 10\n      },\n      channelSaleOrderVoList: [],\n      //网销订单表格数据\n      netSalesTableData: [],\n      //总的条数\n      totlePage: 1,\n      //table中checkBox的状态\n      multipleSelection: [],\n\n      /***************上面的时网销订单相关******************/\n      //圆形进度条相关\n      circleDialogVisible: false,\n      // 日期时间\n      dateTime: \"\",\n      dialogFormVisible: false,\n      //表格数据\n      TableVisible: false,\n      gridData: [],\n      //总的单数\n      allTotalData: \"\",\n      //有效单数\n      validTotalData: 0,\n      //需要上传的文件\n      fileList: [],\n      fileData: new FormData(),\n      fileUrl: \"\",\n      ditchFileName: \"\",\n      babyFileName: \"\",\n      uploadData: [],\n      //获取门店列表数据\n      storeListData: [],\n      //组织机构数据\n      organizationListData: [],\n      //存储需要导出表格的数据\n      multipleSelectionData: [] // //创建时间-开始时间\n      // startTime:{\n      //   disabledDate: time => {\n      //       if (this.formInline.startTime) {\n      //         return (\n      //           time.getTime() < new Date(this.formInline.startTime).getTime()- 8.64e7\n      //         )\n      //       } else {\n      //         // 不能大于当前日期\n      //         return time.getTime() < Date.now()- 8.64e7\n      //       }\n      //     }\n      // },\n      // //创建时间-结束时间\n      // endTime:{\n      //   disabledDate: time => {\n      //       if (this.formInline.starttime) {\n      //         return (\n      //           time.getTime() > Date.now() ||\n      //           time.getTime() < new Date(this.formInline.starttime).getTime()- 8.64e7 // 加- 8.64e7则表示包当天\n      //         )\n      //       } else {\n      //         return time.getTime() < Date.now()- 8.64e7\n      //       }\n      //     }\n      // },\n\n    };\n  },\n  created: function created() {\n    //得到组织机构\n    this.getWarehouseListData();\n    this.getCodeLimitToBtnStatus(this.$route.meta.currentid); //得到表格数据\n\n    this.getChannelSaleOrderListTableData();\n  },\n  // 过滤器\n  filters: {\n    filterOrderStatus: function filterOrderStatus(val) {\n      if (val == 2) {\n        return \"订单有效,商品库存已锁定\";\n      }\n\n      if (val == 1) {\n        return \"订单无效\";\n      }\n\n      return \"订单信息不全\";\n    },\n    //过滤地址\n    filterToAddress: function filterToAddress(val) {\n      if (val.length > 12) {\n        var newStr = val.substring(0, 11) + \"....\";\n        return newStr;\n      } else {\n        return val;\n      }\n    },\n    //过滤支付状态\n    filterPaymentCode: function filterPaymentCode(val) {\n      switch (val) {\n        case \"01\":\n          return \"现金\";\n          break;\n\n        case \"02\":\n          return \"银行卡\";\n          break;\n\n        case \"03\":\n          return \"微信\";\n          break;\n\n        case \"04\":\n          return \"支付宝\";\n          break;\n\n        case \"05\":\n          return \"支票\";\n          break;\n\n        case \"06\":\n          return \"电汇\";\n          break;\n\n        case \"07\":\n          return \"汇票\";\n          break;\n\n        case \"08\":\n          return \"其他\";\n          break;\n\n        default:\n          return \"--\";\n          break;\n      }\n    },\n    //过滤订单来源\n    filterChannelCode: function filterChannelCode(val) {\n      switch (val) {\n        case \"01\":\n          return \"淘宝\";\n          break;\n\n        case \"02\":\n          return \"京东\";\n          break;\n\n        case \"03\":\n          return \"天猫\";\n          break;\n\n        case \"04\":\n          return \"手工录入\";\n          break;\n\n        default:\n          return \"--\";\n          break;\n      }\n    },\n    //过滤订单状态\n    filterReviewed: function filterReviewed(val) {\n      switch (val.reviewed) {\n        case 0:\n          return \"待审核\";\n          break;\n\n        case 2:\n          return \"审核驳回\";\n          break;\n\n        case 1:\n          switch (val.businessStatus) {\n            case \"05\":\n              return \"待发货\";\n              break;\n\n            case \"06\":\n              return \"已发货\";\n              break;\n\n            case \"08\":\n              return \"已完成\";\n              break;\n\n            case \"16\":\n              return \"异常完成\";\n              break;\n\n            case \"17\":\n              return \"异常发货\";\n              break;\n\n            default:\n              return \"--\";\n              break;\n          }\n\n          break;\n\n        default:\n          return \"--\";\n          break;\n      }\n    },\n    //过滤支付状态\n    filterPaymentStatus: function filterPaymentStatus(val) {\n      switch (val) {\n        case \"01\":\n          return \"未支付\";\n          break;\n\n        case \"02\":\n          return \"部分支付\";\n          break;\n\n        case \"03\":\n          return \"已支付\";\n          break;\n\n        case \"08\":\n          return \"已完成\";\n          break;\n\n        default:\n          return \"--\";\n          break;\n      }\n    },\n    filterPrice: function filterPrice(val) {\n      if (val && val != null) {\n        val = String(val);\n        var left = val.split(\".\")[0],\n            right = val.split(\".\")[1];\n        right = right ? right.length >= 2 ? \".\" + right.substr(0, 2) : \".\" + right + \"0\" : \".00\";\n        var temp = left.split(\"\").reverse().join(\"\").match(/(\\d{1,3})/g);\n        return \"￥\" + (Number(val) < 0 ? \"-\" : \"\") + temp.join(\",\").split(\"\").reverse().join(\"\") + right;\n      } else if (val === 0) {\n        // 注意===在这里的使用，如果传入的money为0,if中会将其判定为boolean类型，故而要另外做===判断\n        return \"￥\" + \"0.00\";\n      } else {\n        return \"--\";\n      }\n    }\n  },\n  methods: {\n    //得到组织机构数据\n    getWarehouseListData: function () {\n      var _getWarehouseListData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var info;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.request(this.api.user.get_userinfo, {}, true);\n\n              case 2:\n                info = _context.sent;\n                console.log(info); //得到部门Id\n                // this.shop_user.relationDepId = info.departId;\n\n                this.request(this.api.user.userCompany_getUserOrgByUserId, {\n                  userId: info.userId,\n                  type: 0\n                }).then(function (data) {\n                  console.log(data);\n\n                  _this.organizationListData.push(data);\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getWarehouseListData() {\n        return _getWarehouseListData.apply(this, arguments);\n      }\n\n      return getWarehouseListData;\n    }(),\n    // 得到code码，用来限制是否显示按钮\n    getCodeLimitToBtnStatus: function getCodeLimitToBtnStatus(codeId) {\n      var _this2 = this;\n\n      this.request(this.api.user.crm_userCompany_authList, {\n        menuId: codeId\n      }).then(function (res) {\n        _this2.codeData = res;\n      });\n    },\n    //新增基本信息  跳转页面\n    openAddAttrbute: function openAddAttrbute() {\n      this.$router.push({\n        path: \"/OS/channelSales/channelSales_add\",\n        name: \"channelSales_add\",\n        query: {\n          type: \"add\"\n        }\n      });\n      localStorage.setItem(\"type\", \"add\"); // eventVue.$emit('sendMsg',sendObj)\n    },\n    isSelectCheck: function isSelectCheck(row, index) {\n      if (row.reviewed == 0) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    //取消\n    closeTable: function closeTable() {\n      var tempData = this.gridData.filter(function (item) {\n        return item.orderStatus == 2;\n      });\n\n      if (tempData.length > 0) {\n        this.request(this.api.order.channelSaleOrder_updateBatch, {\n          channelSaleOrderVoList: tempData,\n          tagCode: \"ORDER_CANCEL\"\n        }).then(function (data) {});\n      } else {\n        this.request(this.api.order.channelSaleOrder_updateBatch, {\n          channelSaleOrderVoList: [],\n          tagCode: \"ORDER_CANCEL\"\n        }).then(function (data) {});\n      }\n\n      this.TableVisible = false;\n    },\n    //确认\n    successBtnClickTable: function successBtnClickTable() {\n      var _this3 = this;\n\n      //   dialogFormVisible = false\n      var tempData = this.gridData.filter(function (item) {\n        return item.orderStatus == 2;\n      });\n\n      if (tempData.length > 0) {\n        this.request(this.api.order.channelSaleOrder_updateBatch, {\n          channelSaleOrderVoList: tempData,\n          tagCode: \"ORDER_CONFIRM\"\n        }).then(function (data) {\n          _this3.TableVisible = false;\n        });\n      } else {\n        this.request(this.api.order.channelSaleOrder_updateBatch, {\n          channelSaleOrderVoList: [],\n          tagCode: \"ORDER_CONFIRM\"\n        }).then(function (data) {\n          _this3.TableVisible = false;\n        });\n      }\n    },\n    //得到ListData表格数据\n    getChannelSaleOrderListTableData: function getChannelSaleOrderListTableData() {\n      var _this4 = this;\n\n      this.request(this.api.order.channelSaleOrder_list, this.formInline).then(function (res) {\n        //获取总的页数\n        _this4.totlePage = res.totalCount;\n        _this4.netSalesTableData = res.data;\n      });\n    },\n    onSubmit: function onSubmit() {\n      this.getChannelSaleOrderListTableData();\n      console.log(\"submit!\");\n      console.log(this.valArr);\n    },\n    //搜索\n    onSearchContent: function onSearchContent() {\n      var startTime = this.formInline.startTime;\n      var endTime = this.formInline.endTime; //搜索\n\n      this.getChannelSaleOrderListTableData();\n    },\n    //重置表单数据\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n      this.formInline.channelCodes = [];\n      this.formInline.startTime = \"\";\n      this.formInline.endTime = \"\";\n      console.log(2);\n    },\n    //导入按钮的点击事件\n    leadBtnClick: function leadBtnClick() {\n      console.log(\"leadBtn\");\n    },\n    //批量审核\n    batchBtnClick: function batchBtnClick() {\n      var _this5 = this;\n\n      this.multipleSelection.forEach(function (item) {\n        item.orderType = \"0201\";\n        item.reviewed = 1;\n      });\n      this.request(this.api.order.channelSaleOrder_updateBatch, {\n        channelSaleOrderVoList: this.multipleSelection\n      }).then(function (data) {\n        //上传成功，清空选项\n        _this5.$refs.multipleTable.clearSelection();\n\n        _this5.$message({\n          message: \"批量审核成功\",\n          type: \"success\"\n        }); //刷新列表\n\n\n        _this5.getChannelSaleOrderListTableData();\n      });\n    },\n    //文件上传相关的事件\n    // 手动上传\n    customRequest: function customRequest(file) {},\n    //选中checkBox的状态\n    handleSelectionChange: function handleSelectionChange(val) {\n      var _this6 = this;\n\n      val.forEach(function (item) {\n        item.reviewedName = _this6.$options.filters.filterReviewed(item.reviewed);\n        item.paymentStatusName = _this6.$options.filters.filterPaymentStatus(item.paymentStatus);\n        item.amounteName = _this6.$options.filters.filterPrice(item.amount);\n        item.actualAmountName = _this6.$options.filters.filterPrice(item.actualAmount);\n        item.paymentCodeName = _this6.$options.filters.filterPaymentCode(item.paymentCode);\n        item.createTimeName = _this6.$options.filters.timestampToTime(item.createTime);\n      });\n      this.multipleSelection = val;\n      this.multipleSelectionData = val;\n    },\n    //点击按钮上传服务器\n    submitUpload: function submitUpload() {\n      var _this7 = this;\n\n      // this.ditchFileName.search(\"ExportOrderList\")\n      if (this.ditchFileName.search(\"ExportOrderList\") == -1) {\n        this.ditchTipMsg();\n        return;\n      }\n\n      if (this.babyFileName.search(\"ExportOrderDetailList\") == -1) {\n        this.babyTipMsg();\n        return;\n      }\n\n      var formdata = this.fileData;\n      console.log(formdata);\n      axios({\n        method: \"POST\",\n        url: this.channelSaleOrder_Import,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          accessToken: token\n        },\n        data: this.fileData\n      }).then(function (res) {\n        _this7.validTotalData = 0;\n        console.log(\"450==================\");\n        console.log(res);\n        console.log(res.data);\n        _this7.gridData = res.data.data;\n        _this7.allTotalData = _this7.gridData[_this7.gridData.length - 1].row;\n\n        _this7.gridData.forEach(function (item) {\n          if (item.orderStatus == 2) {\n            _this7.validTotalData++;\n          }\n        });\n\n        console.log(_this7.allTotalData + \"=====\");\n\n        _this7.$refs[\"ditch-upload\"].clearFiles();\n\n        _this7.$refs[\"baby-upload\"].clearFiles();\n\n        _this7.fileData.delete(\"channelSaleOrderImport\");\n\n        _this7.ditchFileName = \"\";\n        _this7.babyFileName = \"\";\n        _this7.dialogFormVisible = false; // this.circleDialogVisible=true;\n\n        _this7.TableVisible = true;\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    exportExcel: function exportExcel() {\n      var _this8 = this;\n\n      console.log(\"导出Excel表格...+++++++++++++++++++\");\n\n      require.ensure([], function () {\n        var _require = require(\"@/vendor/Export2Excel\"),\n            export_json_to_excel = _require.export_json_to_excel;\n\n        var tHeader = [\"销售订单号\", \"订单状态\", \"支付状态\", \"购买商户\", \"收货人\", \"收货人电话\", \"收货地址\", \"订单金额\", \"实付金额\", \"支付方式\", \"创建时间\", \"所属机构\"]; // 上面设置Excel的表格第一行的标题\n\n        var filterVal = [\"orderSn\", \"reviewedName\", \"paymentStatusName\", \"storeName\", \"receiverName\", \"receiverMobile\", \"receiverAddress\", \"amountName\", \"actualAmountName\", \"paymentCodeName\", \"createTimeName\", \"organizationCode\"]; // 上面的index、nickName、name是tableData里对象的属性\n\n        var list = _this8.multipleSelection; //把data里的multipleSelection存到list\n\n        var data = _this8.formatJson(filterVal, list);\n\n        export_json_to_excel(tHeader, data, \"网销退货表单\");\n      });\n    },\n    formatJson: function formatJson(filterVal, jsonData) {\n      return jsonData.map(function (v) {\n        return filterVal.map(function (j) {\n          return v[j];\n        });\n      });\n    },\n    handleRemove: function handleRemove(file, fileList) {//   console.log(file, fileList);\n    },\n    handlePreview: function handlePreview(file) {//   console.log(file);\n    },\n    //订单表\n    ditchfileChange: function ditchfileChange(file, fileList) {\n      //添加文件名字\n      this.fileData.append(\"channelSaleOrderImport\", file.raw); //截取名字前缀\n\n      this.ditchFileName = file.name.slice(0, file.name.length - 4);\n    },\n    //文件列表移除时的操作\n    removeDitchFileList: function removeDitchFileList(file, fileList) {\n      this.$refs[\"ditch-upload\"].clearFiles();\n      this.ditchFileName = \"\";\n    },\n    ditchTipMsg: function ditchTipMsg() {\n      this.$message.error(\"订单表名字不正确\");\n    },\n    //宝贝表\n    babyFileChange: function babyFileChange(file, fileList) {\n      // console.log(fileList.raw);\n      console.log(file.raw);\n      this.fileData.append(\"channelSaleOrderImport\", file.raw);\n      this.babyFileName = file.name.slice(0, file.name.length - 4);\n    },\n    //清空宝贝表\n    removeBabyFileList: function removeBabyFileList(file, fileList) {\n      this.$refs[\"baby-upload\"].clearFiles();\n      this.babyFileName = \"\";\n    },\n    babyTipMsg: function babyTipMsg() {\n      this.$message.error(\"宝贝表名字不正确\");\n    },\n    //CircleProgress关闭时的回调\n    closeCircleProgress: function closeCircleProgress() {\n      // console.log(\"closeCircleProgress\")\n      this.TableVisible = true;\n    },\n    //下拉选项\n    handleCommand: function handleCommand(rowId) {\n      var _this9 = this;\n\n      console.log(\"485========\");\n      console.log(rowId);\n\n      if (rowId[\"remark\"] == \"isRemark\") {\n        //  this.isShowRemarkMsgBox=true\n        //备注\n        this.$prompt(\"请输入备注\", \"添加订单备注\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\"\n        }).then(function (_ref) {\n          var _this9$channelSaleOrd;\n\n          var value = _ref.value;\n          var rowObj = rowId[\"row\"];\n          rowObj.remarks = value;\n          console.log(\"510================\");\n          console.log(rowObj);\n          _this9.channelSaleOrderVoList = [], _this9.channelSaleOrderVoList.push((_this9$channelSaleOrd = {\n            orderId: rowObj.orderId,\n            receiverAddress: rowObj.receiverAddress,\n            reviewed: rowObj.reviewed,\n            receiverMobile: rowObj.receiverMobile,\n            orderSn: rowObj.orderSn,\n            receiverName: rowObj.receiverName\n          }, _defineProperty(_this9$channelSaleOrd, \"receiverMobile\", rowObj.receiverMobile), _defineProperty(_this9$channelSaleOrd, \"orderType\", \"0201\"), _defineProperty(_this9$channelSaleOrd, \"channelCode\", rowObj.channelCode), _defineProperty(_this9$channelSaleOrd, \"remarks\", rowObj.remarks), _defineProperty(_this9$channelSaleOrd, \"warehouseCode\", rowObj.warehouseCode), _defineProperty(_this9$channelSaleOrd, \"goodsOwner\", rowObj.goodsOwner), _this9$channelSaleOrd));\n\n          _this9.request(_this9.api.order.channelSaleOrder_updateBatch, {\n            channelSaleOrderVoList: _this9.channelSaleOrderVoList,\n            tagCode: \"ORDER_UPDATE\"\n          }).then(function (data) {\n            _this9.$message({\n              type: \"success\",\n              message: \"备注信息是: \" + value\n            }); //刷新列表\n\n\n            _this9.getChannelSaleOrderListTableData();\n          });\n        }).catch(function () {\n          _this9.$message({\n            type: \"info\",\n            message: \"取消备注\"\n          });\n        });\n      } else {\n        var h = this.$createElement;\n        this.$msgbox({\n          title: \"订单审核\",\n          message: h(\"p\", null, [h(\"span\", null, \"审核通过后,库房将接收订单发货通知 \")]),\n          showCancelButton: true,\n          showClose: false,\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"驳回\"\n        }).then(function (action) {\n          var _this9$channelSaleOrd2;\n\n          console.log(action);\n          var rowObj = rowId[\"row\"];\n          rowObj.reviewed = 1;\n          _this9.channelSaleOrderVoList = [], _this9.channelSaleOrderVoList.push((_this9$channelSaleOrd2 = {\n            orderId: rowObj.orderId,\n            receiverAddress: rowObj.receiverAddress,\n            reviewed: rowObj.reviewed,\n            receiverMobile: rowObj.receiverMobile,\n            orderSn: rowObj.orderSn,\n            receiverName: rowObj.receiverName\n          }, _defineProperty(_this9$channelSaleOrd2, \"receiverMobile\", rowObj.receiverMobile), _defineProperty(_this9$channelSaleOrd2, \"orderType\", \"0201\"), _defineProperty(_this9$channelSaleOrd2, \"channelCode\", rowObj.channelCode), _defineProperty(_this9$channelSaleOrd2, \"warehouseCode\", rowObj.warehouseCode), _defineProperty(_this9$channelSaleOrd2, \"goodsOwner\", rowObj.goodsOwner), _this9$channelSaleOrd2));\n\n          _this9.request(_this9.api.order.channelSaleOrder_updateBatch, {\n            channelSaleOrderVoList: _this9.channelSaleOrderVoList,\n            tagCode: \"ORDER_UPDATE\"\n          }).then(function (data) {\n            _this9.$message({\n              type: \"info\",\n              message: \"action: \" + action\n            }); //刷新列表\n\n\n            _this9.getChannelSaleOrderListTableData();\n          });\n        }).catch(function (res) {\n          var _this9$channelSaleOrd3;\n\n          console.log(res);\n          var rowObj = rowId[\"row\"];\n          rowObj.reviewed = 2;\n          _this9.channelSaleOrderVoList = [], _this9.channelSaleOrderVoList.push((_this9$channelSaleOrd3 = {\n            orderId: rowObj.orderId,\n            receiverAddress: rowObj.receiverAddress,\n            reviewed: rowObj.reviewed,\n            receiverMobile: rowObj.receiverMobile,\n            orderSn: rowObj.orderSn,\n            receiverName: rowObj.receiverName\n          }, _defineProperty(_this9$channelSaleOrd3, \"receiverMobile\", rowObj.receiverMobile), _defineProperty(_this9$channelSaleOrd3, \"orderType\", \"0201\"), _defineProperty(_this9$channelSaleOrd3, \"channelCode\", rowObj.channelCode), _defineProperty(_this9$channelSaleOrd3, \"warehouseCode\", rowObj.warehouseCode), _defineProperty(_this9$channelSaleOrd3, \"goodsOwner\", rowObj.goodsOwner), _this9$channelSaleOrd3));\n\n          _this9.request(_this9.api.order.channelSaleOrder_updateBatch, {\n            channelSaleOrderVoList: _this9.channelSaleOrderVoList,\n            tagCode: \"ORDER_UPDATE\"\n          }).then(function (data) {\n            _this9.$message({\n              type: \"info\",\n              message: \"action: \" + action\n            });\n          });\n        });\n      }\n    },\n    dropdownItemValueChange: function dropdownItemValueChange(isRemark, row) {\n      return {\n        remark: isRemark,\n        row: row\n      };\n    },\n    //查看按钮\n    checkBtnClick: function checkBtnClick(row) {\n      console.log(row.orderSn);\n      this.$router.push({\n        path: \"/OS/channelSales/channelSales_check\",\n        name: \"show_channelSales_check\",\n        query: {\n          orderSn: row.orderSn\n        }\n      });\n    },\n    //修改按钮\n    editBtnClick: function editBtnClick(row) {\n      console.log(row);\n      this.$router.push({\n        path: \"/OS/channelSales/channelSales_editor\",\n        name: \"channelSales_editor\",\n        query: {\n          orderSn: row.orderSn,\n          reviewed: row.reviewed\n        }\n      });\n      localStorage.setItem(\"type\", \"add\");\n    },\n    //取消按钮\n    cancleBtnclick: function cancleBtnclick(orderId) {\n      var _this10 = this;\n\n      this.request(this.api.order.channelSaleOrder_cancel, {\n        orderId: orderId,\n        orderType: \"0201\"\n      }).then(function (data) {\n        _this10.$message({\n          type: \"info\",\n          message: \"取消成功\"\n        }); //刷新数据\n\n\n        _this10.getChannelSaleOrderListTableData();\n      });\n    },\n    //每页条数改变时\n    handleSizeChange: function handleSizeChange(page) {\n      console.log(page);\n      this.formInline.pageSize = page;\n      this.getChannelSaleOrderListTableData();\n    },\n    // 当前页改变时\n    handleCurrentChange: function handleCurrentChange(page) {\n      console.log(page);\n      this.formInline.pageIndex = page;\n      this.getChannelSaleOrderListTableData();\n    }\n  }\n};",{"version":3,"sources":["channelSales.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <!-- 渠道订单 -->\r\n  <div class=\"base\">\r\n    <div class=\"middle-from\">\r\n      <el-form\r\n        :inline=\"true\"\r\n        :model=\"formInline\"\r\n        size=\"small\"\r\n        ref=\"ruleForm\"\r\n        class=\"demo-form-inline\"\r\n      >\r\n        <el-form-item prop=\"searchKey\" label=\"模糊查询：\">\r\n          <el-input\r\n            class=\"seachKey-input\"\r\n            v-model=\"formInline.searchKey\"\r\n            placeholder=\"订单号/收货人/收货人电话/收货人地址\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"订单状态：\" prop=\"businessStatusList\">\r\n          <el-select v-model=\"formInline.businessStatusList\" placeholder=\"请选择\" :multiple=\"true\">\r\n            <el-option label=\"待发货\" value=\"05\"></el-option>\r\n            <el-option label=\"已发货\" value=\"06\"></el-option>\r\n            <el-option label=\"已完成\" value=\"08\"></el-option>\r\n            <el-option label=\"异常完成\" value=\"16\"></el-option>\r\n            <el-option label=\"异常发货\" value=\"17\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属机构：\" prop=\"organizationCodes\">\r\n          <el-select v-model=\"formInline.organizationCodes\" placeholder=\"请选择\" :multiple=\"true\">\r\n            <el-option\r\n              v-for=\"item in organizationListData\"\r\n              :label=\"item.name\"\r\n              :key=\"item.id\"\r\n              :value=\"item.id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item prop=\"dateTime\" label=\"创建时间：\">\r\n          <el-date-picker\r\n            class=\"date-picker-div\"\r\n            v-model=\"formInline.startTime\"\r\n            type=\"date\"\r\n            placeholder=\"开始时间\"\r\n          ></el-date-picker>\r\n          <el-date-picker v-model=\"formInline.endTime\" type=\"date\" placeholder=\"结束时间\"></el-date-picker>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" plain @click=\"onSearchContent\" size=\"small\">搜索</el-button>\r\n          <el-button @click=\"resetForm('ruleForm')\" size=\"small\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- table -->\r\n    <div class=\"table\">\r\n      <el-button\r\n        type=\"primary\"\r\n        @click=\"openAddAttrbute\"\r\n        size=\"small\"\r\n        v-auth=\"codeData\"\r\n        data-code=\"CAO_CREATE\"\r\n      >新增</el-button>\r\n      <el-button\r\n        :disabled=\"multipleSelectionData.length==0\"\r\n        plain\r\n        @click=\"exportExcel\"\r\n        size=\"small\"\r\n      >导出</el-button>\r\n      <el-button\r\n        plain\r\n        @click=\"batchBtnClick\"\r\n        style=\"margin-bottom:20px;\"\r\n        v-auth=\"codeData\"\r\n        :disabled=\"multipleSelection.length==0\"\r\n        data-code=\"CAO_BATCHAUDIT\"\r\n        size=\"small\"\r\n      >批量审核</el-button>\r\n\r\n      <!-- table订单 -->\r\n      <template>\r\n        <el-table\r\n          ref=\"multipleTable\"\r\n          :data=\"netSalesTableData\"\r\n          tooltip-effect=\"dark\"\r\n          style=\"width: 100%\"\r\n          @selection-change=\"handleSelectionChange\"\r\n          header-row-class-name=\"item-table-header\"\r\n        >\r\n          <el-table-column :selectable=\"isSelectCheck\" type=\"selection\" width=\"55\"></el-table-column>\r\n\r\n          <el-table-column label=\"销售订单号\" prop=\"orderSn\" width=\"210\" align=\"center\"></el-table-column>\r\n\r\n          <el-table-column prop=\"reviewed\" label=\"订单状态\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row | filterReviewed}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"paymentStatus\" label=\"支付状态\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.paymentStatus | filterPaymentStatus}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"storeName\" label=\"购买商户\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.storeName ? scope.row.storeName:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"receiverName\" label=\"收货人\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.receiverName ? scope.row.receiverName:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"receiverMobile\" label=\"收货人电话\" width=\"160\" align=\"center\"></el-table-column>\r\n\r\n          <el-table-column prop=\"receiverAddress\" label=\"收货地址\" width=\"160\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tooltip\r\n                class=\"item\"\r\n                effect=\"dark\"\r\n                :content=\"scope.row.receiverAddress\"\r\n                placement=\"top\"\r\n              >\r\n                <span>{{scope.row.receiverAddress | filterToAddress}}</span>\r\n              </el-tooltip>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"amount\" label=\"订单金额\" width=\"180\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.amount | filterPrice}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"actualAmount\" label=\"实付金额\" width=\"180\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.actualAmount | filterPrice}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"paymentCode\" label=\"支付方式\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.paymentCode | filterPaymentCode}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"创建时间\" width=\"160\" align=\"center\">\r\n            <template slot-scope=\"scope\">{{ scope.row.createTime | timestampToTime}}</template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"organizationCode\" label=\"所属机构\" width=\"180\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.organizationCode ? scope.row.organizationCode:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <!-- <el-table-column prop=\"agent\" label=\"推荐人\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.agent ? scope.row.agent:'--'}}</span>\r\n            </template>\r\n          </el-table-column>-->\r\n\r\n          <el-table-column prop=\"address\" label=\"操作\" width=\"160\" fixed=\"right\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                @click=\"checkBtnClick(scope.row)\"\r\n                type=\"text\"\r\n                v-auth=\"codeData\"\r\n                data-code=\"CAO_VIEW\"\r\n              >查看</el-button>\r\n              <el-button\r\n                v-auth=\"codeData\"\r\n                data-code=\"CAO_UPDATE\"\r\n                @click=\"editBtnClick(scope.row)\"\r\n                type=\"text\"\r\n                :disabled=\"scope.row.reviewed!=0 && scope.row.reviewed!=2\"\r\n              >修改</el-button>\r\n              <el-button\r\n                @click=\"cancleBtnclick(scope.row.orderId)\"\r\n                type=\"text\"\r\n                v-auth=\"codeData\"\r\n                data-code=\"CAO_CANCEL\"\r\n                :disabled=\"scope.row.reviewed==1 && scope.row.businessStatus!='05'\"\r\n              >取消</el-button>\r\n              <el-dropdown @command=\"handleCommand\">\r\n                <span class=\"el-dropdown-link\">\r\n                  <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </span>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item\r\n                    :command=\"dropdownItemValueChange('isRemark',scope.row)\"\r\n                    v-auth=\"codeData\"\r\n                    data-code=\"CAO_REMARKS\r\n\"\r\n                  >添加备注</el-dropdown-item>\r\n                  <el-dropdown-item\r\n                    v-auth=\"codeData\"\r\n                    data-code=\"CAO_AUDIT\"\r\n                    v-if=\"scope.row.reviewed == 0\"\r\n                    :command=\"dropdownItemValueChange('isCheck',scope.row)\"\r\n                  >审核订单</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <div class=\"block\" style=\"margin-top:20px;padding-bottom:10px;margin-right:20px;\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page.sync=\"formInline.pageIndex\"\r\n            :page-sizes=\"[10,20,30,40]\"\r\n            :page-size=\"10\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"totlePage\"\r\n          ></el-pagination>\r\n        </div>\r\n      </template>\r\n    </div>\r\n\r\n    <!-- 圆形进度条 -->\r\n    <el-dialog\r\n      :visible.sync=\"circleDialogVisible\"\r\n      class=\"circleProgress\"\r\n      @close=\"closeCircleProgress\"\r\n      :show-close=\"false\"\r\n    >\r\n      <el-progress type=\"circle\" :percentage=\"20\"></el-progress>\r\n      <div style=\"margin-top:10px;\">\r\n        <label>正在读取订单</label>\r\n      </div>\r\n      <div>\r\n        <label>请不要关闭本页面,关闭后将会读取失败!</label>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 表格数据  -->\r\n    <el-dialog :visible.sync=\"TableVisible\">\r\n      <div style=\"position: relative;top:-40px;\">\r\n        <div class=\"first-title\">\r\n          <h3>累计读取订单</h3>\r\n          <h3 style=\" right: 30px;position: absolute;top:10px;\">{{allTotalData}}单</h3>\r\n        </div>\r\n        <div class=\"middle-title\">\r\n          <h3>成功有效订单</h3>\r\n          <h3 style=\" right: 30px;position: absolute;top:53px;\">{{validTotalData}}单</h3>\r\n        </div>\r\n        <h5 style=\"position: absolute;top:127px;\">订单读取明细如下</h5>\r\n      </div>\r\n      <el-table :data=\"gridData\" height=\"200px\">\r\n        <el-table-column property=\"row\" label=\"行号\" width=\"80\"></el-table-column>\r\n        <el-table-column property=\"searchKey\" label=\"订单号\" width=\"160\"></el-table-column>\r\n        <el-table-column property=\"orderStatus\" label=\"读取结果\">\r\n          <template slot-scope=\"scope\">\r\n            <div>{{scope.row.orderStatus | filterOrderStatus}}</div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"有效状态\">\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <i :class=\"{'el-icon-success':scope.row.orderStatus==2}\"></i>\r\n              <span style=\"margin-left: 10px\">{{ scope.row.status }}</span>\r\n            </div>\r\n            <div>\r\n              <i :class=\"{'el-icon-warning':scope.row.orderStatus!=2}\"></i>\r\n              <span style=\"margin-left: 10px\">{{ scope.row.status }}</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"btn\">\r\n        <el-button plain @click=\"closeTable\" size=\"small\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"successBtnClickTable\" size=\"small\">确定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { getToken } from \"@/utils/auth\";\r\nimport codeSet from \"@/components/codeSet\";\r\nimport treeDept from \"@/components/treeDept\";\r\nimport { filter } from \"minimatch\";\r\nimport { get } from \"http\";\r\nlet token = getToken();\r\nexport default {\r\n  components: {\r\n    codeSet,\r\n    treeDept\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      //权限Code码\r\n      codeData: [],\r\n      //是否显示备注信息框\r\n      isShowRemarkMsgBox: false,\r\n      //仓储性质数据\r\n      storageValArr: [],\r\n      //订单来源支持多数据绑定\r\n      orderValArr: [],\r\n      formInline: {\r\n        orderType: \"0201\",\r\n        searchKey: \"\",\r\n        // 日期时间\r\n        startTime: \"\",\r\n        endTime: \"\",\r\n        channelCodes: [],\r\n        //订单状态\r\n        businessStatusList: [],\r\n        //组织机构\r\n        organizationCodes:[],\r\n        //店铺名称\r\n        storeName: \"\",\r\n        //当前页数\r\n        pageIndex: 1,\r\n        //每页要显示的数据条数,默认10条\r\n        pageSize: 10\r\n      },\r\n      channelSaleOrderVoList: [],\r\n      //网销订单表格数据\r\n      netSalesTableData: [],\r\n      //总的条数\r\n      totlePage: 1,\r\n      //table中checkBox的状态\r\n      multipleSelection: [],\r\n      /***************上面的时网销订单相关******************/\r\n      //圆形进度条相关\r\n      circleDialogVisible: false,\r\n      // 日期时间\r\n      dateTime: \"\",\r\n      dialogFormVisible: false,\r\n      //表格数据\r\n      TableVisible: false,\r\n      gridData: [],\r\n      //总的单数\r\n      allTotalData: \"\",\r\n      //有效单数\r\n      validTotalData: 0,\r\n      //需要上传的文件\r\n      fileList: [],\r\n      fileData: new FormData(),\r\n      fileUrl: \"\",\r\n      ditchFileName: \"\",\r\n      babyFileName: \"\",\r\n      uploadData: [],\r\n      //获取门店列表数据\r\n      storeListData: [],\r\n      //组织机构数据\r\n      organizationListData: [],\r\n      //存储需要导出表格的数据\r\n      multipleSelectionData: [],\r\n      // //创建时间-开始时间\r\n      // startTime:{\r\n      //   disabledDate: time => {\r\n      //       if (this.formInline.startTime) {\r\n      //         return (\r\n      //           time.getTime() < new Date(this.formInline.startTime).getTime()- 8.64e7\r\n      //         )\r\n      //       } else {\r\n      //         // 不能大于当前日期\r\n      //         return time.getTime() < Date.now()- 8.64e7\r\n      //       }\r\n      //     }\r\n      // },\r\n      // //创建时间-结束时间\r\n      // endTime:{\r\n      //   disabledDate: time => {\r\n      //       if (this.formInline.starttime) {\r\n      //         return (\r\n      //           time.getTime() > Date.now() ||\r\n      //           time.getTime() < new Date(this.formInline.starttime).getTime()- 8.64e7 // 加- 8.64e7则表示包当天\r\n      //         )\r\n      //       } else {\r\n      //         return time.getTime() < Date.now()- 8.64e7\r\n      //       }\r\n      //     }\r\n      // },\r\n    };\r\n  },\r\n  created() {\r\n    //得到组织机构\r\n    this.getWarehouseListData();\r\n\r\n    this.getCodeLimitToBtnStatus(this.$route.meta.currentid);\r\n    //得到表格数据\r\n    this.getChannelSaleOrderListTableData();\r\n  },\r\n  // 过滤器\r\n  filters: {\r\n    filterOrderStatus(val) {\r\n      if (val == 2) {\r\n        return \"订单有效,商品库存已锁定\";\r\n      }\r\n      if (val == 1) {\r\n        return \"订单无效\";\r\n      }\r\n\r\n      return \"订单信息不全\";\r\n    },\r\n    //过滤地址\r\n    filterToAddress(val) {\r\n      if (val.length > 12) {\r\n        let newStr = val.substring(0, 11) + \"....\";\r\n        return newStr;\r\n      } else {\r\n        return val;\r\n      }\r\n    },\r\n    //过滤支付状态\r\n    filterPaymentCode(val) {\r\n      switch (val) {\r\n        case \"01\":\r\n          return \"现金\";\r\n          break;\r\n        case \"02\":\r\n          return \"银行卡\";\r\n          break;\r\n        case \"03\":\r\n          return \"微信\";\r\n          break;\r\n        case \"04\":\r\n          return \"支付宝\";\r\n          break;\r\n        case \"05\":\r\n          return \"支票\";\r\n          break;\r\n        case \"06\":\r\n          return \"电汇\";\r\n          break;\r\n        case \"07\":\r\n          return \"汇票\";\r\n          break;\r\n        case \"08\":\r\n          return \"其他\";\r\n          break;\r\n        default:\r\n          return \"--\";\r\n          break;\r\n      }\r\n    },\r\n    //过滤订单来源\r\n    filterChannelCode(val) {\r\n      switch (val) {\r\n        case \"01\":\r\n          return \"淘宝\";\r\n          break;\r\n        case \"02\":\r\n          return \"京东\";\r\n          break;\r\n        case \"03\":\r\n          return \"天猫\";\r\n          break;\r\n        case \"04\":\r\n          return \"手工录入\";\r\n          break;\r\n        default:\r\n          return \"--\";\r\n          break;\r\n      }\r\n    },\r\n    //过滤订单状态\r\n    filterReviewed(val) {\r\n      switch (val.reviewed) {\r\n        case 0:\r\n          return \"待审核\";\r\n          break;\r\n        case 2:\r\n          return \"审核驳回\";\r\n          break;\r\n        case 1:\r\n          switch (val.businessStatus) {\r\n            case \"05\":\r\n              return \"待发货\";\r\n              break;\r\n            case \"06\":\r\n              return \"已发货\";\r\n              break;\r\n            case \"08\":\r\n              return \"已完成\";\r\n              break;\r\n            case \"16\":\r\n              return \"异常完成\";\r\n              break;\r\n            case \"17\":\r\n              return \"异常发货\";\r\n              break;\r\n            default:\r\n              return \"--\";\r\n              break;\r\n          }\r\n          break;\r\n        default:\r\n          return \"--\";\r\n          break;\r\n      }\r\n    },\r\n    //过滤支付状态\r\n    filterPaymentStatus(val) {\r\n      switch (val) {\r\n        case \"01\":\r\n          return \"未支付\";\r\n          break;\r\n        case \"02\":\r\n          return \"部分支付\";\r\n          break;\r\n        case \"03\":\r\n          return \"已支付\";\r\n          break;\r\n        case \"08\":\r\n          return \"已完成\";\r\n          break;\r\n        default:\r\n          return \"--\";\r\n          break;\r\n      }\r\n    },\r\n    filterPrice(val) {\r\n      if (val && val != null) {\r\n        val = String(val);\r\n        let left = val.split(\".\")[0],\r\n          right = val.split(\".\")[1];\r\n        right = right\r\n          ? right.length >= 2\r\n            ? \".\" + right.substr(0, 2)\r\n            : \".\" + right + \"0\"\r\n          : \".00\";\r\n        let temp = left\r\n          .split(\"\")\r\n          .reverse()\r\n          .join(\"\")\r\n          .match(/(\\d{1,3})/g);\r\n        return (\r\n          \"￥\" +\r\n          (Number(val) < 0 ? \"-\" : \"\") +\r\n          temp\r\n            .join(\",\")\r\n            .split(\"\")\r\n            .reverse()\r\n            .join(\"\") +\r\n          right\r\n        );\r\n      } else if (val === 0) {\r\n        // 注意===在这里的使用，如果传入的money为0,if中会将其判定为boolean类型，故而要另外做===判断\r\n        return \"￥\" + \"0.00\";\r\n      } else {\r\n        return \"--\";\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    //得到组织机构数据\r\n    async getWarehouseListData() {\r\n      let info = await this.request(this.api.user.get_userinfo, {}, true);\r\n      console.log(info);\r\n      //得到部门Id\r\n      // this.shop_user.relationDepId = info.departId;\r\n\r\n      this.request(this.api.user.userCompany_getUserOrgByUserId, {\r\n        userId: info.userId,\r\n        type: 0\r\n      }).then(data => {\r\n        console.log(data);\r\n        this.organizationListData.push(data);\r\n      });\r\n    },\r\n    // 得到code码，用来限制是否显示按钮\r\n    getCodeLimitToBtnStatus(codeId) {\r\n      this.request(this.api.user.crm_userCompany_authList, {\r\n        menuId: codeId\r\n      }).then(res => {\r\n        this.codeData = res;\r\n      });\r\n    },\r\n    //新增基本信息  跳转页面\r\n    openAddAttrbute() {\r\n      this.$router.push({\r\n        path: \"/OS/channelSales/channelSales_add\",\r\n        name: \"channelSales_add\",\r\n        query: {\r\n          type: \"add\"\r\n        }\r\n      });\r\n      localStorage.setItem(\"type\", \"add\");\r\n      // eventVue.$emit('sendMsg',sendObj)\r\n    },\r\n    isSelectCheck(row, index) {\r\n      if (row.reviewed == 0) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    //取消\r\n    closeTable() {\r\n      let tempData = this.gridData.filter(item => item.orderStatus == 2);\r\n      if (tempData.length > 0) {\r\n        this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n          channelSaleOrderVoList: tempData,\r\n          tagCode: \"ORDER_CANCEL\"\r\n        }).then(data => {});\r\n      } else {\r\n        this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n          channelSaleOrderVoList: [],\r\n          tagCode: \"ORDER_CANCEL\"\r\n        }).then(data => {});\r\n      }\r\n      this.TableVisible = false;\r\n    },\r\n    //确认\r\n    successBtnClickTable() {\r\n      //   dialogFormVisible = false\r\n      let tempData = this.gridData.filter(item => item.orderStatus == 2);\r\n      if (tempData.length > 0) {\r\n        this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n          channelSaleOrderVoList: tempData,\r\n          tagCode: \"ORDER_CONFIRM\"\r\n        }).then(data => {\r\n          this.TableVisible = false;\r\n        });\r\n      } else {\r\n        this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n          channelSaleOrderVoList: [],\r\n          tagCode: \"ORDER_CONFIRM\"\r\n        }).then(data => {\r\n          this.TableVisible = false;\r\n        });\r\n      }\r\n    },\r\n    //得到ListData表格数据\r\n    getChannelSaleOrderListTableData() {\r\n      this.request(this.api.order.channelSaleOrder_list, this.formInline).then(\r\n        res => {\r\n          //获取总的页数\r\n          this.totlePage = res.totalCount;\r\n          this.netSalesTableData = res.data;\r\n        }\r\n      );\r\n    },\r\n    onSubmit() {\r\n      this.getChannelSaleOrderListTableData();\r\n      console.log(\"submit!\");\r\n      console.log(this.valArr);\r\n    },\r\n    //搜索\r\n    onSearchContent() {\r\n      let startTime = this.formInline.startTime;\r\n      let endTime = this.formInline.endTime;\r\n      //搜索\r\n      this.getChannelSaleOrderListTableData();\r\n    },\r\n    //重置表单数据\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n      this.formInline.channelCodes = [];\r\n      this.formInline.startTime = \"\";\r\n      this.formInline.endTime = \"\";\r\n      console.log(2);\r\n    },\r\n    //导入按钮的点击事件\r\n    leadBtnClick() {\r\n      console.log(\"leadBtn\");\r\n    },\r\n    //批量审核\r\n    batchBtnClick() {\r\n      this.multipleSelection.forEach(item => {\r\n        item.orderType = \"0201\";\r\n        item.reviewed = 1;\r\n      });\r\n      this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n        channelSaleOrderVoList: this.multipleSelection\r\n      }).then(data => {\r\n        //上传成功，清空选项\r\n        this.$refs.multipleTable.clearSelection();\r\n        this.$message({\r\n          message: \"批量审核成功\",\r\n          type: \"success\"\r\n        });\r\n        //刷新列表\r\n        this.getChannelSaleOrderListTableData()\r\n      });\r\n    },\r\n\r\n    //文件上传相关的事件\r\n    // 手动上传\r\n    customRequest(file) {},\r\n    //选中checkBox的状态\r\n    handleSelectionChange(val) {\r\n      val.forEach(item => {\r\n        item.reviewedName=this.$options.filters.filterReviewed(item.reviewed)\r\n        item.paymentStatusName=this.$options.filters.filterPaymentStatus(item.paymentStatus)\r\n        item.amounteName=this.$options.filters.filterPrice(item.amount)\r\n        item.actualAmountName=this.$options.filters.filterPrice(item.actualAmount)\r\n        item.paymentCodeName=this.$options.filters.filterPaymentCode(item.paymentCode)\r\n        item.createTimeName=this.$options.filters.timestampToTime(item.createTime)\r\n      });\r\n      this.multipleSelection = val;\r\n      this.multipleSelectionData=val\r\n    },\r\n    //点击按钮上传服务器\r\n    submitUpload() {\r\n      // this.ditchFileName.search(\"ExportOrderList\")\r\n      if (this.ditchFileName.search(\"ExportOrderList\") == -1) {\r\n        this.ditchTipMsg();\r\n        return;\r\n      }\r\n      if (this.babyFileName.search(\"ExportOrderDetailList\") == -1) {\r\n        this.babyTipMsg();\r\n        return;\r\n      }\r\n      var formdata = this.fileData;\r\n      console.log(formdata);\r\n      axios({\r\n        method: \"POST\",\r\n        url: this.channelSaleOrder_Import,\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          accessToken: token\r\n        },\r\n        data: this.fileData\r\n      })\r\n        .then(res => {\r\n          this.validTotalData = 0;\r\n          console.log(\"450==================\");\r\n          console.log(res);\r\n          console.log(res.data);\r\n          this.gridData = res.data.data;\r\n          this.allTotalData = this.gridData[this.gridData.length - 1].row;\r\n          this.gridData.forEach(item => {\r\n            if (item.orderStatus == 2) {\r\n              this.validTotalData++;\r\n            }\r\n          });\r\n          console.log(this.allTotalData + \"=====\");\r\n          this.$refs[\"ditch-upload\"].clearFiles();\r\n          this.$refs[\"baby-upload\"].clearFiles();\r\n          this.fileData.delete(\"channelSaleOrderImport\");\r\n          this.ditchFileName = \"\";\r\n          this.babyFileName = \"\";\r\n\r\n          this.dialogFormVisible = false;\r\n          // this.circleDialogVisible=true;\r\n\r\n          this.TableVisible = true;\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n     exportExcel() {\r\n      console.log(\"导出Excel表格...+++++++++++++++++++\");\r\n      require.ensure([], () => {\r\n        let { export_json_to_excel } = require(\"@/vendor/Export2Excel\");\r\n        let tHeader = [\r\n          \"销售订单号\",\r\n          \"订单状态\",\r\n          \"支付状态\",\r\n          \"购买商户\",\r\n          \"收货人\",\r\n          \"收货人电话\",\r\n          \"收货地址\",\r\n          \"订单金额\",\r\n          \"实付金额\",\r\n          \"支付方式\",\r\n          \"创建时间\",\r\n          \"所属机构\"\r\n        ];\r\n        // 上面设置Excel的表格第一行的标题\r\n        let filterVal = [\r\n          \"orderSn\",\r\n          \"reviewedName\",\r\n          \"paymentStatusName\",\r\n          \"storeName\",\r\n          \"receiverName\",\r\n          \"receiverMobile\",\r\n          \"receiverAddress\",\r\n          \"amountName\",\r\n          \"actualAmountName\",\r\n          \"paymentCodeName\",\r\n          \"createTimeName\",\r\n          \"organizationCode\"\r\n        ];\r\n        // 上面的index、nickName、name是tableData里对象的属性\r\n        let list = this.multipleSelection; //把data里的multipleSelection存到list\r\n        let data = this.formatJson(filterVal, list);\r\n        export_json_to_excel(tHeader, data, \"网销退货表单\");\r\n      });\r\n    },\r\n    formatJson(filterVal, jsonData) {\r\n      return jsonData.map(v => filterVal.map(j => v[j]));\r\n    },\r\n    handleRemove(file, fileList) {\r\n      //   console.log(file, fileList);\r\n    },\r\n    handlePreview(file) {\r\n      //   console.log(file);\r\n    },\r\n    //订单表\r\n    ditchfileChange(file, fileList) {\r\n      //添加文件名字\r\n      this.fileData.append(\"channelSaleOrderImport\", file.raw);\r\n      //截取名字前缀\r\n      this.ditchFileName = file.name.slice(0, file.name.length - 4);\r\n    },\r\n    //文件列表移除时的操作\r\n    removeDitchFileList(file, fileList) {\r\n      this.$refs[\"ditch-upload\"].clearFiles();\r\n      this.ditchFileName = \"\";\r\n    },\r\n    ditchTipMsg() {\r\n      this.$message.error(\"订单表名字不正确\");\r\n    },\r\n    //宝贝表\r\n    babyFileChange(file, fileList) {\r\n      // console.log(fileList.raw);\r\n      console.log(file.raw);\r\n      this.fileData.append(\"channelSaleOrderImport\", file.raw);\r\n      this.babyFileName = file.name.slice(0, file.name.length - 4);\r\n    },\r\n    //清空宝贝表\r\n    removeBabyFileList(file, fileList) {\r\n      this.$refs[\"baby-upload\"].clearFiles();\r\n      this.babyFileName = \"\";\r\n    },\r\n    babyTipMsg() {\r\n      this.$message.error(\"宝贝表名字不正确\");\r\n    },\r\n    //CircleProgress关闭时的回调\r\n    closeCircleProgress() {\r\n      // console.log(\"closeCircleProgress\")\r\n      this.TableVisible = true;\r\n    },\r\n    //下拉选项\r\n    handleCommand(rowId) {\r\n      console.log(\"485========\");\r\n\r\n      console.log(rowId);\r\n      if (rowId[\"remark\"] == \"isRemark\") {\r\n        //  this.isShowRemarkMsgBox=true\r\n        //备注\r\n        this.$prompt(\"请输入备注\", \"添加订单备注\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\"\r\n        })\r\n          .then(({ value }) => {\r\n            let rowObj = rowId[\"row\"];\r\n            rowObj.remarks = value;\r\n\r\n            console.log(\"510================\");\r\n            console.log(rowObj);\r\n            (this.channelSaleOrderVoList = []),\r\n              this.channelSaleOrderVoList.push({\r\n                orderId: rowObj.orderId,\r\n                receiverAddress: rowObj.receiverAddress,\r\n                reviewed: rowObj.reviewed,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderSn: rowObj.orderSn,\r\n                receiverName: rowObj.receiverName,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderType: \"0201\",\r\n                channelCode: rowObj.channelCode,\r\n                remarks: rowObj.remarks,\r\n                warehouseCode: rowObj.warehouseCode,\r\n                goodsOwner: rowObj.goodsOwner\r\n              });\r\n            this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n              channelSaleOrderVoList: this.channelSaleOrderVoList,\r\n              tagCode: \"ORDER_UPDATE\"\r\n            }).then(data => {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: \"备注信息是: \" + value\r\n              });\r\n              //刷新列表\r\n              this.getChannelSaleOrderListTableData()\r\n            });\r\n          })\r\n          .catch(() => {\r\n            this.$message({\r\n              type: \"info\",\r\n              message: \"取消备注\"\r\n            });\r\n          });\r\n      } else {\r\n        const h = this.$createElement;\r\n        this.$msgbox({\r\n          title: \"订单审核\",\r\n          message: h(\"p\", null, [\r\n            h(\"span\", null, \"审核通过后,库房将接收订单发货通知 \")\r\n          ]),\r\n          showCancelButton: true,\r\n          showClose: false,\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"驳回\"\r\n        })\r\n          .then(action => {\r\n            console.log(action);\r\n            let rowObj = rowId[\"row\"];\r\n            rowObj.reviewed = 1;\r\n            (this.channelSaleOrderVoList = []),\r\n              this.channelSaleOrderVoList.push({\r\n                orderId: rowObj.orderId,\r\n                receiverAddress: rowObj.receiverAddress,\r\n                reviewed: rowObj.reviewed,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderSn: rowObj.orderSn,\r\n                receiverName: rowObj.receiverName,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderType: \"0201\",\r\n                channelCode: rowObj.channelCode,\r\n                warehouseCode: rowObj.warehouseCode,\r\n                goodsOwner: rowObj.goodsOwner\r\n              });\r\n            this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n              channelSaleOrderVoList: this.channelSaleOrderVoList,\r\n              tagCode: \"ORDER_UPDATE\"\r\n            }).then(data => {\r\n              this.$message({\r\n                type: \"info\",\r\n                message: \"action: \" + action\r\n              });\r\n              //刷新列表\r\n              this.getChannelSaleOrderListTableData()\r\n            });\r\n          })\r\n          .catch(res => {\r\n            console.log(res);\r\n            let rowObj = rowId[\"row\"];\r\n            rowObj.reviewed = 2;\r\n            (this.channelSaleOrderVoList = []),\r\n              this.channelSaleOrderVoList.push({\r\n                orderId: rowObj.orderId,\r\n                receiverAddress: rowObj.receiverAddress,\r\n                reviewed: rowObj.reviewed,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderSn: rowObj.orderSn,\r\n                receiverName: rowObj.receiverName,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderType: \"0201\",\r\n                channelCode: rowObj.channelCode,\r\n                warehouseCode: rowObj.warehouseCode,\r\n                goodsOwner: rowObj.goodsOwner\r\n              });\r\n            this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n              channelSaleOrderVoList: this.channelSaleOrderVoList,\r\n              tagCode: \"ORDER_UPDATE\"\r\n            }).then(data => {\r\n              this.$message({\r\n                type: \"info\",\r\n                message: \"action: \" + action\r\n              });\r\n            });\r\n          });\r\n      }\r\n    },\r\n    dropdownItemValueChange(isRemark, row) {\r\n      return {\r\n        remark: isRemark,\r\n        row: row\r\n      };\r\n    },\r\n    //查看按钮\r\n    checkBtnClick(row) {\r\n      console.log(row.orderSn);\r\n      this.$router.push({\r\n        path: \"/OS/channelSales/channelSales_check\",\r\n        name: \"show_channelSales_check\",\r\n        query: {\r\n          orderSn: row.orderSn\r\n        }\r\n      });\r\n    },\r\n    //修改按钮\r\n    editBtnClick(row) {\r\n      console.log(row);\r\n      this.$router.push({\r\n        path: \"/OS/channelSales/channelSales_editor\",\r\n        name: \"channelSales_editor\",\r\n        query: {\r\n          orderSn: row.orderSn,\r\n          reviewed: row.reviewed\r\n        }\r\n      });\r\n      localStorage.setItem(\"type\", \"add\");\r\n    },\r\n    //取消按钮\r\n    cancleBtnclick(orderId) {\r\n      this.request(this.api.order.channelSaleOrder_cancel, {\r\n        orderId: orderId,\r\n        orderType: \"0201\"\r\n      }).then(data => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"取消成功\"\r\n        });\r\n        //刷新数据\r\n        this.getChannelSaleOrderListTableData();\r\n      });\r\n    },\r\n    //每页条数改变时\r\n    handleSizeChange(page) {\r\n      console.log(page);\r\n      this.formInline.pageSize = page;\r\n      this.getChannelSaleOrderListTableData();\r\n    },\r\n    // 当前页改变时\r\n    handleCurrentChange(page) {\r\n      console.log(page);\r\n      this.formInline.pageIndex = page;\r\n      this.getChannelSaleOrderListTableData();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.seachKey-input {\r\n  width: 300px;\r\n}\r\n.btn {\r\n  width: 100%;\r\n  text-align: right;\r\n  margin-top: 15px;\r\n  margin-right: 20px;\r\n}\r\n.date-picker-div {\r\n  margin-right: 10px;\r\n}\r\n.base {\r\n  margin: 8px;\r\n}\r\n.main-top {\r\n  // background-color: aqua;\r\n  color: #222;\r\n  display: inline-block;\r\n  margin-left: -15px;\r\n  width: 300px;\r\n  line-height: 70px;\r\n}\r\n.block {\r\n  margin-top: 20px;\r\n  padding-bottom: 10px;\r\n  margin-right: 20px;\r\n}\r\nh3 {\r\n  margin-top: 0;\r\n  margin-bottom: 15px;\r\n}\r\n.el-form {\r\n  padding-top: 15px;\r\n}\r\n.middle-from {\r\n  background-color: #fff;\r\n  padding-left: 70px;\r\n}\r\n.table {\r\n  margin-top: 8px;\r\n  background-color: #fff;\r\n  padding: 24px;\r\n  // padding-top: 20px;\r\n  // padding-left: 70px;\r\n}\r\n.upload-demo {\r\n  float: left;\r\n  margin-right: 10px;\r\n}\r\n.circleProgress {\r\n  text-align: center;\r\n}\r\n// .addbtn button{\r\n//    padding: 9px 15px;\r\n// }\r\n</style>\r\n\r\n"],"sourceRoot":"src/views/OS/channelSales"}]}