{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\warehouse\\warehouse_center\\router_set\\cerrier_manager\\cerrier_manager_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\warehouse\\warehouse_center\\router_set\\cerrier_manager\\cerrier_manager_list.vue","mtime":1575712015894},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      //是否显示备注信息框\n      isShowRemarkMsgBox: false,\n      //仓储性质数据\n      storageValArr: [],\n      //订单来源支持多数据绑定\n      orderValArr: [],\n      signData: {\n        //承运商名称\n        name: \"\",\n        //承运商编码\n        code: \"\",\n        //开启关闭状态查询\n        isValid: \"\",\n        //当前页数\n        pageIndex: 1,\n        //每页要显示的数据条数,默认10条\n        pageSize: 10\n      },\n      channelSaleOrderVoList: [],\n      //网销订单表格数据\n      areaTableData: [],\n      //总的条数\n      totlePage: 1,\n      //存储需要批量更新状态的表格的数据\n      multipleSelectionData: [],\n      //标题\n      title: \"新增承运商\",\n      //标识是否显示el-dialog\n      showCycleFrom: false,\n      //新增货区数据\n      cycleFromData: {\n        //标识当前数据的id\n        id: \"\",\n        //承运商名称\n        name: \"\",\n        //承运商编码\n        code: \"\",\n        //联系人\n        contact: \"\",\n        //联系电话\n        telephone: \"\",\n        //开启状态\n        isValid: false\n      },\n      //承运商数据\n      logisticsData: [],\n      rules: {\n        name: [{\n          required: true,\n          message: \"仓库不能为空\",\n          trigger: \"blur\"\n        }],\n        code: [{\n          required: true,\n          message: \"货区名称不能为空\",\n          trigger: \"change\"\n        }]\n      }\n    };\n  },\n  filters: {\n    filterIsValid: function filterIsValid(val) {\n      switch (val) {\n        case true:\n          return \"启用\";\n          break;\n\n        case false:\n          return \"停用\";\n          break;\n      }\n    }\n  },\n  created: function created() {\n    //得到表格数据\n    this.getCerrierManagerListTableData(); //得到承运商数据\n\n    this.getLogisticsData();\n  },\n  methods: {\n    //得到ListData表格数据\n    getCerrierManagerListTableData: function getCerrierManagerListTableData() {\n      var _this = this;\n\n      this.request(this.api.warehouse.warehouseBase_logistics_list, this.signData).then(function (res) {\n        console.log(res); //获取总的页数\n\n        _this.areaTableData = res.data;\n        _this.totlePage = res.totalCount;\n      });\n    },\n    //得到承运商数据\n    getLogisticsData: function getLogisticsData() {\n      var _this2 = this;\n\n      this.request(this.api.warehouse.warehouseBase_configuration_configurationDictionaryByCode, {\n        code: \"CONFIGURABLE06\"\n      }).then(function (res) {\n        console.log(res);\n        _this2.logisticsData = res;\n      });\n    },\n    //搜索\n    onSearchContent: function onSearchContent() {\n      //搜索\n      this.getCerrierManagerListTableData();\n    },\n    //重置\n    resetForm: function resetForm(ruleForm) {\n      this.$refs[ruleForm].resetFields();\n    },\n    //新增Btn的点击事件\n    addBtnClickEvent: function addBtnClickEvent() {\n      this.title = \"新增承运商\";\n      this.showCycleFrom = true;\n    },\n    //启用Btn的点击事件\n    startBtnClickEvent: function startBtnClickEvent() {\n      var _this3 = this;\n\n      console.log(\"startBtnClickEvent---\");\n      this.$confirm(\"确认启用吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function () {\n        var primaries = [];\n\n        _this3.multipleSelectionData.forEach(function (item) {\n          primaries.push(item.id);\n        });\n\n        _this3.request(_this3.api.warehouse.warehouseBase_configuration_updateValid, {\n          symbol: true,\n          primaries: primaries\n        }).then(function (res) {\n          //刷新数据\n          _this3.getCerrierManagerListTableData();\n        });\n      }).catch(function (action) {});\n    },\n    //停用Btn的点击事件\n    stopBtnClickEvent: function stopBtnClickEvent() {\n      var _this4 = this;\n\n      console.log(\"stopBtnClickEvent---\");\n      this.$confirm(\"确认停用吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function () {\n        var primaries = [];\n\n        _this4.multipleSelectionData.forEach(function (item) {\n          primaries.push(item.id);\n        });\n\n        _this4.request(_this4.api.warehouse.warehouseBase_configuration_updateValid, {\n          symbol: false,\n          primaries: primaries\n        }).then(function (res) {\n          //刷新数据\n          _this4.getCerrierManagerListTableData();\n        });\n      }).catch(function (action) {});\n    },\n    //选中checkBox的状态\n    handleSelectionChange: function handleSelectionChange(val) {\n      console.log(val);\n      this.multipleSelectionData = val;\n    },\n    //修改按钮\n    editBtnClick: function editBtnClick(row) {\n      var _this5 = this;\n\n      this.request(this.api.warehouse.warehouseBase_configuration_getByPrimary, {\n        id: row.id\n      }).then(function (res) {\n        console.log(res);\n        _this5.showCycleFrom = true;\n\n        _this5.$nextTick(function () {\n          _this5.title = \"修改承运商\";\n          _this5.cycleFromData = {\n            //当前数据id\n            id: res.id,\n            //承运商名称\n            name: res.name,\n            //承运商编码\n            code: res.code,\n            //联系人\n            contact: res.contact,\n            //联系电话\n            telephone: res.telephone,\n            //开启状态\n            isValid: res.isValid\n          };\n        });\n      });\n    },\n    //每页条数改变时\n    handleSizeChange: function handleSizeChange(page) {\n      console.log(page);\n      this.signData.pageSize = page;\n      this.getCerrierManagerListTableData();\n    },\n    // 当前页改变时\n    handleCurrentChange: function handleCurrentChange(page) {\n      console.log(page);\n      this.signData.pageIndex = page;\n      this.getCerrierManagerListTableData();\n    },\n    //承运商名称改变\n    changeLogisticsName: function changeLogisticsName(val) {\n      var code = this.logisticsData.find(function (item) {\n        return item.description == val;\n      }).code;\n      this.cycleFromData.code = code;\n    },\n    //el-dialog的隐藏事件\n    hideDialog: function hideDialog() {\n      this.showCycleFrom = false;\n      this.$refs[\"cycleFromData\"].resetFields();\n      this.cycleFromData.id = \"\";\n    },\n    //取消\n    cancelClickEvent: function cancelClickEvent(cycleFromData) {\n      this.hideDialog();\n    },\n    //确认新增承运商\n    sureAddFromOfCycle: function sureAddFromOfCycle() {\n      var _this6 = this;\n\n      console.log(\"sureAddFromOfCycle--------\");\n      this.$refs.cycleFromData.validate(function (valid) {\n        if (valid) {\n          _this6.request(_this6.api.warehouse.warehouseBase_configuration_save, _this6.cycleFromData).then(function (res) {\n            console.log(\"新增成功---\"); //隐藏当前dialog\n\n            _this6.hideDialog(); //刷新数据\n\n\n            _this6.getCerrierManagerListTableData();\n          });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["cerrier_manager_list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <!-- 渠道订单 -->\r\n  <div class=\"base\">\r\n    <div class=\"middle-from\">\r\n      <el-form\r\n        :inline=\"true\"\r\n        :model=\"signData\"\r\n        size=\"small\"\r\n        ref=\"ruleForm\"\r\n        class=\"demo-form-inline\"\r\n      >\r\n        <el-form-item label=\"承运商名称：\" prop=\"name\">\r\n          <el-select v-model=\"signData.name\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in logisticsData\"\r\n              :key=\"item.id\"\r\n              :label=\"item.description\"\r\n              :value=\"item.description\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"承运商代码：\" prop=\"code\" label-width=\"100px\" style=\"margin:0 20px;\">\r\n          <el-select v-model=\"signData.code\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in logisticsData\"\r\n              :key=\"item.id\"\r\n              :label=\"item.code\"\r\n              :value=\"item.code\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"启用状态：\" prop=\"isValid\" label-width=\"90px\">\r\n          <el-select v-model=\"signData.isValid\" placeholder=\"请选择\">\r\n            <el-option label=\"启用\" value=\"true\"></el-option>\r\n            <el-option label=\"停用\" value=\"false\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item style=\"margin-left:20px;\">\r\n          <el-button type=\"primary\" plain @click=\"onSearchContent\" size=\"small\">搜索</el-button>\r\n          <el-button @click=\"resetForm('ruleForm')\" size=\"small\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- table -->\r\n    <div class=\"table\">\r\n      <el-button type=\"primary\" @click=\"addBtnClickEvent\" size=\"small\">新增</el-button>\r\n      <el-button @click=\"startBtnClickEvent\" size=\"small\" type=\"primary\" :disabled=\"multipleSelectionData.length==0\">启用</el-button>\r\n      <el-button type=\"primary\" @click=\"stopBtnClickEvent\" size=\"small\" :disabled=\"multipleSelectionData.length==0\">停用</el-button>\r\n      <!-- table订单 -->\r\n      <template>\r\n        <el-table\r\n          ref=\"multipleTable\"\r\n          :data=\"areaTableData\"\r\n          tooltip-effect=\"dark\"\r\n          style=\"width: 100%\"\r\n          @selection-change=\"handleSelectionChange\"\r\n          header-row-class-name=\"item-table-header\"\r\n        >\r\n          <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n          <el-table-column label=\"物流商名称\" prop=\"name\"></el-table-column>\r\n          <el-table-column prop=\"code\" label=\"物流商代码\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.code ? scope.row.code:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"contact\" label=\"联系人\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.contact ? scope.row.contact:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"telephone\" label=\"联系电话\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.telephone ? scope.row.telephone:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"isValid\" label=\"启用状态\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.isValid | filterIsValid}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"address\" label=\"操作\" width=\"160\" fixed=\"right\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button @click=\"editBtnClick(scope.row)\" type=\"text\">修改</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"block\" style=\"margin-top:20px;padding-bottom:10px;margin-right:20px;\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page.sync=\"signData.pageIndex\"\r\n            :page-sizes=\"[10,20,30,40]\"\r\n            :page-size=\"10\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"totlePage\"\r\n          ></el-pagination>\r\n        </div>\r\n      </template>\r\n    </div>\r\n    <el-dialog :title=\"title\" :visible.sync=\"showCycleFrom\" width=\"500px\" @closed=\"hideDialog\">\r\n      <el-form :model=\"cycleFromData\" ref=\"cycleFromData\" :rules=\"rules\" label-width=\"110px\">\r\n        <el-form-item label=\"承运商名称：\" prop=\"name\">\r\n          <el-select\r\n            v-model=\"cycleFromData.name\"\r\n            placeholder=\"请选择\"\r\n            @change=\"changeLogisticsName\"\r\n            style=\"width:300px;\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in logisticsData\"\r\n              :key=\"item.id\"\r\n              :label=\"item.description\"\r\n              :value=\"item.description\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"承运商编码：\" prop=\"code\">\r\n          <el-input\r\n            v-model=\"cycleFromData.code\"\r\n            style=\"width:300px;\"\r\n            disabled\r\n            placeholder=\"请输入承运商编码\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系人：\" prop=\"contact\">\r\n          <el-input v-model=\"cycleFromData.contact\" style=\"width:300px;\" placeholder=\"请输入内容\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话：\" prop=\"telephone\">\r\n          <el-input\r\n            v-model=\"cycleFromData.telephone\"\r\n            v-enter-number\r\n            style=\"width:300px;\"\r\n            placeholder=\"请输入内容\"\r\n            maxlength=\"11\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"启停状态：\" prop=\"isValid\">\r\n          <el-switch\r\n            v-model=\"cycleFromData.isValid\"\r\n            active-color=\"#13ce66\"\r\n            inactive-color=\"#ff4949\"\r\n          ></el-switch>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancelClickEvent('cycleFromData')\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"sureAddFromOfCycle\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //是否显示备注信息框\r\n      isShowRemarkMsgBox: false,\r\n      //仓储性质数据\r\n      storageValArr: [],\r\n      //订单来源支持多数据绑定\r\n      orderValArr: [],\r\n      signData: {\r\n        //承运商名称\r\n        name: \"\",\r\n        //承运商编码\r\n        code: \"\",\r\n        //开启关闭状态查询\r\n        isValid: \"\",\r\n        //当前页数\r\n        pageIndex: 1,\r\n        //每页要显示的数据条数,默认10条\r\n        pageSize: 10\r\n      },\r\n      channelSaleOrderVoList: [],\r\n      //网销订单表格数据\r\n      areaTableData: [],\r\n      //总的条数\r\n      totlePage: 1,\r\n      //存储需要批量更新状态的表格的数据\r\n      multipleSelectionData: [],\r\n\r\n      //标题\r\n      title: \"新增承运商\",\r\n      //标识是否显示el-dialog\r\n      showCycleFrom: false,\r\n      //新增货区数据\r\n      cycleFromData: {\r\n        //标识当前数据的id\r\n        id: \"\",\r\n        //承运商名称\r\n        name: \"\",\r\n        //承运商编码\r\n        code: \"\",\r\n        //联系人\r\n        contact: \"\",\r\n        //联系电话\r\n        telephone: \"\",\r\n        //开启状态\r\n        isValid: false\r\n      },\r\n      //承运商数据\r\n      logisticsData: [],\r\n      rules: {\r\n        name: [{ required: true, message: \"仓库不能为空\", trigger: \"blur\" }],\r\n        code: [\r\n          { required: true, message: \"货区名称不能为空\", trigger: \"change\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  filters: {\r\n    filterIsValid(val) {\r\n      switch (val) {\r\n        case true:\r\n          return \"启用\";\r\n          break;\r\n        case false:\r\n          return \"停用\";\r\n          break;\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    //得到表格数据\r\n    this.getCerrierManagerListTableData();\r\n    //得到承运商数据\r\n    this.getLogisticsData();\r\n  },\r\n  methods: {\r\n    //得到ListData表格数据\r\n    getCerrierManagerListTableData() {\r\n      this.request(\r\n        this.api.warehouse.warehouseBase_logistics_list,\r\n        this.signData\r\n      ).then(res => {\r\n        console.log(res);\r\n        //获取总的页数\r\n        this.areaTableData = res.data;\r\n        this.totlePage = res.totalCount;\r\n      });\r\n    },\r\n    //得到承运商数据\r\n    getLogisticsData() {\r\n      this.request(\r\n        this.api.warehouse\r\n          .warehouseBase_configuration_configurationDictionaryByCode,\r\n        { code: \"CONFIGURABLE06\" }\r\n      ).then(res => {\r\n        console.log(res);\r\n        this.logisticsData = res;\r\n      });\r\n    },\r\n    //搜索\r\n    onSearchContent() {\r\n      //搜索\r\n      this.getCerrierManagerListTableData();\r\n    },\r\n    //重置\r\n    resetForm(ruleForm) {\r\n      this.$refs[ruleForm].resetFields();\r\n    },\r\n    //新增Btn的点击事件\r\n    addBtnClickEvent() {\r\n      this.title = \"新增承运商\";\r\n      this.showCycleFrom = true;\r\n    },\r\n    //启用Btn的点击事件\r\n    startBtnClickEvent() {\r\n      console.log(\"startBtnClickEvent---\");\r\n      this.$confirm(\"确认启用吗？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        var primaries=[]\r\n        this.multipleSelectionData.forEach(item=>{\r\n          primaries.push(item.id)\r\n        })\r\n        this.request(this.api.warehouse.warehouseBase_configuration_updateValid,{\r\n          symbol:true, \r\n          primaries:primaries\r\n        }).then(res => {\r\n          //刷新数据\r\n          this.getCerrierManagerListTableData();\r\n        })\r\n      }).catch(action => {});\r\n    },\r\n    //停用Btn的点击事件\r\n    stopBtnClickEvent() {\r\n      console.log(\"stopBtnClickEvent---\");\r\n      this.$confirm(\"确认停用吗？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        var primaries=[]\r\n        this.multipleSelectionData.forEach(item=>{\r\n          primaries.push(item.id)\r\n        })\r\n        this.request(this.api.warehouse.warehouseBase_configuration_updateValid,{\r\n          symbol:false, \r\n          primaries:primaries\r\n        }).then(res => {\r\n          //刷新数据\r\n          this.getCerrierManagerListTableData();\r\n        })\r\n      }).catch(action => {});\r\n    },\r\n    //选中checkBox的状态\r\n    handleSelectionChange(val) {\r\n      console.log(val);\r\n      this.multipleSelectionData = val;\r\n    },\r\n    //修改按钮\r\n    editBtnClick(row) {\r\n      this.request(\r\n        this.api.warehouse.warehouseBase_configuration_getByPrimary,\r\n        { id: row.id }\r\n      ).then(res => {\r\n        console.log(res);\r\n        this.showCycleFrom = true;\r\n        this.$nextTick(() => {\r\n          this.title = \"修改承运商\";\r\n          this.cycleFromData = {\r\n            //当前数据id\r\n            id: res.id,\r\n            //承运商名称\r\n            name: res.name,\r\n            //承运商编码\r\n            code: res.code,\r\n            //联系人\r\n            contact: res.contact,\r\n            //联系电话\r\n            telephone: res.telephone,\r\n            //开启状态\r\n            isValid: res.isValid\r\n          };\r\n        });\r\n      });\r\n    },\r\n    //每页条数改变时\r\n    handleSizeChange(page) {\r\n      console.log(page);\r\n      this.signData.pageSize = page;\r\n      this.getCerrierManagerListTableData();\r\n    },\r\n    // 当前页改变时\r\n    handleCurrentChange(page) {\r\n      console.log(page);\r\n      this.signData.pageIndex = page;\r\n      this.getCerrierManagerListTableData();\r\n    },\r\n    //承运商名称改变\r\n    changeLogisticsName(val) {\r\n      var code = this.logisticsData.find(item => item.description == val).code;\r\n      this.cycleFromData.code = code;\r\n    },\r\n    //el-dialog的隐藏事件\r\n    hideDialog() {\r\n      this.showCycleFrom = false;\r\n      this.$refs[\"cycleFromData\"].resetFields();\r\n      this.cycleFromData.id = \"\";\r\n    },\r\n    //取消\r\n    cancelClickEvent(cycleFromData) {\r\n      this.hideDialog();\r\n    },\r\n    //确认新增承运商\r\n    sureAddFromOfCycle() {\r\n      console.log(\"sureAddFromOfCycle--------\");\r\n      this.$refs.cycleFromData.validate(valid => {\r\n        if (valid) {\r\n          this.request(\r\n            this.api.warehouse.warehouseBase_configuration_save,\r\n            this.cycleFromData\r\n          ).then(res => {\r\n            console.log(\"新增成功---\");\r\n            //隐藏当前dialog\r\n            this.hideDialog();\r\n            //刷新数据\r\n            this.getCerrierManagerListTableData();\r\n          });\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.seachKey-input {\r\n  width: 300px;\r\n}\r\n.btn {\r\n  width: 100%;\r\n  text-align: right;\r\n  margin-top: 15px;\r\n  margin-right: 20px;\r\n}\r\n.date-picker-div {\r\n  margin-right: 10px;\r\n}\r\n.base {\r\n  margin: 8px;\r\n}\r\n.main-top {\r\n  // background-color: aqua;\r\n  color: #222;\r\n  display: inline-block;\r\n  margin-left: -15px;\r\n  width: 300px;\r\n  line-height: 70px;\r\n}\r\n.block {\r\n  margin-top: 20px;\r\n  padding-bottom: 10px;\r\n  margin-right: 20px;\r\n}\r\nh3 {\r\n  margin-top: 0;\r\n  margin-bottom: 15px;\r\n}\r\n.el-form {\r\n  padding-top: 15px;\r\n}\r\n.middle-from {\r\n  background-color: #fff;\r\n  padding-left: 18px;\r\n}\r\n.table {\r\n  margin-top: 8px;\r\n  background-color: #fff;\r\n  padding: 24px;\r\n  // padding-top: 20px;\r\n  // padding-left: 70px;\r\n}\r\n.upload-demo {\r\n  float: left;\r\n  margin-right: 10px;\r\n}\r\n.circleProgress {\r\n  text-align: center;\r\n}\r\n// .addbtn button{\r\n//    padding: 9px 15px;\r\n// }\r\n</style>\r\n\r\n"],"sourceRoot":"src/views/warehouse/warehouse_center/router_set/cerrier_manager"}]}