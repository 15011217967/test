{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\OS\\customOrder\\custom_order_detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\OS\\customOrder\\custom_order_detail.vue","mtime":1572415124455},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import _objectSpread from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport { getToken } from \"@/utils/auth\";\nimport codeSet from \"@/components/codeSet\";\nimport treeDept from \"@/components/treeDept\";\nimport { filter } from \"minimatch\";\nimport { get } from \"http\";\nimport { mapGetters } from 'vuex';\nimport * as userTypes from \"@/types/userConfig\";\nvar token = getToken();\nexport default {\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      isConsumer: true,\n      consumerReservationOrder_getObj: {},\n      orderStatus: {\n        100: '量体待确认',\n        101: '量体安排中',\n        102: '等待量体中',\n        103: '量体中',\n        104: '已量体',\n        105: '量体订单待回访'\n      },\n      orderType: {\n        20001: '量体预约单',\n        20002: '定制订单'\n      }\n    }, _defineProperty(_ref, \"consumerReservationOrder_getObj\", {}), _defineProperty(_ref, \"workOrderLog_list\", {}), _defineProperty(_ref, \"tableItemGetListMapObj\", {}), _defineProperty(_ref, \"active\", 3), _ref;\n  },\n  created: function created() {\n    this.consumerReservationOrder_get(this.$route.query.orderId); // this.getWorkOrderLog_list(this.$route.query.number);\n  },\n  methods: {\n    /**\n     * 获取定制订单详情基本信息\n     */\n    consumerReservationOrder_get: function consumerReservationOrder_get(orderId) {\n      var _this = this;\n\n      var that = this;\n      this.request(that.api.order.consumerCustomizedOrder_get, {\n        orderId: orderId\n      }).then(function (res) {\n        res.consumerCustomizedGoodsVOList.forEach(function (item, index) {\n          item.isChecked = false;\n          item.craft = []; // 工艺\n\n          item.material = []; // 原料\n\n          item.productGoodsMaterials.forEach(function (items, indexs) {\n            if (items.type == 1) {\n              item.craft.push(items);\n            } else {\n              item.material.push(items);\n            }\n          });\n        });\n        _this.consumerReservationOrder_getObj = res;\n      });\n    },\n\n    /**\n     *\n     */\n    formatDuring: function formatDuring(mss) {\n      var days = parseInt(mss / (1000 * 60 * 60 * 24));\n      var hours = parseInt(mss % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n      var minutes = parseInt(mss % (1000 * 60 * 60) / (1000 * 60));\n      var seconds = mss % (1000 * 60) / 1000;\n      return \"\".concat(days, \"\\u5929\").concat(hours, \"\\u65F6\").concat(minutes, \"\\u5206\");\n    },\n\n    /**\n    * 提示\n    */\n    warn: function warn(message, type) {\n      this.$message({\n        message: message,\n        type: type || 'warning'\n      });\n    },\n\n    /**\n     * 获取定制订单跟进记录列表\n     */\n    getWorkOrderLog_list: function getWorkOrderLog_list(number) {\n      var that = this;\n      this.request(that.api.job_order.getWorkOrderLog_list, {\n        number: number\n      }).then(function (res) {\n        that.workOrderLog_list = res.data.reverse();\n      });\n    },\n\n    /**\n     * 添加一条跟进记录\n     */\n    addHistoryWorkOrderFollowUp: function addHistoryWorkOrderFollowUp() {\n      var _this2 = this;\n\n      var that = this;\n      console.log(this.consumerReservationOrder_getObj);\n      this.request(that.api.job_order.addHistoryWorkOrderFollowUp, Object.assign(this.consumerReservationOrder_getObj, {\n        updateName: this.userInfo.loginName\n      })).then(function (res) {\n        _this2.warn('添加成功！', 'success');\n\n        _this2.getWorkOrderLog_list();\n      });\n    },\n    open: function open() {\n      var _this3 = this;\n\n      this.$prompt(\"添加一条跟进记录\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(function (_ref2) {\n        var value = _ref2.value;\n        if (!value) return;\n        _this3.consumerReservationOrder_getObj.remarks = value;\n\n        _this3.addHistoryWorkOrderFollowUp();\n      });\n    }\n  },\n  computed: _objectSpread({}, mapGetters({\n    userInfo: userTypes.GETTER_USERINFO\n  })),\n  components: {\n    codeSet: codeSet,\n    treeDept: treeDept\n  }\n};",{"version":3,"sources":["custom_order_detail.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 工单池 -->\r\n<template>\r\n  <div>\r\n    <div class=\"item-margin\">\r\n      <div class=\"booking_top\">\r\n        <!-- 工单基本信息 -->\r\n        <div class=\"work-order-info booking_info\">\r\n          <h4>\r\n            定制单号：{{ consumerReservationOrder_getObj.reservationOrderSn || '--' }}\r\n            <!-- <el-button type=\"primary\" size=\"mini\" class=\"ml-20\" disabled>量体中</el-button> -->\r\n          </h4>\r\n          <div class=\"booking_info_r\">\r\n            <span>量体</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"user\">\r\n          <div class=\"userInfo\">\r\n            <span class=\"userInfo-img\">\r\n              <img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1560636369707&di=660b9e0aa82cbb69272a92683fc8f6ce&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01786557e4a6fa0000018c1bf080ca.png\" alt=\"\">\r\n            </span>\r\n            <!-- <span class=\"userInfo-name\">客服ID </span> -->\r\n          </div>\r\n          <ul class=\"info-list\">\r\n            <li>订单号：{{ consumerReservationOrder_getObj.reservationOrderSn || '--' }}</li>\r\n            <!-- <li>状态：{{ consumerReservationOrder_getObj.status || '--' }}</li> -->\r\n            <li>客户姓名：{{ consumerReservationOrder_getObj.receiverName || '--' }}</li>\r\n            <li>客户电话：{{ consumerReservationOrder_getObj.mobile || '--' }}</li>\r\n            <li>订单地址：{{ consumerReservationOrder_getObj.provinceName }}{{ consumerReservationOrder_getObj.cityName }}{{ consumerReservationOrder_getObj.areaName }}{{ consumerReservationOrder_getObj.addressInfo }}</li>\r\n            <li>关联预约单号：{{ consumerReservationOrder_getObj.reservationOrderSn || '--' }}</li>\r\n            <li>订单金额：{{ consumerReservationOrder_getObj.amount || '--' }}</li>\r\n            <li>实付金额：{{ consumerReservationOrder_getObj.actualAmount || '--' }}</li>\r\n            <li>支付方式：{{ consumerReservationOrder_getObj.paymentCode || '--' }}</li>\r\n            <li>创建时间：{{ consumerReservationOrder_getObj.createTime | timestampToTime}}</li>\r\n            <li>所属机构：{{ consumerReservationOrder_getObj.organization || '--' }}</li>\r\n          </ul>\r\n          <div class=\"right\">\r\n            <el-button type=\"primary\" @click=\"isConsumer = !isConsumer\">查看定制信息&nbsp;<i :class=\"['el-icon-arrow-down',{'el-icon-arrow-up':isConsumer}]\"></i></el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"item-margin\"></div>\r\n    </div>\r\n    <div class=\"item-margin\">\r\n      <div class=\"item-form\">\r\n        <!-- <el-steps :active=\"active\" finish-status=\"success\">\r\n          <el-step title=\"测试数据\"></el-step>\r\n          <el-step title=\"确认预约\"></el-step>\r\n          <el-step title=\"上门量体\"></el-step>\r\n          <el-step title=\"客户评价/回访\"></el-step>\r\n          <el-step title=\"已完成\"></el-step>\r\n        </el-steps> -->\r\n        <!-- 定制 -->\r\n          <!-- <section> -->\r\n          <section v-if=\"isConsumer\">\r\n            <ul  class=\"spu\">\r\n              <li>\r\n                <div class=\"spu-border\">\r\n                  <span>定制清单</span>\r\n                  <span>图片</span>\r\n                  <span>数量</span>\r\n                  <span>销售单价</span>\r\n                  <span>备注</span>\r\n                  <span>累计金额</span>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n            <ul class=\"spu\">\r\n              <!-- 一级spu -->\r\n              <li v-for=\"(item, index) in consumerReservationOrder_getObj.consumerCustomizedGoodsVOList\" :key=\"index\">\r\n                <div>\r\n                  <!-- spu名称 -->\r\n                  <span class=\"text-left text-indent15\" @click=\"item.isChecked = !item.isChecked\">\r\n                    <i :class=\"['el-icon-arrow-down',{'el-icon-arrow-up':item.isChecked}]\"></i>&nbsp;{{ item.customizedProductName }}\r\n                  </span>\r\n                  <!-- spu图片 -->\r\n                  <span>\r\n                    <img :src=\"item.image\" alt>\r\n                  </span>\r\n                  <!-- 数量 -->\r\n                  <span>{{ item.quantity || '--' }}</span>\r\n                  <!-- 销售单价 -->\r\n                  <span>{{ item.price }}</span>\r\n                  <!-- 备注 -->\r\n                  <span>{{ item.remarks || '--' }}</span>\r\n                  <!-- 累计金额 -->\r\n                  <span>--</span>\r\n                </div>\r\n                <!-- 二级sku -->\r\n                <ul class=\"spu\" v-if=\"item.isChecked\">\r\n                  <li>\r\n                    <div>\r\n                      <span  class=\"text-left text-indent45\">原料</span>\r\n                      <span>--</span>\r\n                      <span>--</span>\r\n                      <span>--</span>\r\n                      <span>--</span>\r\n                      <span>--</span>\r\n                    </div>\r\n                    <!-- 三级原料 -->\r\n                    <ul class=\"spu\">\r\n                      <li  v-for=\"(items, indexs) in item.material\" :key=\"indexs\">\r\n                        <div>\r\n                          <span  class=\"text-left text-indent75\">{{ items.name }}</span>\r\n                          <span><img :src=\"items.image\" alt></span>\r\n                          <span>{{ items.quantity || '--' }}</span>\r\n                          <span>￥{{ items.unitPrice || '--' }}</span>\r\n                          <span>{{ items.remarks || '--' }}</span>\r\n                          <span>{{ items.usageAmount || '--' }}</span>\r\n                        </div>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                  <li>\r\n                    <div>\r\n                      <span  class=\"text-left text-indent45\">工艺 </span>\r\n                      <span>--</span>\r\n                      <span>--</span>\r\n                      <span>--</span>\r\n                      <span>--</span>\r\n                      <span>--</span>\r\n                    </div>\r\n                    <!-- 三级原料 -->\r\n                    <ul class=\"spu\">\r\n                      <li  v-for=\"(items, indexs) in item.craft\" :key=\"indexs\">\r\n                        <div>\r\n                          <span class=\"text-left text-indent75\">{{ items.name }}</span>\r\n                          <span><img :src=\"items.image\" alt></span>\r\n                          <span>{{ items.quantity || '--' }}</span>\r\n                          <span>￥{{ items.unitPrice || '--' }}</span>\r\n                          <span>{{ items.remarks || '--' }}</span>\r\n                          <span>￥{{ items.usageAmount || '--' }}</span>\r\n                        </div>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                </ul>\r\n                <!-- 二级sku -->\r\n              </li>\r\n              <!-- 一级spu -->\r\n          </ul>\r\n          </section>\r\n        <!-- 定制 -->\r\n        <!-- 工单跟进记录 -->\r\n        <div class=\"work-order-info mt-40\"  v-if=\"consumerReservationOrder_getObj.orderLogsVOList && consumerReservationOrder_getObj.orderLogsVOList.length > 0\">\r\n          <span class=\"order-course\">订单进程：</span>\r\n        </div>\r\n        <!-- 时间线 -->\r\n        <div class=\"block mt-20 order-record\"  v-if=\"consumerReservationOrder_getObj.orderLogsVOList && consumerReservationOrder_getObj.orderLogsVOList.length > 0\">\r\n          <el-timeline>\r\n            <el-timeline-item\r\n            :hide-timestamp=\"true\"\r\n            v-for=\"(activity, index) in consumerReservationOrder_getObj.orderLogsVOList\"\r\n            :key=\"index\"\r\n            :icon=\"activity.icon\"\r\n            :type=\"activity.type\"\r\n            :color=\"activity.color\"\r\n            :size=\"activity.size\"\r\n            :timestamp=\"activity.updateTime\"\r\n            >{{ activity.createTime | timestampToTime }}&nbsp;&nbsp;{{activity.logContent}}</el-timeline-item>\r\n          </el-timeline>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<!-- 工单池 -->\r\n<script>\r\n  import axios from \"axios\";\r\n  import { getToken } from \"@/utils/auth\";\r\n  import codeSet from \"@/components/codeSet\";\r\n  import treeDept from \"@/components/treeDept\";\r\n  import { filter } from \"minimatch\";\r\n  import { get } from \"http\";\r\n  import { mapGetters } from 'vuex';\r\n  import * as userTypes from \"@/types/userConfig\";\r\n  let token = getToken();\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        isConsumer:true,\r\n        consumerReservationOrder_getObj:{},\r\n        orderStatus:{\r\n            100:'量体待确认',\r\n            101:'量体安排中',\r\n            102:'等待量体中',\r\n            103:'量体中',\r\n            104:'已量体',\r\n            105:'量体订单待回访'\r\n         },\r\n         orderType:{\r\n            20001:'量体预约单',\r\n            20002:'定制订单',\r\n         },\r\n        consumerReservationOrder_getObj:{},\r\n        workOrderLog_list:{},\r\n        tableItemGetListMapObj:{},\r\n        active: 3\r\n      };\r\n    },\r\n    created() {\r\n      this.consumerReservationOrder_get(this.$route.query.orderId);\r\n      // this.getWorkOrderLog_list(this.$route.query.number);\r\n    },\r\n    methods: {\r\n      /**\r\n       * 获取定制订单详情基本信息\r\n       */\r\n      consumerReservationOrder_get(orderId) {\r\n        const that = this;\r\n\r\n        this.request(\r\n          that.api.order.consumerCustomizedOrder_get,\r\n          {\r\n            orderId\r\n          }\r\n        ).then(res => {\r\n          res.consumerCustomizedGoodsVOList.forEach((item, index) => {\r\n            item.isChecked = false;\r\n            item.craft = [];// 工艺\r\n            item.material = [];// 原料\r\n            item.productGoodsMaterials.forEach((items, indexs) => {\r\n              if(items.type == 1) {\r\n                item.craft.push(items);\r\n              }else{\r\n                item.material.push(items);\r\n              }\r\n            });\r\n          });\r\n          this.consumerReservationOrder_getObj = res;\r\n        });\r\n      },\r\n      /**\r\n       *\r\n       */\r\n      formatDuring(mss) {\r\n          var days = parseInt(mss / (1000 * 60 * 60 * 24));\r\n          var hours = parseInt((mss % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n          var minutes = parseInt((mss % (1000 * 60 * 60)) / (1000 * 60));\r\n          var seconds = (mss % (1000 * 60)) / 1000;\r\n          return `${days}天${hours}时${minutes}分`;\r\n      },\r\n      /**\r\n      * 提示\r\n      */\r\n      warn(message, type) {\r\n        this.$message({\r\n          message: message,\r\n          type: type || 'warning'\r\n        });\r\n      },\r\n      /**\r\n       * 获取定制订单跟进记录列表\r\n       */\r\n      getWorkOrderLog_list(number) {\r\n        const that = this;\r\n\r\n        this.request(\r\n          that.api.job_order.getWorkOrderLog_list,\r\n          {\r\n            number\r\n          }\r\n        ).then(res => {\r\n          that.workOrderLog_list = res.data.reverse();\r\n        });\r\n      },\r\n      /**\r\n       * 添加一条跟进记录\r\n       */\r\n      addHistoryWorkOrderFollowUp() {\r\n        const that = this;\r\n        console.log(this.consumerReservationOrder_getObj)\r\n        this.request(\r\n          that.api.job_order.addHistoryWorkOrderFollowUp,\r\n          Object.assign(this.consumerReservationOrder_getObj, {\r\n            updateName: this.userInfo.loginName\r\n          })\r\n        ).then(res => {\r\n          this.warn('添加成功！','success');\r\n          this.getWorkOrderLog_list();\r\n        });\r\n      },\r\n      open() {\r\n        this.$prompt(\"添加一条跟进记录\", \"提示\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\"\r\n        }).then(({ value }) => {\r\n          if(!value) return;\r\n          this.consumerReservationOrder_getObj.remarks = value;\r\n          this.addHistoryWorkOrderFollowUp();\r\n        })\r\n      }\r\n\r\n    },\r\n    computed: {\r\n      ...mapGetters({\r\n        userInfo: userTypes.GETTER_USERINFO\r\n      })\r\n    },\r\n    components: {\r\n      codeSet,\r\n      treeDept\r\n    }\r\n  }\r\n</script>\r\n<style  lang=\"less\" scoped>\r\n.right{\r\n    align-self:flex-end; // 垂直居下样式设置\r\n    margin: 0 30px 20px 0;\r\n  }\r\n  .order-record{\r\n    height: 700px;\r\n    overflow-y: scroll;\r\n  }\r\n  h5 {\r\n    color: #222;\r\n    margin-left: -15px;\r\n  }\r\n  .order-course{\r\n    font-size: 16px;\r\n  }\r\n  .test {\r\n    color: #9d9d9d;\r\n  }\r\n  .work-order-info {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .booking_top{\r\n    background: #fff;\r\n  }\r\n  .booking_info{\r\n    h4{\r\n      padding: 10px 0 10px 30px;\r\n    }\r\n    border-bottom: 1px solid #f5f5f5;\r\n    .booking_info_r{\r\n      width: 0px;\r\n      height: 0px;\r\n      border-color: transparent #a0cfff;\r\n      border-width: 0px 100px 50px 0px;\r\n      border-style: solid;\r\n      position: relative;\r\n      span{\r\n        width: 50px;\r\n        position: absolute;\r\n        top: 5px;\r\n        left: 60px;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n  .user{\r\n    display: flex;\r\n    // align-items:center;\r\n  }\r\n  .userInfo{\r\n    padding: 20px 30px 30px 30px;\r\n    .userInfo-img{\r\n      display: block;\r\n      width: 50px;\r\n      height: 50px;\r\n      img{\r\n        width: 100%;\r\n        height: 100%;\r\n        border-radius: 50px;\r\n      }\r\n    }\r\n  }\r\n  .examine{\r\n    align-self:flex-end;\r\n    margin: 0 30px 20px 0;\r\n  }\r\n  .info-list {\r\n    flex-grow: 1;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    padding-top: 20px;\r\n    li {\r\n      width: 25%;\r\n      padding-bottom: 15px;\r\n    }\r\n  }\r\n  .jdbcType-image{\r\n    width: 35px;\r\n    height: 35px;\r\n  }\r\n  .the-results{\r\n    width: 1400px;\r\n    display: flex;\r\n    text-align: right;\r\n    flex-wrap: wrap;\r\n    .the-results-span{\r\n      width: 350px;\r\n    }\r\n  }\r\n  .the-results-three-rows{\r\n    width: 1050px;\r\n  }\r\n  .text-indent15{\r\n    text-indent: 15px;\r\n  }\r\n  .text-indent45{\r\n    text-indent: 45px;\r\n  }\r\n    .text-indent75{\r\n    text-indent: 75px;\r\n  }\r\n  .color243{\r\n    color:rgb(243, 131, 3);\r\n  }\r\n.spu {\r\n  li {\r\n    div{\r\n      display: flex;\r\n      border-bottom: 1px solid #f0f0f0;\r\n      span {\r\n        height: 50px;\r\n        flex: 1;\r\n        line-height: 50px;\r\n        position: relative;\r\n        text-align: center;\r\n      }\r\n      .text-left{\r\n        text-align: left;\r\n      }\r\n      img {\r\n        width: 40px;\r\n        height: 40px;\r\n      }\r\n    }\r\n    .spu-border {\r\n      border-bottom: 1px solid rgb(243, 131, 3);\r\n    }\r\n  }\r\n}\r\n  .display-flex{\r\n    display: flex;\r\n  }\r\n  .subImg{\r\n    width: 35px;\r\n    height: 35px;\r\n  }\r\n  .correlationData-p{\r\n    border-bottom: 1px solid #f0f0f0;\r\n    padding-bottom: 20px;\r\n    margin-bottom: 20px;\r\n  }\r\n  h5 {\r\n    color: #222;\r\n    margin-left: -30px;\r\n  }\r\n  .s{\r\n    margin-top:10px;\r\n    display:block;\r\n    font-size:15px;\r\n  }\r\n  .test {\r\n    color: #9d9d9d;\r\n  }\r\n  .work-order-info {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .info-list {\r\n    display: flex;\r\n    width: 80%;\r\n    flex-wrap: wrap;\r\n    padding: 15px 10px 0 10px;\r\n    li {\r\n      padding-bottom: 10px;\r\n      margin-right: 30px;\r\n    }\r\n  }\r\n  .correlationData{\r\n    height: 300px;\r\n    overflow-y:scroll;\r\n    padding:0 15px 15px 15px;\r\n      h3{\r\n        font-size: 16px;\r\n        padding: 15px 0;\r\n      }\r\n      ul{\r\n        display: flex;\r\n        flex-wrap:wrap;\r\n        li{\r\n          width: 20%;\r\n          text-indent: 20px;\r\n          padding: 5px 0;\r\n        }\r\n        img{\r\n          width: 120px;\r\n          height: 150px;\r\n        }\r\n        span{\r\n          display: block;\r\n          margin-top: 10px;\r\n        }\r\n      }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views/OS/customOrder"}]}