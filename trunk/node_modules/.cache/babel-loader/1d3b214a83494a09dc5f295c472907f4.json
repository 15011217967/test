{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\scb\\order\\sell_order.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\scb\\order\\sell_order.vue","mtime":1587348360726},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import _defineProperty from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n\nvar _methods;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport PageTable from \"@/views/collocation/components/PageTable\";\nimport TimeIntervalCheck from \"@/components/TimeIntervalCheck\";\nimport axios from 'axios';\nimport { getToken } from '@/utils/auth';\nimport codeSet from '@/components/codeSet';\nimport treeDept from '@/components/treeDept';\nimport { filter } from 'minimatch';\nimport { get } from 'http';\nexport default {\n  name: \"sell_order\",\n  // 数据\n  data: function data() {\n    return {\n      fromStore: {\n        channel: null,\n        name: null\n      },\n      // 调出方列表\n      tuneOut_data: [],\n      // 调入方列表\n      tuneIn_data: [],\n      // 选中调出方信息\n      checkTuneOutUser: {},\n      // 选中调入方信息\n      checkTuneInUser: {},\n      orderStarusType: {\n        100: '待编辑',\n        101: '待审核',\n        102: '待发货',\n        103: '部分已发货',\n        104: '异常完成',\n        105: '已完成',\n        106: '已作废'\n      },\n      channelType: ['零售商'],\n      tradeWayCodeType: {\n        1: '现金',\n        2: '押款代销'\n      },\n      // 参数\n      addFormData: {\n        // 发货人\n        allotMan: '',\n        // 发货人直属机构\n        organizationId: '',\n        organizationName: '',\n        // 订单类型\n        // orderType: '0203',\n        // 发货门店\n        outStoreId: '',\n        outStoreName: '',\n        // 收货门店\n        inStoreId: '',\n        inStoreName: '',\n        // 收货人\n        receiveMan: '',\n        // 电话\n        phone: '',\n        // 省市区信息\n        provinceName: '',\n        provinceCode: '',\n        cityName: '',\n        cityCode: '',\n        areaName: '',\n        areaCode: '',\n        divisionId: '',\n        // 地址\n        addressInfo: ''\n      },\n      // 选择调出弹框\n      dialogTableVisible: false,\n      // 选择调出类型\n      allocatingType: true,\n      // 标识是否是零售门店进入\n      enterTypeFlag: false,\n      // 查询参数\n      formData: {\n        // 模糊搜索\n        searchWords: null,\n        // 订单状态\n        purchaseOrderStatus: null,\n        // 结算类型\n        tradeWayCode: null,\n        // 门店名称（采购商名称）\n        purchaseAgentId: null,\n        // 开始时间\n        startDate: null,\n        // 结束时间\n        endDate: null,\n        pageIndex: 1,\n        pageSize: 10\n      },\n      // 查询参数\n      formDataStore: {\n        // 模糊搜索\n        searchWords: null,\n        // 订单状态\n        purchaseOrderStatus: null,\n        // 结算类型\n        tradeWayCode: null,\n        // 门店名称（采购商名称）\n        purchaseAgentName: null,\n        // 开始时间\n        startDate: null,\n        // 结束时间\n        endDate: null,\n        pageIndex: 1,\n        pageSize: 10\n      },\n      // 收货差异\n      differenceList: [{\n        name: \"是\",\n        id: 1\n      }, {\n        name: \"否\",\n        id: 0\n      }],\n      // 发货门店列表\n      outStoreList: [],\n      // 收货门店列表\n      inStoreList: [],\n      // 单据状态\n      billType: this.$common.getBillType(\"transferSlip\"),\n      // 表格数据\n      tableData: {},\n      // 选中的表格数据\n      checkedTableData: [],\n      // 备注弹窗\n      remarksDialog: false,\n      remarksFormData: {\n        id: \"\",\n        operationRemarks: \"\"\n      },\n      rules: {\n        operationRemarks: [{\n          type: \"string\",\n          required: true,\n          message: \"请输入内容\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  // 组件\n  components: {\n    PageTable: PageTable,\n    TimeIntervalCheck: TimeIntervalCheck\n  },\n  created: function created() {\n    // 删除子页面的门店缓存\n    sessionStorage.removeItem(\"TRANSFER_SLIP_APP_INFO\");\n    this.info();\n  },\n  activated: function activated() {\n    this.getTableData();\n  },\n  // 初始化数据\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.getInStoreList();\n\n      _this.getOutStoreList();\n\n      _this.getTableData();\n    });\n  },\n  // 方法\n  methods: (_methods = {\n    dialogShow: function dialogShow() {\n      this.dialogTableVisible = true; // 调入、调出门店接口列表，调出传入调入ID（SCB)\n\n      this.tuneIn_fn();\n    },\n\n    /**\r\n     * 审核通过\r\n     */\n    purchaseOrder_checkToPass: function purchaseOrder_checkToPass(row) {\n      var _this2 = this;\n\n      this.$confirm('审核通过后，库房将接收订单发货通知！', '订单审核', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this2.request(_this2.api.scb.purchaseOrder_checkToPass, {\n          \"orderId\": row.id\n        }).then(function (data) {\n          _this2.getTableData();\n\n          _this2.warn('审核通过！');\n        });\n      }).catch(function () {\n        _this2.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    info: function () {\n      var _info = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var info, organization;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.request(this.api.user.get_userinfo, {}, true);\n\n              case 2:\n                info = _context.sent;\n                // 保存用户名称\n                this.addFormData.allotMan = info.name; // 获取直属机构\n\n                _context.next = 6;\n                return this.request(this.api.user.userCompany_getUserOrgByUserId, {\n                  userId: info.userId\n                }, true);\n\n              case 6:\n                organization = _context.sent;\n                this.addFormData.organizationId = organization.id;\n                this.addFormData.organizationName = organization.name;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function info() {\n        return _info.apply(this, arguments);\n      }\n\n      return info;\n    }(),\n\n    /**\r\n     * 获取客户列表\r\n     * @param { String } id 调出方id\r\n     */\n    tuneIn_fn: function tuneIn_fn() {\n      var _this3 = this;\n\n      this.request(this.api.store.storeBasic_listStoreBasic, this.fromStore).then(function (res) {\n        _this3.tuneIn_data = res;\n        _this3.checkTuneInUser = {};\n        res.data.forEach(function (item, index) {\n          item._createTime = _this3.$options.filters.timestampToTime(item.createTime);\n        });\n      });\n    },\n\n    /**\r\n     * 调入下一步\r\n     */\n    drNext: function drNext() {\n      if (JSON.stringify(this.checkTuneInUser) == '{}') {\n        this.warn('请选择渠道客户！', 'warning');\n        return;\n      }\n\n      ;\n      Object.assign(this.addFormData, {\n        outStoreId: this.checkTuneInUser.id,\n        outStoreName: this.checkTuneInUser.name,\n        // 收货门店\n        inStoreId: this.checkTuneInUser.id,\n        inStoreName: this.checkTuneInUser.name,\n        // 收货人\n        receiveMan: this.checkTuneInUser.linkman,\n        // 电话\n        phone: this.checkTuneInUser.phone,\n        // 省市区信息\n        provinceName: this.checkTuneInUser.provinceName,\n        provinceCode: this.checkTuneInUser.provinceCode,\n        cityName: this.checkTuneInUser.cityName,\n        cityCode: this.checkTuneInUser.cityCode,\n        areaName: this.checkTuneInUser.areaName,\n        areaCode: this.checkTuneInUser.areaCode,\n        divisionId: this.checkTuneInUser.divisionId,\n        // 地址\n        addressInfo: this.checkTuneInUser.addressInfo\n      });\n      console.log(this.addFormData);\n      this.dialogTableVisible = false;\n      sessionStorage.setItem('TRANSFER_SLIP_APP_INFO', JSON.stringify(this.addFormData)); // return;\n\n      var module = \"/\" + this.$route.path.split(\"/\")[1];\n      this.$router.push({\n        path: module + \"/order/sell_order_edit\"\n      });\n      this.checkTuneInUser = {};\n    },\n\n    /**\r\n     * 提示\r\n     * @param { String } message 提示文案\r\n     * @param { String } type 提示类型\r\n     */\n    warn: function warn(message, type) {\n      this.$message({\n        message: message,\n        type: type || \"success\"\n      });\n    },\n    // keepAlive 返回初始化\n    activatedInit: function activatedInit() {\n      this.getTableData();\n    },\n\n    /**\r\n       * 导出销售订单\r\n       */\n    exportExcelOrder: function exportExcelOrder() {\n      this.exportExcel({\n        title: '销售订单列表',\n        checkedTableData: this.checkedTableData.length > 0 ? this.checkedTableData : this.tableData.data,\n        tHeader: [\"订单编号\", \"订单状态\", \"结算类型\", \"收货人\", \"收货地址\", \"订单商品件数\", \"sku种类数\", \"吊牌价总额\", \"客户名称\", \"结算额\", \"创建时间\"],\n        filterVal: [\"purchaseOrderNum\", \"_purchaseOrderStatus\", \"_tradeWayCode\", \"receiveMan\", \"addressInfo\", \"productQty\", \"goodsCodeQty\", \"priceSumAmount\", \"purchaseAgentName\", \"purchaseSumAmount\", \"_createTime\"]\n      });\n    },\n\n    /**\r\n     * 导出销售商品订单\r\n     */\n    exportExcelGoodsOrder: function exportExcelGoodsOrder(row) {\n      this.exportExcel({\n        title: '销售订单商品列表',\n        checkedTableData: row.purchaseOrderProductDTOS,\n        tHeader: [\"商品款号\", \"商品货号\", \"商品图片\", \"颜色\", \"规格\", \"品牌\", \"吊牌单价\", \"结算单价\", \"销售数量\", \"实发数量\"],\n        filterVal: [\"productCode\", \"goodsCode\", \"image\", \"color\", \"size\", \"brandName\", \"price\", \"modifyPrice\", \"skuModifyQuantity\", \"actualSendQty\"]\n      });\n    },\n    //导出\n    exportExcel: function exportExcel(obj) {\n      var _this4 = this;\n\n      require.ensure([], function () {\n        var _require = require(\"@/vendor/Export2Excel\"),\n            export_json_to_excel = _require.export_json_to_excel,\n            export_table_to_excel = _require.export_table_to_excel;\n\n        var tHeader = obj.tHeader; // 上面设置Excel的表格第一行的标题\n\n        var filterVal = obj.filterVal; // 上面的index、nickName、name是tableData里对象的属性\n\n        var list = obj.checkedTableData; //把data里的tableData存到list\n\n        var data = _this4.formatJson(filterVal, list);\n\n        export_json_to_excel(tHeader, data, obj.title);\n      });\n    },\n    formatJson: function formatJson(filterVal, jsonData) {\n      return jsonData.map(function (v) {\n        return filterVal.map(function (j) {\n          return v[j];\n        });\n      });\n    },\n    tableCheckChange: function tableCheckChange(val) {\n      this.checkedTableData = val;\n    },\n    // 点击搜索\n    searchTableData: function searchTableData() {\n      this.formData.pageIndex = 1;\n      this.getTableData();\n    },\n    searchTableDataIn: function searchTableDataIn() {\n      this.tuneIn_fn();\n    },\n    initFormDataIn: function initFormDataIn() {\n      Object.assign(this.fromStore, {\n        name: null,\n        channel: null\n      });\n    },\n\n    /**\r\n     * 关闭弹框\r\n     */\n    closeDialog: function closeDialog() {\n      Object.assign(this.fromStore, {\n        name: null,\n        channel: null\n      });\n    },\n    // 获取列表数据\n    getTableData: function getTableData() {\n      var _this5 = this;\n\n      this.request(this.api.scb.purchaseOrder_list, this.formData).then(function (data) {\n        _this5.initTableData(data.data);\n\n        _this5.tableData = data;\n        data.data.forEach(function (item, idnex) {\n          Object.assign(item, item.purchaseOrderDTO);\n          item._createTime = _this5.$options.filters.timestampToTime(item.createTime);\n          item._purchaseOrderStatus = _this5.orderStarusType[item.purchaseOrderStatus];\n          item._tradeWayCode = _this5.tradeWayCodeType[item.tradeWayCode];\n        });\n      });\n    },\n    // 初始化数据 导出使用\n    initTableData: function initTableData(data) {\n      var _this6 = this;\n\n      if (data && data.length) {\n        data.forEach(function (item) {\n          item._amount = \"￥\" + item.amount;\n          item._difference = item.difference === null ? \"--\" : item.difference ? \"是\" : \"否\";\n          item._differenceQty = item.differenceQty === null ? \"--\" : item.differenceQty;\n          item._orderStatus = _this6.statusToName(item.orderStatus);\n        });\n      }\n    }\n  }, _defineProperty(_methods, \"tableCheckChange\", function tableCheckChange(val) {\n    this.checkedTableData = val;\n  }), _defineProperty(_methods, \"initFormData\", function initFormData() {\n    Object.assign(this.formData, {\n      // 模糊搜索\n      searchWords: null,\n      // 订单状态\n      purchaseOrderStatus: null,\n      // 结算类型\n      tradeWayCode: null,\n      // 门店名称（采购商名称）\n      purchaseAgentId: null,\n      // 开始时间\n      startDate: null,\n      // 结束时间\n      endDate: null,\n      pageIndex: 1,\n      pageSize: 10\n    });\n  }), _defineProperty(_methods, \"addItem\", function addItem() {\n    var module = \"/\" + this.$route.path.split(\"/\")[1];\n    this.$router.push({\n      path: module + \"/order/allotGoods_order_edit\"\n    });\n  }), _defineProperty(_methods, \"seeItem\", function seeItem(row) {\n    var module = \"/\" + this.$route.path.split(\"/\")[1];\n    this.$router.push({\n      path: module + \"/order/sell_order_detail\",\n      query: {\n        id: row.id\n      }\n    });\n  }), _defineProperty(_methods, \"editItem\", function editItem(row) {\n    var module = \"/\" + this.$route.path.split(\"/\")[1];\n    sessionStorage.removeItem(\"TRANSFER_SLIP_APP_INFO\");\n    this.$router.push({\n      path: module + \"/order/sell_order_edit\",\n      query: {\n        id: row.id,\n        outStoreId: row.purchaseAgentId,\n        orderNum: row.purchaseOrderNum\n      }\n    });\n  }), _defineProperty(_methods, \"delItem\", function delItem(row) {\n    var _this7 = this;\n\n    this.$confirm('确认作废吗？', '提示', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'warning'\n    }).then(function () {\n      _this7.request(_this7.api.scb.purchaseOrder_cancel, {\n        orderId: row.id\n      }).then(function (data) {\n        _this7.getTableData();\n\n        _this7.warn('作废成功！');\n      });\n    }).catch(function () {\n      _this7.$message({\n        type: 'info',\n        message: '已取消删除'\n      });\n    });\n  }), _defineProperty(_methods, \"finishItem\", function finishItem(row) {\n    var _this8 = this;\n\n    this.$confirm('确认要强制完成吗？', '提示', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'warning'\n    }).then(function () {\n      _this8.request(_this8.api.scb.purchaseOrder_forceTermination, {\n        orderId: row.id\n      }).then(function (data) {\n        _this8.getTableData();\n\n        _this8.warn('强制成功！');\n      });\n    }).catch(function () {\n      _this8.$message({\n        type: 'info',\n        message: '已取消删除'\n      });\n    });\n  }), _defineProperty(_methods, \"remarksItem\", function remarksItem(row) {\n    this.remarksFormData.id = row.id;\n    this.remarksFormData.operationRemarks = row.operationRemarks;\n    this.remarksDialog = true;\n  }), _defineProperty(_methods, \"remarksSub\", function remarksSub() {\n    var _this9 = this;\n\n    this.$refs.remarksForm.validate(function (valid) {\n      if (valid) {\n        _this9.request(_this9.api.order.storeAllotGoodsOrder_insertRemarks, _this9.remarksFormData).then(function (data) {\n          _this9.$notify.success({\n            title: \"成功\",\n            message: \"备注成功\"\n          });\n\n          _this9.remarksDialog = false;\n\n          _this9.getTableData();\n        });\n      } else {\n        return false;\n      }\n    });\n  }), _defineProperty(_methods, \"statusToName\", function statusToName(val) {\n    if (!val && val !== 0) return;\n    var item = this.billType.find(function (item) {\n      return item.id === val;\n    });\n\n    if (item) {\n      return item.name;\n    } else {\n      return val;\n    }\n  }), _defineProperty(_methods, \"getOutStoreList\", function () {\n    var _getOutStoreList = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2() {\n      var _this10 = this;\n\n      var info, organization;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.request(this.api.user.get_userinfo, {}, true);\n\n            case 2:\n              info = _context2.sent;\n              _context2.next = 5;\n              return this.request(this.api.user.userCompany_getUserOrgByUserId, {\n                userId: info.userId\n              }, true);\n\n            case 5:\n              organization = _context2.sent;\n              // enableAllocation: 1  (启用门店调拨 后端需要)\n              this.request(this.api.retailStore.storeBasic_listBase, {\n                organizationId: organization.id,\n                enableAllocation: 1\n              }).then(function (data) {\n                _this10.outStoreList = data.data;\n              });\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function getOutStoreList() {\n      return _getOutStoreList.apply(this, arguments);\n    }\n\n    return getOutStoreList;\n  }()), _defineProperty(_methods, \"getInStoreList\", function getInStoreList() {\n    var _this11 = this;\n\n    this.request(this.api.store.storeBasic_listStoreBasic, {}).then(function (data) {\n      _this11.inStoreList = data.data;\n    });\n  }), _methods),\n  filters: {},\n  // 计算属性\n  computed: {},\n  // 监听数据变化\n  watch: {}\n};",{"version":3,"sources":["sell_order.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\" scoped></style>\r\n<template>\r\n  <div class=\"transfer_slip_list\">\r\n    <!-- 选择调出入方信息 -->\r\n    <el-dialog width=\"1200px\" @closed=\"closeDialog\" title=\"选择渠道客户\" :visible.sync=\"dialogTableVisible\">\r\n      <el-form\r\n        class=\"item-form\"\r\n        :model=\"fromStore\"\r\n        label-width=\"90px\"\r\n        size=\"small\"\r\n        ref=\"formDataStore\"\r\n        inline>\r\n        <el-form-item label=\"客户名称：\" prop=\"inStoreId\">\r\n          <el-select\r\n            v-model=\"fromStore.name\"\r\n            placeholder=\"请选择\"\r\n            class=\"input-w\"\r\n            filterable\r\n            clearable>\r\n            <el-option\r\n              v-for=\"item in inStoreList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.name\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"渠道类型：\" prop=\"inStoreId\">\r\n            <el-select\r\n              v-model=\"fromStore.channel\"\r\n              placeholder=\"请选择\"\r\n              class=\"input-w\"\r\n              filterable\r\n              clearable>\r\n              <el-option\r\n                v-for=\"item in channelType\"\r\n                :key=\"item\"\r\n                :label=\"item\"\r\n                :value=\"item\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        <el-form-item>\r\n          <el-button @click=\"searchTableDataIn\" type=\"primary\" plain>搜索</el-button>\r\n          <el-button @click=\"initFormDataIn\" plain>重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-table :data=\"tuneIn_data.data\" max-height=\"350\" class=\"mt-10\">\r\n        <el-table-column label=\"单选\" align=\"center\" min-width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            <el-radio-group v-model=\"checkTuneInUser\">\r\n              <el-radio :disabled=\"scope.row.status == 10\" :label=\"scope.row\">&nbsp;</el-radio>\r\n            </el-radio-group>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :show-overflow-tooltip=\"true\" label=\"渠道客户名称\" align=\"center\" min-width=\"90\">\r\n          <template slot-scope=\"scope\">{{ scope.row.name }}</template>\r\n        </el-table-column>\r\n        <el-table-column :show-overflow-tooltip=\"true\" label=\"渠道类型\" align=\"center\" min-width=\"90\">\r\n          <template slot-scope=\"scope\">零售商</template>\r\n        </el-table-column>\r\n        <el-table-column :show-overflow-tooltip=\"true\" label=\"所在省/直辖市\" align=\"center\" min-width=\"90\">\r\n          <template slot-scope=\"scope\">{{ scope.row.provinceName }}</template>\r\n        </el-table-column>\r\n        <el-table-column :show-overflow-tooltip=\"true\" label=\"市/区\" align=\"center\" min-width=\"90\">\r\n          <template slot-scope=\"scope\">{{ scope.row.cityName }}</template>\r\n        </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"详细地址\" align=\"center\" min-width=\"90\">\r\n          <template slot-scope=\"scope\">{{ scope.row.addressInfo }}</template>\r\n        </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"联系人\" align=\"center\" min-width=\"90\">\r\n          <template slot-scope=\"scope\">{{ scope.row.linkman }}</template>\r\n        </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"联系电话\" align=\"center\" min-width=\"90\">\r\n          <template slot-scope=\"scope\">{{ scope.row.phone }}</template>\r\n        </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"最后一次采配时间\" align=\"center\" min-width=\"90\">\r\n          <template slot-scope=\"scope\">{{ scope.row._createTime }}</template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogTableVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"drNext\">下一步</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <div class=\"item-margin\">\r\n      <el-form\r\n        class=\"item-form\"\r\n        :model=\"formData\"\r\n        label-width=\"90px\"\r\n        size=\"small\"\r\n        ref=\"formData\"\r\n        inline\r\n      >\r\n        <!-- 模糊查询 -->\r\n        <el-form-item label=\"模糊查询：\">\r\n          <el-input\r\n            v-model=\"formData.searchWords\"\r\n            @keyup.enter.native=\"handleSearch\"\r\n            style=\"width:310px;\"\r\n            placeholder=\"订单编号/收货人/收货地址\"\r\n            clearable\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"订单状态：\" prop=\"orderStatus\">\r\n          <el-select\r\n            placeholder=\"请选择\"\r\n            class=\"input-w\"\r\n            v-model=\"formData.purchaseOrderStatus\"\r\n            filterable\r\n            clearable\r\n          >\r\n            <el-option v-for=\"(item, index) in orderStarusType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"结算类型：\" prop=\"outStoreId\">\r\n          <el-select\r\n            v-model=\"formData.tradeWayCode\"\r\n            placeholder=\"请选择\"\r\n            class=\"input-w\"\r\n            filterable\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for=\"(item, index) in tradeWayCodeType\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n              :value=\"index\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"门店名称：\" prop=\"inStoreId\">\r\n          <el-select\r\n            v-model=\"formData.purchaseAgentId\"\r\n            placeholder=\"请选择\"\r\n            class=\"input-w\"\r\n            filterable\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for=\"item in inStoreList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"创建时间：\" prop=\"startDate\">\r\n          <el-date-picker v-model=\"formData.startDate\" type=\"date\" placeholder=\"开始日期\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item prop=\"endDate\">\r\n          <el-date-picker v-model=\"formData.endDate\" type=\"date\" placeholder=\"结束日期\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button @click=\"searchTableData\" type=\"primary\" plain>搜索</el-button>\r\n          <el-button @click=\"initFormData\" plain>重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"item-margin item-cont\">\r\n      <div v-if=\"!enterTypeFlag\">\r\n        <el-button size=\"small\" type=\"primary\" @click=\"dialogShow\">新增</el-button>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"exportExcelOrder\">导出</el-button>\r\n      </div>\r\n      <page-table :form-data=\"formData\" :get-data=\"getTableData\" :table-data=\"tableData\">\r\n        <el-table\r\n          :data=\"tableData.data\"\r\n          style=\"width: 100%\"\r\n          row-key=\"id\"\r\n          @selection-change=\"tableCheckChange\"\r\n          id=\"table-data\"\r\n        >\r\n          <el-table-column type=\"selection\" width=\"45\"></el-table-column>\r\n          <el-table-column prop=\"purchaseOrderNum\" label=\"订单编号\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"_purchaseOrderStatus\" label=\"订单状态\"></el-table-column>\r\n          <el-table-column prop=\"_tradeWayCode\" label=\"结算类型\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"receiveMan\" label=\"收货人\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"addressInfo\" label=\"收货地址\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"productQty\" label=\"订单商品件数\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"goodsCodeQty\" label=\"sku种类数\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"priceSumAmount\" label=\"吊牌价总额\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"purchaseAgentName\" label=\"客户名称\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"purchaseSumAmount\" label=\"结算额\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"_createTime\" label=\"创建时间\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column label=\"操作\" width=\"260\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                  type=\"text\"\r\n                  size=\"small\"\r\n                  @click=\"purchaseOrder_checkToPass(scope.row)\"\r\n                  v-if=\"scope.row.purchaseOrderStatus == 101\"\r\n                >审核</el-button>\r\n              <el-button type=\"text\" size=\"small\" @click=\"seeItem(scope.row)\">查看</el-button>\r\n              <template v-if=\"!enterTypeFlag\">\r\n                <el-button\r\n                  type=\"text\"\r\n                  size=\"small\"\r\n                  @click=\"editItem(scope.row)\"\r\n                  v-if=\"scope.row.purchaseOrderStatus == 100 || scope.row.purchaseOrderStatus == 101\"\r\n                >编辑</el-button>\r\n                <el-button\r\n                  type=\"text\"\r\n                  size=\"small\"\r\n                  @click=\"delItem(scope.row)\"\r\n                  v-if=\"scope.row.purchaseOrderStatus < 103\"\r\n                >作废</el-button>\r\n                <el-button\r\n                  type=\"text\"\r\n                  size=\"small\"\r\n                  @click=\"finishItem(scope.row)\"\r\n                  v-if=\"scope.row.purchaseOrderStatus == 103\"\r\n                >强制完成</el-button>\r\n              </template>\r\n              <el-button type=\"text\" size=\"small\" @click=\"exportExcelGoodsOrder(scope.row)\">导出</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </page-table>\r\n    </div>\r\n    <!--备注-->\r\n    <el-dialog title=\"备注\" :visible.sync=\"remarksDialog\" width=\"40%\" :close-on-click-modal=\"false\">\r\n      <el-form\r\n        :model=\"remarksFormData\"\r\n        :rules=\"rules\"\r\n        ref=\"remarksForm\"\r\n        label-width=\"80px\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item label=\"备注：\" prop=\"reason\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            maxlength=\"120\"\r\n            show-word-limit\r\n            :rows=\"3\"\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"remarksFormData.operationRemarks\"\r\n          ></el-input>\r\n          <p>最大长度为120个字符</p>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"remarksDialog = false\" size=\"small\">取 消</el-button>\r\n        <el-button @click=\"remarksSub\" type=\"primary\" size=\"small\">确定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport PageTable from \"@/views/collocation/components/PageTable\";\r\nimport TimeIntervalCheck from \"@/components/TimeIntervalCheck\";\r\nimport axios from 'axios'\r\nimport {getToken} from '@/utils/auth'\r\nimport codeSet from '@/components/codeSet'\r\nimport treeDept from '@/components/treeDept'\r\nimport { filter } from 'minimatch';\r\nimport { get } from 'http';\r\nexport default {\r\n  name: \"sell_order\",\r\n  // 数据\r\n  data() {\r\n    return {\r\n      fromStore:{\r\n        channel:null,\r\n        name:null\r\n      },\r\n      // 调出方列表\r\n      tuneOut_data:[],\r\n      // 调入方列表\r\n      tuneIn_data:[],\r\n      // 选中调出方信息\r\n      checkTuneOutUser:{},\r\n      // 选中调入方信息\r\n      checkTuneInUser:{},\r\n      orderStarusType:{\r\n        100:'待编辑',\r\n        101:'待审核',\r\n        102:'待发货',\r\n        103:'部分已发货',\r\n        104:'异常完成',\r\n        105:'已完成',\r\n        106:'已作废'\r\n      },\r\n      channelType:['零售商'],\r\n      tradeWayCodeType:{\r\n        1:'现金',\r\n        2:'押款代销'\r\n      },\r\n      // 参数\r\n      addFormData: {\r\n        // 发货人\r\n        allotMan: '',\r\n        // 发货人直属机构\r\n        organizationId: '',\r\n        organizationName: '',\r\n        // 订单类型\r\n        // orderType: '0203',\r\n        // 发货门店\r\n        outStoreId: '',\r\n        outStoreName: '',\r\n        // 收货门店\r\n        inStoreId: '',\r\n        inStoreName: '',\r\n        // 收货人\r\n        receiveMan: '',\r\n        // 电话\r\n        phone: '',\r\n        // 省市区信息\r\n        provinceName: '',\r\n        provinceCode: '',\r\n        cityName: '',\r\n        cityCode: '',\r\n        areaName: '',\r\n        areaCode: '',\r\n        divisionId: '',\r\n        // 地址\r\n        addressInfo: ''\r\n      },\r\n      // 选择调出弹框\r\n      dialogTableVisible:false,\r\n      // 选择调出类型\r\n      allocatingType:true,\r\n      // 标识是否是零售门店进入\r\n      enterTypeFlag: false,\r\n      // 查询参数\r\n      formData: {\r\n        // 模糊搜索\r\n        searchWords:null,\r\n        // 订单状态\r\n        purchaseOrderStatus:null,\r\n        // 结算类型\r\n        tradeWayCode:null,\r\n        // 门店名称（采购商名称）\r\n        purchaseAgentId:null,\r\n        // 开始时间\r\n        startDate:null,\r\n        // 结束时间\r\n        endDate:null,\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      },\r\n      // 查询参数\r\n      formDataStore: {\r\n        // 模糊搜索\r\n        searchWords:null,\r\n        // 订单状态\r\n        purchaseOrderStatus:null,\r\n        // 结算类型\r\n        tradeWayCode:null,\r\n        // 门店名称（采购商名称）\r\n        purchaseAgentName:null,\r\n        // 开始时间\r\n        startDate:null,\r\n        // 结束时间\r\n        endDate:null,\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      },\r\n      // 收货差异\r\n      differenceList: [{ name: \"是\", id: 1 }, { name: \"否\", id: 0 }],\r\n      // 发货门店列表\r\n      outStoreList: [],\r\n      // 收货门店列表\r\n      inStoreList: [],\r\n      // 单据状态\r\n      billType: this.$common.getBillType(\"transferSlip\"),\r\n      // 表格数据\r\n      tableData: {},\r\n      // 选中的表格数据\r\n      checkedTableData: [],\r\n\r\n      // 备注弹窗\r\n      remarksDialog: false,\r\n      remarksFormData: {\r\n        id: \"\",\r\n        operationRemarks: \"\"\r\n      },\r\n      rules: {\r\n        operationRemarks: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"请输入内容\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  // 组件\r\n  components: {\r\n    PageTable,\r\n    TimeIntervalCheck\r\n  },\r\n  created() {\r\n    // 删除子页面的门店缓存\r\n    sessionStorage.removeItem(\"TRANSFER_SLIP_APP_INFO\");\r\n    this.info();\r\n  },\r\n  activated() {\r\n    this.getTableData();\r\n  },\r\n  // 初始化数据\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.getInStoreList();\r\n      this.getOutStoreList();\r\n      this.getTableData();\r\n      \r\n    });\r\n  },\r\n  // 方法\r\n  methods: {\r\n    dialogShow() {\r\n      this.dialogTableVisible = true;\r\n      // 调入、调出门店接口列表，调出传入调入ID（SCB)\r\n      this.tuneIn_fn();\r\n    },\r\n    /**\r\n     * 审核通过\r\n     */\r\n    purchaseOrder_checkToPass(row) {\r\n      this.$confirm('审核通过后，库房将接收订单发货通知！', '订单审核', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.request(\r\n          this.api.scb.purchaseOrder_checkToPass,\r\n          {\r\n            \"orderId\": row.id\r\n          }\r\n        ).then(data => {\r\n          this.getTableData();\r\n          this.warn('审核通过！');\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });          \r\n      });\r\n      \r\n    },\r\n    async info() {\r\n      // 获取userId\r\n      let info = await this.request(this.api.user.get_userinfo, {}, true);\r\n      // 保存用户名称\r\n      this.addFormData.allotMan = info.name;\r\n      // 获取直属机构\r\n      let organization = await this.request(this.api.user.userCompany_getUserOrgByUserId, {userId: info.userId}, true);\r\n      this.addFormData.organizationId =  organization.id;\r\n      this.addFormData.organizationName =  organization.name;\r\n    },\r\n    /**\r\n     * 获取客户列表\r\n     * @param { String } id 调出方id\r\n     */\r\n    tuneIn_fn() {\r\n      this.request(\r\n        this.api.store.storeBasic_listStoreBasic,\r\n        this.fromStore\r\n      ).then(res => {\r\n        this.tuneIn_data = res;\r\n        this.checkTuneInUser = {};\r\n        res.data.forEach((item, index) => {\r\n          item._createTime = this.$options.filters.timestampToTime(item.createTime);\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 调入下一步\r\n     */\r\n    drNext() {\r\n      if(JSON.stringify(this.checkTuneInUser) == '{}') {\r\n          this.warn('请选择渠道客户！', 'warning');\r\n          return; \r\n        };\r\n      Object.assign(this.addFormData, {\r\n        outStoreId: this.checkTuneInUser.id,\r\n        outStoreName: this.checkTuneInUser.name,\r\n        // 收货门店\r\n        inStoreId: this.checkTuneInUser.id,\r\n        inStoreName: this.checkTuneInUser.name,\r\n        // 收货人\r\n        receiveMan: this.checkTuneInUser.linkman,\r\n        // 电话\r\n        phone: this.checkTuneInUser.phone,\r\n        // 省市区信息\r\n        provinceName: this.checkTuneInUser.provinceName,\r\n        provinceCode: this.checkTuneInUser.provinceCode,\r\n        cityName: this.checkTuneInUser.cityName,\r\n        cityCode: this.checkTuneInUser.cityCode,\r\n        areaName: this.checkTuneInUser.areaName,\r\n        areaCode: this.checkTuneInUser.areaCode,\r\n        divisionId: this.checkTuneInUser.divisionId,\r\n        // 地址\r\n        addressInfo: this.checkTuneInUser.addressInfo\r\n      });\r\n      console.log(this.addFormData);\r\n      this.dialogTableVisible = false;\r\n      sessionStorage.setItem('TRANSFER_SLIP_APP_INFO', JSON.stringify(this.addFormData));\r\n      // return;\r\n      let module = \"/\" + this.$route.path.split(\"/\")[1];\r\n      this.$router.push({\r\n        path: module + \"/order/sell_order_edit\"\r\n      });\r\n      this.checkTuneInUser = {};\r\n    },\r\n    /**\r\n     * 提示\r\n     * @param { String } message 提示文案\r\n     * @param { String } type 提示类型\r\n     */\r\n    warn(message, type) {\r\n      this.$message({\r\n        message: message,\r\n        type: type || \"success\"\r\n      });\r\n    },\r\n    // keepAlive 返回初始化\r\n    activatedInit() {\r\n      this.getTableData();\r\n    },\r\n    /**\r\n       * 导出销售订单\r\n       */\r\n      exportExcelOrder() {\r\n        this.exportExcel({\r\n            title:'销售订单列表',\r\n            checkedTableData:this.checkedTableData.length > 0 ? this.checkedTableData : this.tableData.data,\r\n            tHeader:[\r\n              \"订单编号\",\r\n              \"订单状态\",\r\n              \"结算类型\",\r\n              \"收货人\",\r\n\r\n              \"收货地址\",\r\n              \"订单商品件数\",\r\n              \"sku种类数\",\r\n              \"吊牌价总额\",\r\n\r\n              \"客户名称\",\r\n              \"结算额\",\r\n              \"创建时间\"\r\n            ],\r\n            filterVal:[\r\n              \"purchaseOrderNum\",\r\n              \"_purchaseOrderStatus\",\r\n              \"_tradeWayCode\",\r\n              \"receiveMan\",\r\n\r\n              \"addressInfo\",\r\n              \"productQty\",\r\n              \"goodsCodeQty\",\r\n              \"priceSumAmount\",\r\n\r\n              \"purchaseAgentName\",\r\n              \"purchaseSumAmount\",\r\n              \"_createTime\"\r\n            ]\r\n        });\r\n      },\r\n      /**\r\n       * 导出销售商品订单\r\n       */\r\n      exportExcelGoodsOrder(row) {\r\n         this.exportExcel({\r\n            title:'销售订单商品列表',\r\n            checkedTableData:row.purchaseOrderProductDTOS,\r\n            tHeader:[\r\n               \"商品款号\",\r\n               \"商品货号\",\r\n               \"商品图片\",\r\n               \"颜色\",\r\n\r\n               \"规格\",\r\n               \"品牌\",\r\n               \"吊牌单价\",\r\n               \"结算单价\",\r\n\r\n               \"销售数量\",\r\n               \"实发数量\"\r\n            ],\r\n            filterVal:[\r\n               \"productCode\",\r\n               \"goodsCode\",\r\n               \"image\",\r\n               \"color\",\r\n\r\n               \"size\",\r\n               \"brandName\",\r\n               \"price\",\r\n               \"modifyPrice\",\r\n\r\n               \"skuModifyQuantity\",\r\n               \"actualSendQty\"\r\n            ]\r\n         });\r\n      },\r\n      //导出\r\n      exportExcel(obj) {\r\n         require.ensure([], () => {\r\n            let { export_json_to_excel, export_table_to_excel } = require(\"@/vendor/Export2Excel\");\r\n            let tHeader = obj.tHeader;\r\n            // 上面设置Excel的表格第一行的标题\r\n            let filterVal = obj.filterVal;\r\n            // 上面的index、nickName、name是tableData里对象的属性\r\n            let list = obj.checkedTableData; //把data里的tableData存到list\r\n            let data = this.formatJson(filterVal, list);\r\n            export_json_to_excel(tHeader, data, obj.title);\r\n         });\r\n      },\r\n      formatJson(filterVal, jsonData) {\r\n         return jsonData.map(v => filterVal.map(j => v[j]));\r\n      },\r\n      tableCheckChange(val){\r\n         this.checkedTableData = val;\r\n      },\r\n    // 点击搜索\r\n    searchTableData() {\r\n      this.formData.pageIndex = 1;\r\n      this.getTableData();\r\n    },\r\n    searchTableDataIn() {\r\n      this.tuneIn_fn();\r\n    },\r\n    initFormDataIn() {\r\n      Object.assign(this.fromStore, {\r\n        name:null,\r\n        channel:null\r\n      });\r\n    },\r\n    /**\r\n     * 关闭弹框\r\n     */\r\n    closeDialog() {\r\n      Object.assign(this.fromStore, {\r\n        name:null,\r\n        channel:null\r\n      });\r\n    },\r\n    // 获取列表数据\r\n    getTableData() {\r\n      this.request(\r\n        this.api.scb.purchaseOrder_list,\r\n        this.formData\r\n      ).then(data => {\r\n        this.initTableData(data.data);\r\n        this.tableData = data;\r\n        data.data.forEach((item, idnex) => {\r\n          Object.assign(item, item.purchaseOrderDTO);\r\n          item._createTime = this.$options.filters.timestampToTime(item.createTime);\r\n          item._purchaseOrderStatus = this.orderStarusType[item.purchaseOrderStatus]; \r\n          item._tradeWayCode = this.tradeWayCodeType[item.tradeWayCode]; \r\n        });\r\n      });\r\n    },\r\n    // 初始化数据 导出使用\r\n    initTableData(data) {\r\n      if (data && data.length) {\r\n        data.forEach(item => {\r\n          item._amount = \"￥\" + item.amount;\r\n          item._difference =\r\n            item.difference === null ? \"--\" : item.difference ? \"是\" : \"否\";\r\n          item._differenceQty =\r\n            item.differenceQty === null ? \"--\" : item.differenceQty;\r\n          item._orderStatus = this.statusToName(item.orderStatus);\r\n        });\r\n      }\r\n    },\r\n    // 获取表格选中的\r\n    tableCheckChange(val) {\r\n      this.checkedTableData = val;\r\n    },\r\n    // 初始查询条件\r\n    initFormData() {\r\n      Object.assign(this.formData, {\r\n        // 模糊搜索\r\n        searchWords:null,\r\n        // 订单状态\r\n        purchaseOrderStatus:null,\r\n        // 结算类型\r\n        tradeWayCode:null,\r\n        // 门店名称（采购商名称）\r\n        purchaseAgentId:null,\r\n        // 开始时间\r\n        startDate:null,\r\n        // 结束时间\r\n        endDate:null,\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      })\r\n    },\r\n    // 新增\r\n    addItem() {\r\n      let module = \"/\" + this.$route.path.split(\"/\")[1];\r\n      this.$router.push({\r\n        path: module + \"/order/allotGoods_order_edit\"\r\n      });\r\n    },\r\n    // 查看\r\n    seeItem(row) {\r\n      let module = \"/\" + this.$route.path.split(\"/\")[1];\r\n      this.$router.push({\r\n        path: module + \"/order/sell_order_detail\",\r\n        query: {\r\n          id: row.id\r\n        }\r\n      });\r\n    },\r\n    // 编辑\r\n    editItem(row) {\r\n      let module = \"/\" + this.$route.path.split(\"/\")[1];\r\n      sessionStorage.removeItem(\"TRANSFER_SLIP_APP_INFO\");\r\n      this.$router.push({\r\n        path: module + \"/order/sell_order_edit\",\r\n        query: {\r\n          id: row.id,\r\n          outStoreId:row.purchaseAgentId,\r\n          orderNum:row.purchaseOrderNum\r\n        }\r\n      });\r\n    },\r\n    // 作废\r\n    delItem(row) {\r\n      this.$confirm('确认作废吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.request(\r\n          this.api.scb.purchaseOrder_cancel,\r\n          {\r\n            orderId: row.id\r\n          }\r\n        ).then(data => {\r\n          this.getTableData();\r\n          this.warn('作废成功！');\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });          \r\n      });\r\n    },\r\n    // 强制完成\r\n    finishItem(row) {\r\n      this.$confirm('确认要强制完成吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.request(\r\n          this.api.scb.purchaseOrder_forceTermination,\r\n          {\r\n            orderId: row.id\r\n          }\r\n        ).then(data => {\r\n          this.getTableData();\r\n          this.warn('强制成功！');\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });          \r\n      });\r\n    },\r\n    // 备注显示\r\n    remarksItem(row) {\r\n      this.remarksFormData.id = row.id;\r\n      this.remarksFormData.operationRemarks = row.operationRemarks;\r\n      this.remarksDialog = true;\r\n    },\r\n    // 备注提交\r\n    remarksSub() {\r\n      this.$refs.remarksForm.validate(valid => {\r\n        if (valid) {\r\n          this.request(\r\n            this.api.order.storeAllotGoodsOrder_insertRemarks,\r\n            this.remarksFormData\r\n          ).then(data => {\r\n            this.$notify.success({ title: \"成功\", message: \"备注成功\" });\r\n            this.remarksDialog = false;\r\n            this.getTableData();\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 状态转name\r\n    statusToName(val) {\r\n      if (!val && val !== 0) return;\r\n      let item = this.billType.find(item => {\r\n        return item.id === val;\r\n      });\r\n      if (item) {\r\n        return item.name;\r\n      } else {\r\n        return val;\r\n      }\r\n    },\r\n    // 获取发货门店数据\r\n    async getOutStoreList() {\r\n      // 获取userId\r\n      let info = await this.request(this.api.user.get_userinfo, {}, true);\r\n      // 获取直属机构\r\n      let organization = await this.request(\r\n        this.api.user.userCompany_getUserOrgByUserId,\r\n        { userId: info.userId },\r\n        true\r\n      );\r\n      // enableAllocation: 1  (启用门店调拨 后端需要)\r\n      this.request(this.api.retailStore.storeBasic_listBase, {\r\n        organizationId: organization.id,\r\n        enableAllocation: 1\r\n      }).then(data => {\r\n        this.outStoreList = data.data;\r\n      });\r\n    },\r\n    // 获取收货门店数据\r\n    getInStoreList() {\r\n      this.request(this.api.store.storeBasic_listStoreBasic, {}).then(data => {\r\n        this.inStoreList = data.data;\r\n      });\r\n    }\r\n  },\r\n  filters: {},\r\n  // 计算属性\r\n  computed: {},\r\n  // 监听数据变化\r\n  watch: {}\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views/scb/order"}]}