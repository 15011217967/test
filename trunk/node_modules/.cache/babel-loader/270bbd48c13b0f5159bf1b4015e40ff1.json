{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\product\\version\\version_details.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\product\\version\\version_details.vue","mtime":1572415123973},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { validatVersion } from \"@/utils/validate\";\nexport default {\n  data: function data() {\n    return {\n      filtersData: {\n        description: \"\",\n        version: \"\",\n        type: \"\"\n      },\n      typeListData: [{\n        name: 'Android'\n      }, {\n        name: 'iOS'\n      }],\n      showDisabled: false,\n      editDisabled: false,\n      _type: \"\",\n      _id: \"\",\n      rules: {\n        //规则验证\n        type: [{\n          required: true,\n          message: \"请选择操作系统\",\n          trigger: \"change\"\n        }],\n        version: [{\n          required: true,\n          message: \"输入版本号\",\n          trigger: \"blur\"\n        }, {\n          validator: validatVersion,\n          trigger: \"blur\"\n        }]\n      } //分类使用\n\n    };\n  },\n  created: function created() {\n    this.getQueryparams();\n  },\n  methods: {\n    //获取上页面参数\n    getQueryparams: function getQueryparams() {\n      this._type = this.$route.query.type;\n      this._id = this.$route.query.id;\n      var itemStatus = this._type;\n\n      switch (itemStatus.toString()) {\n        case \"add\":\n          //新增\n          this.editDisabled = false;\n          this.showDisabled = false;\n          break;\n\n        case \"edit\":\n          //修改\n          this.editDisabled = true;\n          this.showDisabled = false;\n          this.getEchoDisplayData();\n          break;\n\n        case \"show\":\n          //查看\n          this.editDisabled = true;\n          this.showDisabled = true;\n          this.getEchoDisplayData();\n          break;\n      }\n    },\n    //提交\n    submitForm: function submitForm(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this.request(_this.api.version.applicationVersion_save, _this.filtersData).then(function (res) {\n            _this.$message.success(\"保存成功\");\n\n            setTimeout(function () {\n              _this.routerback();\n            }, 500);\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    //回显\n    getEchoDisplayData: function getEchoDisplayData() {\n      var _this2 = this;\n\n      this.request(this.api.version.applicationVersion_get, {\n        id: this._id\n      }).then(function (res) {\n        _this2.filtersData = res;\n      });\n    },\n    //后退\n    routerback: function routerback() {\n      this.$router.go(-1);\n    }\n  }\n};",{"version":3,"sources":["version_details.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <el-form :rules=\"rules\" label-width=\"110px\" :model=\"filtersData\" size=\"small\" ref=\"filtersForm\">\r\n      <div class=\"tlogy-item\">\r\n        <el-form-item prop=\"type\" label=\"操作系统：\">\r\n          <el-select\r\n            placeholder=\"请选择\"\r\n            class=\"input-w-2\"\r\n            :disabled=\"showDisabled\"\r\n            :value=\"filtersData.type\"\r\n            v-model=\"filtersData.type\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in typeListData\"\r\n              :key=\"item.name\"\r\n              :label=\"item.name\"\r\n              :value=\"item.name\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item prop=\"version\" label=\"版本号：\">\r\n          <el-input\r\n            :disabled=\"showDisabled\"\r\n            v-model=\"filtersData.version\"\r\n            class=\"input-w-2\"\r\n            placeholder=\"请输入版本号，如1.0.0\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"description\" label=\"版本描述：\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            class=\"input-w-2\"\r\n            autosize\r\n            :disabled=\"showDisabled\"\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"filtersData.description\"\r\n          ></el-input>\r\n        </el-form-item>\r\n         <div class=\"item-footer\">\r\n          <el-button\r\n            v-if=\"_type == 'add'\"\r\n            size=\"small\"\r\n            @click=\"submitForm('filtersForm')\"\r\n            type=\"primary\"\r\n          >确定</el-button>\r\n          <el-button\r\n            v-else-if=\"_type == 'edit'\"\r\n            size=\"small\"\r\n            @click=\"submitForm('filtersForm')\"\r\n            type=\"primary\"\r\n          >修改</el-button>\r\n          <el-button size=\"small\" @click=\"routerback('filtersForm')\">取消</el-button>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { validatVersion } from \"@/utils/validate\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      filtersData: {\r\n        description: \"\",\r\n        version: \"\",\r\n        type:\"\"\r\n      },\r\n      typeListData:[{name:'Android'},{name:'iOS'}],\r\n      showDisabled: false,\r\n      editDisabled: false,\r\n      _type: \"\",\r\n      _id: \"\",\r\n      rules: {\r\n        //规则验证\r\n        type: [\r\n          { required: true, message: \"请选择操作系统\", trigger: \"change\" }\r\n        ],\r\n        version: [{ required: true, message: \"输入版本号\", trigger: \"blur\" },\r\n            { validator: validatVersion, trigger: \"blur\" }],\r\n       \r\n      },\r\n      //分类使用\r\n    };\r\n  },\r\n  created() {\r\n    this.getQueryparams();\r\n  },\r\n  methods: {\r\n    //获取上页面参数\r\n    getQueryparams() {\r\n      this._type = this.$route.query.type;\r\n      this._id = this.$route.query.id;\r\n      let itemStatus = this._type;\r\n      switch (itemStatus.toString()) {\r\n        case \"add\": //新增\r\n          this.editDisabled = false;\r\n          this.showDisabled = false;\r\n          break;\r\n        case \"edit\": //修改\r\n          this.editDisabled = true;\r\n          this.showDisabled = false;\r\n          this.getEchoDisplayData();\r\n          break;\r\n        case \"show\": //查看\r\n          this.editDisabled = true;\r\n          this.showDisabled = true;\r\n          this.getEchoDisplayData();\r\n          break;\r\n      }\r\n    },\r\n    //提交\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.request(\r\n            this.api.version.applicationVersion_save,\r\n            this.filtersData\r\n          ).then(res => {\r\n            this.$message.success(\"保存成功\");\r\n            setTimeout(() => {\r\n              this.routerback();\r\n            }, 500);\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n\r\n    //回显\r\n    getEchoDisplayData() {\r\n      this.request(this.api.version.applicationVersion_get, {\r\n        id: this._id\r\n      }).then(res => {\r\n          this.filtersData=res;\r\n      });\r\n    },\r\n    //后退\r\n    routerback() {\r\n      this.$router.go(-1);\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.tlogy-item {\r\n  background-color: #ffffff;\r\n  margin: 10px;\r\n  padding: 10px;\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/product/version"}]}