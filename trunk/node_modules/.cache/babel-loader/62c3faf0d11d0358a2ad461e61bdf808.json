{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\market\\discount\\discount_order_add.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\market\\discount\\discount_order_add.vue","mtime":1572415124560},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      // 季节列表\n      codeItem_list_get: [],\n      // 快速创建保留门店id\n      fastCreateStoreId: null,\n      // 快速创建剔除已有门店\n      fastCreateTF: true,\n      // 是否编辑\n      isEdit: this.$route.query.isEdit,\n      // 是否快速创建\n      isFastCreate: this.$route.query.isFastCreate,\n      // 单品商品信息是否存在\n      isGoods: false,\n      // 折扣id\n      discountId: this.$route.query.discountId,\n      // 弹框\n      dialogTableVisible: false,\n      // 全部商品\n      goodsList: {},\n      // 已添加\n      goodsCheckList: {},\n      // 新建折扣方案提交对象\n      discountData: {\n        // 折扣方案类型\n        type: null,\n        // 门店名称\n        storeName: null,\n        // 门店 id\n        storeId: null,\n        // 门店 id （备份），检验已有折扣时使用；\n        _storeId: null,\n        // 预约折扣类型\n        appointmentDiscountType: null,\n        // 预约折扣额度或折扣\n        appointmentDiscountEd: null,\n        // 阶梯折扣类型\n        ladderDiscountType: null,\n        // 阶梯折扣方式\n        ladderDiscountList: [],\n        // 单品折扣类型 \n        itemDiscountType: null,\n        // 单品折扣额度或折扣\n        itemDiscountEd: null\n      },\n      // 折扣校验\n      rules: {\n        // 门店校验\n        storeId: [{\n          required: true,\n          validator: function () {\n            var _validator = _asyncToGenerator(\n            /*#__PURE__*/\n            regeneratorRuntime.mark(function _callee(rule, value, callback) {\n              var discountData, request;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      discountData = _this.discountData;\n\n                      if (!value) {\n                        callback(new Error('请选择门店！'));\n                      }\n\n                      ; // 如果查询的门店id与当前选择的门店id一致，则折扣不再做检验；\n\n                      if (!(discountData.storeId == discountData._storeId)) {\n                        _context.next = 7;\n                        break;\n                      }\n\n                      request = false;\n                      _context.next = 10;\n                      break;\n\n                    case 7:\n                      _context.next = 9;\n                      return _this.request(_this.api.market.marketingMiddleground_confirmDiscountByStoreId, {\n                        \"storeId\": discountData.storeId,\n                        \"type\": discountData.type,\n                        discount: discountData.type == 2 ? discountData.itemDiscountEd : 0,\n                        discountType: discountData.type == 2 ? discountData.itemDiscountType : 0\n                      });\n\n                    case 9:\n                      request = _context.sent;\n\n                    case 10:\n                      if (request.confirm) {\n                        callback(new Error('已有折扣方案！'));\n                      } else {\n                        callback();\n                      }\n\n                      ;\n\n                    case 12:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            }));\n\n            function validator(_x, _x2, _x3) {\n              return _validator.apply(this, arguments);\n            }\n\n            return validator;\n          }(),\n          trigger: 'blur'\n        }],\n        // 折扣类型校验\n        type: [{\n          required: true,\n          message: '请选择折扣方案类型！',\n          trigger: 'blur'\n        }],\n        // 预约折扣类型校验\n        appointmentDiscountType: [{\n          required: true,\n          message: '请选择预约折扣类型！',\n          trigger: 'blur'\n        }],\n        // 预约折扣或金额校验，首先不能为空，其次需要符合折扣金额的格式，如 3.2折；\n        appointmentDiscountEd: [{\n          required: true,\n          validator: function validator(rule, value, callback) {\n            var appointmentDiscountType = _this.discountData.appointmentDiscountType;\n            var re = /^\\d(\\.\\d?)?$/g;\n            var res = /^\\d+?$/g;\n\n            if (!value) {\n              var name = appointmentDiscountType ? '请输入折扣额度!' : '请输入减免金额!';\n              callback(new Error(name));\n            } // 预约折扣类型为1，折扣额度数值检测\n\n\n            if (appointmentDiscountType) {\n              if (!re.test(value)) {\n                callback(new Error('请输入正确的折扣额度！'));\n              } else {\n                callback();\n              } // 预约折扣类型为0，减免金额数值检测\n\n            } else {\n              if (!res.test(value)) {\n                callback(new Error('请输入正确的减免金额！'));\n              } else {\n                callback();\n              }\n            }\n          },\n          trigger: 'blur'\n        }],\n        // 阶梯折扣类型校验\n        ladderDiscountType: [{\n          required: true,\n          message: '请选择阶梯折扣类型！',\n          trigger: 'blur'\n        }],\n        // 阶梯折扣或金额校验\n        ladderDiscountList: [{\n          required: true,\n          validator: function validator(rule, arr, callback) {\n            var discountType = _this.discountData.ladderDiscountType;\n            var re = /^\\d(\\.\\d?)?$/g;\n            var res = /^\\d+?$/g;\n\n            if (!arr.length) {\n              callback(new Error('至少添加一条折扣方案！'));\n            }\n\n            ;\n            var list = []; // 将所有阶梯类型填写项添加到一个集合中，统一做判断\n\n            arr.forEach(function (item, index) {\n              list.push(item.quantity);\n              list.push(item.value);\n            });\n            var someItem = list.every(function (item, index) {\n              return item;\n            });\n\n            if (!someItem) {\n              callback(new Error('阶梯填写项不能为空！'));\n            } else {\n              // 判断满减打折，或满件打折，因为是两种规则，所有分别判断\n              if (discountType < 2) {\n                var quantityList = [];\n                var valueList = []; // 将所有阶梯类型填写项添加到一个集合中，统一做判断\n\n                arr.forEach(function (item, index) {\n                  quantityList.push(item.quantity);\n                  valueList.push(item.value);\n                });\n                var a = quantityList.every(function (item, index) {\n                  console.log(/^\\d+?$/g.test(item));\n                  return /^\\d+?$/g.test(item);\n                });\n\n                if (!a) {\n                  callback(new Error('请输入正确的折扣额度！'));\n                }\n\n                var b = valueList.every(function (item, index) {\n                  console.log(/^\\d(\\.\\d?)?$/g.test(item));\n                  return /^\\d(\\.\\d?)?$/g.test(item);\n                });\n\n                if (!b) {\n                  callback(new Error('请输入正确的折扣额度！'));\n                } // 判断满数量减额，这里只有一种规则\n\n              } else {\n                var checkItem = list.every(function (item, index) {\n                  return /^\\d+?$/g.test(item);\n                });\n\n                if (!checkItem) {\n                  callback(new Error('请输入正确的减免金额！'));\n                }\n              }\n            }\n\n            ;\n\n            if (arr.length > 1) {\n              var deWeightItemArr = [];\n              var deWeightItemValueArr = [];\n              arr.forEach(function (item, index) {\n                deWeightItemArr.push(item.quantity);\n                deWeightItemValueArr.push(item.value);\n              });\n              var nary = deWeightItemArr.sort();\n              var narys = deWeightItemValueArr.sort();\n\n              for (var i = 0; i < nary.length - 1; i++) {\n                if (nary[i] == nary[i + 1]) {\n                  callback(new Error('同一门店、同一折扣类型，不能存在相同的折扣方案！'));\n                }\n\n                ;\n              }\n\n              for (var i = 0; i < narys.length - 1; i++) {\n                if (narys[i] == narys[i + 1]) {\n                  callback(new Error('同一门店、同一折扣类型，不能存在相同的折扣方案！'));\n                }\n\n                ;\n              }\n            }\n\n            ;\n\n            if (discountType == 3) {\n              var checkItemTF = arr.every(function (item, index) {\n                return parseInt(item.quantity) >= parseInt(item.value);\n              });\n\n              if (!checkItemTF) {\n                callback(new Error('减免金额不能超过阶梯金额！'));\n              } else {\n                callback();\n              }\n            } else {\n              callback();\n            }\n          },\n          trigger: 'blur'\n        }],\n        // 单品折扣类型校验\n        itemDiscountType: [{\n          required: true,\n          message: '请选择单品折扣类型！',\n          trigger: 'blur'\n        }],\n        // 单品折扣或金额校验\n        itemDiscountEd: [{\n          required: true,\n          validator: function validator(rule, value, callback) {\n            var itemDiscountType = _this.discountData.itemDiscountType;\n            var re = /^\\d(\\.\\d?)?$/g;\n            var res = /^\\d+?$/g;\n\n            if (!value) {\n              var names = itemDiscountType ? '请输入折扣额度!' : '请输入减免金额!';\n              callback(new Error(names));\n            } // 预约折扣类型为1，折扣额度数值检测\n\n\n            if (itemDiscountType) {\n              if (!re.test(value)) {\n                callback(new Error('请输入正确的折扣额度！'));\n              } else {\n                callback();\n              } // 预约折扣类型为0，减免金额数值检测\n\n            } else {\n              if (!res.test(value)) {\n                callback(new Error('请输入正确的减免金额！'));\n              } else {\n                callback();\n              }\n            }\n          },\n          trigger: 'blur'\n        }]\n      },\n      // 检索全部商品\n      goodsFiltersData: {\n        // 当前页码\n        pageIndex: 1,\n        // 每页数量\n        pageSize: 10,\n        // 门店id\n        storeId: null,\n        // 折扣类型\n        type: null,\n        // 折扣值\n        discount: null,\n        // 品类id\n        cateIdentifier: null,\n        // 品牌id\n        brandId: null,\n        // 售价最小值\n        retailPriceGE: null,\n        // 售价最大值\n        retailPriceLE: null,\n        // 库存最小值\n        quantityLowerLimit: null,\n        // 库存最大值\n        quantityUpperLimit: null,\n        // 季节\n        seasonalStyleCode: null,\n        // 关键词\n        searchWords: null\n      },\n      // 全部品牌\n      brandOptions: [],\n      // 检索已选商品\n      goodsFiltersDataCheck: {\n        // 当前页码\n        pageIndex: 1,\n        // 每页数量\n        pageSize: 10,\n        // 折扣id\n        discountId: null,\n        // 品类id\n        cateId: null,\n        // 品类id\n        cateIdentifier: null,\n        // 品牌id\n        brandId: null,\n        // 售价最小值\n        retailPriceGE: null,\n        // 售价最大值\n        retailPriceLE: null,\n        // 库存最小值\n        quantityLowerLimit: null,\n        // 库存最大值\n        quantityUpperLimit: null,\n        // 季节\n        seasonalStyleCode: null,\n        // 关键词 \n        searchWords: null\n      },\n      // 单品折扣列表\n      itemDiscountData: {\n        data: []\n      },\n      // 门店列表\n      storeList: {},\n      // 折扣类型\n      discountType: ['预约折扣', '阶梯折扣', '单品折扣'],\n      // 预约折扣类型\n      appointmentDiscountType: ['预约减免指定金额', '预约折上折'],\n      // 预约折扣类型\n      ladderDiscountType: ['满数量打折', '满金额打折', '满数量减免指定金额', '满金额减免指定金额'],\n      // 单品折扣类型\n      itemDiscountType: ['定价促销', '单品折扣'],\n      classData: [],\n      classList: [],\n      cateArr: [],\n      cateArrs: [],\n      props: {\n        value: \"id\",\n        label: \"name\",\n        children: \"children\"\n      }\n    };\n  },\n  created: function created() {\n    var that = this;\n    this.getClassData(); // 获取商品\n\n    this.codeItem_list(); // 获取季节列表\n\n    this.getStoreList(); // 获取门店列表\n\n    this.getBrandOptions(); // 获取品牌\n\n    if (this.isEdit || this.isFastCreate) {\n      this.discountData.type = this.$route.query.type;\n\n      switch (this.$route.query.type) {\n        case 0:\n          this.marketingMiddleground_queryDiscountSetting();\n          break;\n\n        case 1:\n          this.marketingMiddleground_queryDiscountParameter();\n          break;\n\n        case 2:\n          this.marketingMiddleground_querySingleProductDiscount();\n          break;\n      }\n    }\n\n    ;\n\n    document.onkeydown = function (e) {\n      var key = window.event.keyCode;\n\n      if (key == 13) {\n        if (that.dialogTableVisible) {\n          that.handleSearch();\n        } else {\n          that.handleSearchCheck();\n        }\n      }\n    };\n  },\n  mounted: function mounted() {},\n  methods: {\n    /**\r\n     * （获取季节）\r\n     */\n    codeItem_list: function codeItem_list(item) {\n      var that = this;\n      this.request(this.api.market.codeItem_list, {\n        codeSetId: '06b11574-ef82-4ae4-a8a9-a25f903083df'\n      }, true).then(function (res) {\n        that.codeItem_list_get = res;\n      });\n    },\n\n    /**\r\n     * 获取品牌\r\n     */\n    getBrandOptions: function getBrandOptions() {\n      var _this2 = this;\n\n      this.request(this.api.product.productBrand_list, {}, true).then(function (data) {\n        var _data = data.data;\n        _this2.brandOptions = _data;\n      });\n    },\n\n    /**\r\n     * 获取分类\r\n     */\n    getClassData: function getClassData() {\n      var _this3 = this;\n\n      //分类类型（1：标准分类，2：定制分类，3：原料分类或者称为属性分类）\n      this.$common.getClassSelect(this, 1).then(function (res) {\n        _this3.classData = res.ztree;\n        _this3.classList = res.list;\n      });\n    },\n\n    /**\r\n     * \r\n     */\n    cascaderGet: function cascaderGet(e) {\n      var cateId = JSON.parse(JSON.stringify(e)).pop();\n      var obj = this.classList.find(function (item) {\n        return item.id == cateId;\n      });\n      this.goodsFiltersData.cateIdentifier = obj.identifier;\n    },\n\n    /**\r\n     * \r\n     */\n    cascaderGets: function cascaderGets(e) {\n      var cateId = JSON.parse(JSON.stringify(e)).pop();\n      var obj = this.classList.find(function (item) {\n        return item.id == cateId;\n      });\n      this.goodsFiltersDataCheck.cateIdentifier = obj.identifier;\n    },\n\n    /**\r\n     * 删除某个阶梯\r\n     */\n    deleteLadderItem: function deleteLadderItem(index) {\n      this.discountData.ladderDiscountList.splice(index, 1);\n    },\n\n    /**\r\n     * （单品全部添加）\r\n     */\n    marketingMiddleground_addPageSingleProduct: function marketingMiddleground_addPageSingleProduct() {\n      var _this4 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      var data = {\n        \"discountId\": this.discountId,\n        \"goodsCodeList\": [],\n        \"storeId\": discountData.storeId\n      };\n      this.goodsList.data.forEach(function (item, index) {\n        if (item.currentDiscount === null) {\n          data.goodsCodeList.push(item.code);\n        }\n      });\n      this.request(this.api.market.marketingMiddleground_addPageSingleProduct, data, true).then(function (res) {\n        _this4.warn('本页全部商品添加成功！');\n\n        that.marketingMiddleground_listProduct();\n        that.marketingMiddleground_listSingleProduct();\n      });\n    },\n\n    /**\r\n     * （单品添加）\r\n     */\n    marketingMiddleground_addStatelessSingleProduct: function marketingMiddleground_addStatelessSingleProduct(item) {\n      var _this5 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      this.request(this.api.market.marketingMiddleground_addStatelessSingleProduct, {\n        discountId: this.discountId,\n        goodsCode: item.code\n      }, true).then(function (res) {\n        _this5.warn('商品添加成功！');\n\n        that.marketingMiddleground_listProduct();\n        that.marketingMiddleground_listSingleProduct();\n      });\n    },\n\n    /**\r\n     * （单品从列表内剔除）\r\n     */\n    marketingMiddleground_removeInSingleProduct: function marketingMiddleground_removeInSingleProduct(item) {\n      var _this6 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      this.request(this.api.market.marketingMiddleground_removeInSingleProduct, {\n        discountId: this.discountId,\n        goodsCode: item.code\n      }, true).then(function (res) {\n        _this6.warn('剔除成功！');\n\n        that.marketingMiddleground_listProduct();\n        that.marketingMiddleground_listSingleProduct();\n      });\n    },\n\n    /**\r\n     * （单品切换到当前折扣）\r\n     */\n    marketingMiddleground_addOtherInSingleProduct: function marketingMiddleground_addOtherInSingleProduct(item) {\n      var _this7 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      this.request(this.api.market.marketingMiddleground_addOtherInSingleProduct, {\n        sourceDiscountId: item.sourceDisocuntId,\n        goodsCode: item.code,\n        targetDiscountId: this.discountId\n      }, true).then(function (res) {\n        _this7.warn('已切换到当前折扣！');\n\n        that.marketingMiddleground_listProduct();\n        that.marketingMiddleground_listSingleProduct();\n      });\n    },\n\n    /**\r\n     * （已选商品）\r\n     */\n    marketingMiddleground_listSingleProduct: function marketingMiddleground_listSingleProduct() {\n      var that = this;\n      var discountData = this.discountData;\n      Object.assign(this.goodsFiltersDataCheck, {\n        storeId: discountData.storeId,\n        discountId: this.discountId\n      });\n      this.request(this.api.market.marketingMiddleground_listSingleProduct, this.goodsFiltersDataCheck, true).then(function (res) {\n        that.goodsCheckList = res;\n      });\n    },\n\n    /**\r\n     * （全部商品）\r\n     */\n    marketingMiddleground_listProduct: function marketingMiddleground_listProduct() {\n      var that = this;\n      var discountData = this.discountData;\n      Object.assign(this.goodsFiltersData, {\n        storeId: discountData.storeId,\n        type: discountData.itemDiscountType,\n        discount: discountData.itemDiscountEd\n      });\n      this.request(this.api.market.marketingMiddleground_listProduct, this.goodsFiltersData, true).then(function (res) {\n        that.goodsList = res;\n      });\n    },\n\n    /**\r\n     * （query）查询预约折扣方案\r\n     */\n    marketingMiddleground_queryDiscountSetting: function marketingMiddleground_queryDiscountSetting() {\n      var _this8 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      this.request(this.api.market.marketingMiddleground_queryDiscountSetting, {\n        id: this.discountId\n      }, true).then(function (res) {\n        if (that.isFastCreate) {\n          _this8.fastCreateStoreId = res.storeId;\n          res.storeId = null;\n          res.storeName = null;\n        }\n\n        ;\n        Object.assign(that.discountData, {\n          storeName: res.storeName,\n          // 门店名称\n          storeId: res.storeId,\n          // 门店 id\n          _storeId: res.storeId,\n          // 门店 id （备份），检验已有折扣时使用；\n          appointmentDiscountType: res.type,\n          // 预约折扣类型\n          appointmentDiscountEd: res.value // 预约折扣额度\n\n        });\n      });\n    },\n\n    /**\r\n     * （query）查询阶梯折扣方案\r\n     */\n    marketingMiddleground_queryDiscountParameter: function marketingMiddleground_queryDiscountParameter() {\n      var _this9 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      this.request(this.api.market.marketingMiddleground_queryDiscountParameter, {\n        id: this.discountId\n      }, true).then(function (res) {\n        var ladderDiscountType = null;\n        var otherDiscount = res.otherDiscount && res.otherDiscount[0];\n\n        if (otherDiscount.discountType === 0 && otherDiscount.type === 0) {\n          ladderDiscountType = 3;\n        } else if (otherDiscount.discountType === 0 && otherDiscount.type === 1) {\n          ladderDiscountType = 1;\n        } else if (otherDiscount.discountType === 1 && otherDiscount.type === 0) {\n          ladderDiscountType = 2;\n        } else if (otherDiscount.discountType === 1 && otherDiscount.type === 1) {\n          ladderDiscountType = 0;\n        }\n\n        ;\n\n        if (that.isFastCreate) {\n          _this9.fastCreateStoreId = res.storeId;\n          res.storeId = null;\n          res.storeName = null;\n        }\n\n        ;\n        Object.assign(that.discountData, {\n          storeName: res.storeName,\n          // 门店名称\n          storeId: res.storeId,\n          // 门店 id\n          _storeId: res.storeId,\n          // 门店 id （备份），检验已有折扣时使用；\n          ladderDiscountType: ladderDiscountType,\n          // 阶梯折扣类型\n          ladderDiscountList: res.otherDiscount // 预约折扣方式\n\n        });\n      });\n    },\n\n    /**\r\n     * （query）查询单品折扣方案\r\n     */\n    marketingMiddleground_querySingleProductDiscount: function marketingMiddleground_querySingleProductDiscount() {\n      var _this10 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      this.request(this.api.market.marketingMiddleground_querySingleProductDiscount, {\n        id: this.discountId\n      }, true).then(function (res) {\n        if (that.isFastCreate) {\n          _this10.fastCreateStoreId = res.storeId;\n          res.storeId = null;\n          res.storeName = null;\n        }\n\n        ;\n        Object.assign(that.discountData, {\n          storeName: res.storeName,\n          // 门店名称\n          storeId: res.storeId,\n          // 门店 id\n          _storeId: res.storeId,\n          // 门店 id （备份），检验已有折扣时使用；\n          itemDiscountType: res.type,\n          // 预约折扣类型\n          itemDiscountEd: res.discount // 预约折扣额度\n\n        }); // 快速创建不展示商品\n\n        if (that.isFastCreate) return;\n        that.isGoods = true;\n        that.marketingMiddleground_listSingleProduct(); // 查询已添加商品\n\n        that.marketingMiddleground_listProduct(); // 查询全部商品\n      });\n    },\n\n    /**\r\n     * 新建或更新（预约）折扣方案\r\n     */\n    createAppointmentDiscount: function createAppointmentDiscount() {\n      var _this11 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      var url = this.isEdit ? this.api.market.marketingMiddleground_updateDiscountSetting // 更新预约折扣\n      : this.api.market.marketingMiddleground_createDiscountSetting; // 新建预约折扣\n\n      this.request(url, {\n        \"storeId\": discountData.storeId,\n        // 门店id\n        \"storeName\": discountData.storeName,\n        // 门店名称\n        \"type\": discountData.appointmentDiscountType,\n        // 0：满，1：打折。\n        \"value\": discountData.appointmentDiscountEd,\n        // value\n        \"id\": this.discountId\n      }, true).then(function (res) {\n        if (_this11.discountId) {\n          _this11.warn('更新成功！');\n        } else {\n          _this11.warn('创建成功！');\n        }\n\n        ;\n\n        _this11.href('market/discount/discount_manage_list');\n      });\n    },\n\n    /**\r\n     * 新建或更新（阶梯）折扣方案\r\n     */\n    createLadderDiscount: function createLadderDiscount() {\n      var _this12 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      var url = this.isEdit ? this.api.market.marketingMiddleground_updateDiscountParameterS // 更新阶梯折扣\n      : this.api.market.marketingMiddleground_createDiscountParameter; // 新建阶梯折扣\n\n      var data = {\n        \"storeDiscountParameterVOS\": discountData.ladderDiscountList,\n        \"storeId\": discountData.storeId,\n        \"storeName\": discountData.storeName,\n        \"id\": this.discountId\n      }; // 请求\n\n      this.request(url, data, true).then(function (res) {\n        if (_this12.discountId) {\n          _this12.warn('更新成功！');\n        } else {\n          _this12.warn('创建成功！');\n        }\n\n        ;\n\n        _this12.href('market/discount/discount_manage_list');\n      });\n    },\n\n    /**\r\n     * 新建或更新（单品）折扣方案\r\n     */\n    createItemDiscount: function createItemDiscount() {\n      var _this13 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      var url = this.isEdit ? this.api.market.marketingMiddleground_updateSingleProductDiscount // 更新单品折扣\n      : this.api.market.marketingMiddleground_createSingleProductDiscount; // 新建单品折扣\n\n      var data = {\n        \"createWayType\": this.isFastCreate ? 1 : 0,\n        // 区分营销中台-正常创建：0，还是快速创建：1\n        \"discount\": discountData.itemDiscountEd,\n        // 折扣 ?  \n        \"platformType\": 1,\n        // 平台类型（0：APP，1：中台）\n        \"storeId\": discountData.storeId,\n        \"storeName\": discountData.storeName,\n        \"type\": discountData.itemDiscountType,\n        // 减金额打折类型(0:满减，1:打折)\n        \"sourceId\": this.discountId,\n        // 营销中台-快速创建-源门店单品折扣ID ?\n        \"id\": this.discountId\n      };\n      this.request(url, data, true).then(function (res) {\n        if (that.isEdit) {\n          that.warn('更新成功！');\n          that.marketingMiddleground_listProduct();\n        } else {\n          that.warn('创建成功！');\n          _this13.discountId = res.id;\n          that.isGoods = true;\n          that.isEdit = true;\n          that.marketingMiddleground_listProduct();\n          that.marketingMiddleground_listSingleProduct();\n        }\n\n        ;\n      });\n    },\n\n    /**\r\n     * 改变阶梯方案\r\n     */\n    changeLadderDiscountType: function changeLadderDiscountType() {\n      this.discountData.ladderDiscountList = [];\n    },\n\n    /**\r\n     * 新增阶梯方案\r\n     */\n    createLadder: function createLadder() {\n      var discountData = this.discountData;\n      var ladderDiscountType = discountData.ladderDiscountType; // 设置完阶梯折扣方案，才能添加阶梯\n\n      if (ladderDiscountType === null) {\n        this.warn('请先选择阶梯折扣类型！', 'warning');\n        return;\n      }\n\n      ; // 添加\n\n      discountData.ladderDiscountList.push({\n        \"discountType\": ladderDiscountType == 0 || ladderDiscountType == 2 ? 1 : 0,\n        // 折扣类型（0，满金额减免，1，满数量减免）\n        \"quantity\": null,\n        \"type\": ladderDiscountType == 0 || ladderDiscountType == 1 ? 1 : 0,\n        // 判断满减还是打折类型（0:满减，1:打折）\n        \"value\": null,\n        \"id\": this.discountId && this.discountId\n      });\n    },\n\n    /**\r\n     * 选择适用门店时\r\n     */\n    changeStore: function changeStore(id) {\n      var item = this.storeList.data.find(function (v, i) {\n        return id == v.id;\n      });\n      this.discountData.storeName = item.name;\n      console.log(item.name);\n    },\n\n    /**\r\n     * 门店下拉框下拉或隐藏时\r\n     */\n    visibleChange: function visibleChange() {\n      var _this14 = this;\n\n      if (this.fastCreateTF) {\n        if (this.isFastCreate) {\n          var index = this.storeList.data.findIndex(function (v, i) {\n            return _this14.fastCreateStoreId == v.id;\n          });\n          this.storeList.data.splice(index, 1);\n          this.fastCreateTF = false;\n        }\n      }\n    },\n\n    /**\r\n     * 新建或更新折扣方案\r\n     */\n    saveDiscount: function saveDiscount() {\n      var _this15 = this;\n\n      var that = this;\n      var discountData = this.discountData;\n      this.$refs.formName.validate(function (v) {\n        if (v) {\n          // 把对象中所有的不规范折扣数值清除，如：3. 3.22，=> 处理成3 3.2；\n          // /(\\d\\.\\D)|(\\d\\.\\d{2})/g \n          _this15.discountData = JSON.parse(JSON.stringify(discountData).replace(/(\\d\\.\\D)|(\\d\\.\\d{2})/g, function (value) {\n            value = value.replace(/(\\.\\D)/, '\"');\n            value = value.replace(/(\\d$)/, '');\n            return value;\n          }));\n          console.log(_this15.discountData); // return;\n\n          switch (discountData.type) {\n            // 新建或更新预约折扣\n            case 0:\n              _this15.createAppointmentDiscount();\n\n              break;\n            // 新建或更新阶梯折扣\n\n            case 1:\n              _this15.createLadderDiscount();\n\n              break;\n            // 新建或更新单品折扣\n\n            case 2:\n              _this15.createItemDiscount();\n\n              break;\n          }\n        } else {\n          var type = _this15.discountData.type;\n          var discountName = '';\n\n          switch (type) {\n            case 0:\n              discountName = '预约折扣';\n              break;\n\n            case 1:\n              discountName = '阶梯折扣';\n              break;\n\n            case 2:\n              discountName = '单品折扣';\n              break;\n          }\n\n          ; // this.warn(`新建${discountName}信息未填写完整，请填写完整后重试！`,'warning');\n\n          return;\n        }\n      });\n    },\n\n    /**\r\n     * 查询门店列表\r\n     */\n    getStoreList: function getStoreList() {\n      var that = this;\n      this.request(that.api.store.storeBasic_list, {\n        pricingPower: 0\n      }, true).then(function (res) {\n        that.storeList = res;\n      });\n    },\n\n    /**\r\n     * 提示\r\n     * @param { String } message 提示文案\r\n     * @param { String } type 提示类型\r\n     */\n    warn: function warn(message, type) {\n      this.$message({\n        message: message,\n        type: type || 'success'\n      });\n    },\n\n    /**\r\n     * 跳转\r\n     * @param { String } routeName 路由跳转名字\r\n     */\n    href: function href(routeName) {\n      this.$router.push({\n        path: \"/\".concat(routeName)\n      });\n    },\n\n    /**\r\n      * 模糊搜索\r\n      */\n    handleSearch: function handleSearch() {\n      this.goodsFiltersData.pageIndex = 1;\n      this.goodsFiltersData.searchWords = this.goodsFiltersData.searchWords && this.goodsFiltersData.searchWords.replace(/(^\\s)|(\\s$)/g, '');\n      this.marketingMiddleground_listProduct();\n    },\n\n    /**\r\n    * 模糊搜索\r\n    */\n    handleSearchCheck: function handleSearchCheck() {\n      this.goodsFiltersDataCheck.pageIndex = 1;\n      this.goodsFiltersDataCheck.searchWords = this.goodsFiltersDataCheck.searchWords && this.goodsFiltersDataCheck.searchWords.replace(/(^\\s)|(\\s$)/g, '');\n      this.marketingMiddleground_listSingleProduct();\n    },\n\n    /**\r\n     * 搜索重置\r\n     */\n    handleResetFilters: function handleResetFilters() {\n      Object.assign(this.goodsFiltersData, {\n        pageIndex: 1,\n        // 当前页码\n        pageSize: 10,\n        // 每页数量\n        storeId: null,\n        type: null,\n        discount: null,\n        cateIdentifier: null,\n        // 品类id\n        brandId: null,\n        // 品牌id\n        retailPriceGE: null,\n        // 售价最小值\n        retailPriceLE: null,\n        // 售价最大值\n        quantityLowerLimit: null,\n        // 库存最小值\n        quantityUpperLimit: null,\n        // 库存最大值\n        seasonalStyleCode: null,\n        // 季节\n        searchWords: null // 关键词\n\n      });\n      this.cateArr = [];\n    },\n\n    /**\r\n     * 点击页数\r\n     * @param { Number } pageIndex 当前页\r\n     */\n    handleCurrentChange: function handleCurrentChange(pageIndex) {\n      this.goodsFiltersData.pageIndex = pageIndex;\n\n      if (!this.discountData.itemDiscountEd) {\n        this.warn('请填写折扣额度或金额！', 'warning');\n        return;\n      }\n\n      ;\n      this.marketingMiddleground_listProduct();\n    },\n\n    /**\r\n     *  选择每页多少条数\r\n     *  @param { Number } pageSize 每页条数\r\n     */\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.goodsFiltersData.pageSize = pageSize;\n\n      if (!this.discountData.itemDiscountEd) {\n        this.warn('请填写折扣额度或金额！', 'warning');\n        return;\n      }\n\n      ;\n      this.marketingMiddleground_listProduct();\n    },\n\n    /**\r\n     * 搜索重置\r\n     */\n    handleResetFiltersCheck: function handleResetFiltersCheck() {\n      Object.assign(this.goodsFiltersDataCheck, {\n        // 当前页码\n        pageIndex: 1,\n        // 每页数量\n        pageSize: 10,\n        // 折扣id\n        discountId: null,\n        // 品类id\n        cateId: null,\n        // 品类id\n        cateIdentifier: null,\n        // 品牌id\n        brandId: null,\n        // 售价最小值\n        retailPriceGE: null,\n        // 售价最大值\n        retailPriceLE: null,\n        // 库存最小值\n        quantityLowerLimit: null,\n        // 库存最大值\n        quantityUpperLimit: null,\n        // 季节\n        seasonalStyleCode: null,\n        // 关键词 \n        searchWords: null\n      });\n      this.cateArrs = [];\n    },\n\n    /**\r\n     * 点击页数\r\n     * @param { Number } pageIndex 当前页\r\n     */\n    handleCurrentChangeCheck: function handleCurrentChangeCheck(pageIndex) {\n      this.goodsFiltersDataCheck.pageIndex = pageIndex;\n      this.marketingMiddleground_listSingleProduct();\n    },\n\n    /**\r\n     *  选择每页多少条数\r\n     *  @param { Number } pageSize 每页条数\r\n     */\n    handleSizeChangeCheck: function handleSizeChangeCheck(pageSize) {\n      this.goodsFiltersDataCheck.pageSize = pageSize;\n      this.marketingMiddleground_listSingleProduct();\n    }\n  },\n  components: {}\n};",{"version":3,"sources":["discount_order_add.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n   <div>\r\n      <el-dialog title=\"选择商品\" :visible.sync=\"dialogTableVisible\">\r\n        <div class=\"box\">\r\n          <el-form\r\n            class=\"item-form\"\r\n            size=\"small\"\r\n            :inline=\"true\"\r\n            :model=\"goodsFiltersData\">\r\n            <!-- 模糊查询 -->\r\n            <el-form-item prop=\"cateIdentifier\" clearable label=\"品类：\">\r\n              <el-cascader\r\n                class=\"input-w\"\r\n                :options=\"classData\"\r\n                v-model=\"cateArr\"\r\n                :value=\"cateArr\"\r\n                @change=\"cascaderGet\"\r\n                :show-all-levels=\"false\"\r\n                :props=\"props\"\r\n                change-on-select\r\n              ></el-cascader>\r\n            </el-form-item>\r\n            <el-form-item label=\"品牌：\">\r\n              <el-select class=\"input-w\" filterable clearable placeholder=\"请选择\" v-model=\"goodsFiltersData.brandId\">\r\n                <el-option\r\n                  v-for=\"item in brandOptions\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.id\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"售价：\">\r\n              <el-input placeholder=\"请输入售价最小值\" clearable  v-model.number=\"goodsFiltersData.retailPriceGE\" class=\"el-input-width155\"></el-input>\r\n              <el-input placeholder=\"请输入售价最大值\" clearable  v-model.number=\"goodsFiltersData.retailPriceLE\" class=\"el-input-width155 ml-10\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"季节：\">\r\n              <el-select v-model=\"goodsFiltersData.seasonalStyleCode\" clearable placeholder=\"请选择\">\r\n                <el-option v-for=\"(item, index) in codeItem_list_get.data\" :key=\"index\" :label=\"item.name\" :value=\"item.code\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <br/>\r\n            <el-form-item label=\"店内库存：\">\r\n              <el-input placeholder=\"请输入库存最小值\" clearable  v-model=\"goodsFiltersData.quantityLowerLimit\" class=\"el-input-width155\"></el-input>\r\n              <el-input placeholder=\"请输入库存最大值\" clearable  v-model=\"goodsFiltersData.quantityUpperLimit\" class=\"el-input-width155 ml-10\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"关键词：\">\r\n              <el-input placeholder=\"请输入关键词，如：货号、款号、商品名称\" clearable  v-model=\"goodsFiltersData.searchWords\" class=\"el-input-width355\"></el-input>\r\n            </el-form-item>\r\n            <!-- 搜索，重置 -->\r\n            <el-form-item>\r\n              <el-button size=\"small\" @click=\"handleSearch\" type=\"primary\" plain>搜索</el-button>\r\n              <el-button size=\"small\" @click=\"handleResetFilters\">重置</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <div class=\"box\">\r\n          <!-- 全部商品 -->\r\n          <div class=\"item-table\">\r\n            <el-button size=\"small\" type=\"primary\" class=\"ml-20 mt-24\" @click=\"marketingMiddleground_addPageSingleProduct\">本页全部添加</el-button>\r\n            <el-table\r\n                class=\"mt-20\"\r\n              :data=\"goodsList.data\"  \r\n              stripe\r\n              empty-text=\"暂无数据\"\r\n              header-align=\"center\"\r\n              header-row-class-name=\"item-table-header\"\r\n              :highlight-current-row=\"true\">\r\n              <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品款号\" min-width=\"100\">\r\n                <template  slot-scope=\"scope\">{{ scope.row.productCode|| '--' }}</template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品货号\" min-width=\"150\">\r\n                <template  slot-scope=\"scope\">{{ scope.row.code || '--' }}</template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"品牌\" min-width=\"100\">\r\n                <template  slot-scope=\"scope\">{{ scope.row.productBrandName || '--' }}</template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"品类\" min-width=\"100\">\r\n                <template  slot-scope=\"scope\">{{ scope.row.fullCateName || '--' }}</template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品名称\" min-width=\"100\">\r\n                <template  slot-scope=\"scope\">{{ scope.row.name || '--' }}</template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品图片\" min-width=\"100\">\r\n                <template  slot-scope=\"scope\"><img class=\"discountImg\" :src=\"scope.row.image\" alt=\"\"></template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"店内库存\" min-width=\"100\">\r\n                <template  slot-scope=\"scope\">{{ scope.row.stock === null ? '门店没有该商品' : scope.row.stock }}</template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"售价\" min-width=\"100\">\r\n                <template  slot-scope=\"scope\">{{ scope.row.retailPrice || '--'  }}</template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"当前折扣\" min-width=\"100\">\r\n                <template  slot-scope=\"scope\">{{ scope.row.discountStr || '--' }}</template>\r\n              </el-table-column>\r\n              <!-- 操作 -->\r\n              <el-table-column\r\n                  fixed=\"right\"\r\n                  label-class-name=\"text-center\"\r\n                  class-name=\"text-center\"\r\n                  align=\"center\"\r\n                  label=\"操作\"\r\n                  width=\"180\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button type=\"text\" v-if=\"scope.row.currentDiscount === null\" size=\"small\" @click=\"marketingMiddleground_addStatelessSingleProduct(scope.row)\">添加</el-button>\r\n                    <el-button type=\"text\" v-if=\"scope.row.currentDiscount === 0\" size=\"small\" @click=\"marketingMiddleground_addOtherInSingleProduct(scope.row)\">切换到当前折扣</el-button>\r\n                    <el-button type=\"text\" v-if=\"scope.row.currentDiscount === 1\" size=\"small\" @click=\"marketingMiddleground_removeInSingleProduct(scope.row)\">从列表内剔除</el-button>\r\n                  </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <div class=\"pagination mt-10 mb-20\">\r\n              <!-- 分页 -->\r\n              <el-pagination\r\n                  class=\"mr-20\"\r\n                  @size-change=\"handleSizeChange\"\r\n                  @current-change=\"handleCurrentChange\"\r\n                  :current-page=\"goodsFiltersData.pageIndex\"\r\n                  :page-sizes=\"[10,20,30,40,50]\"\r\n                  :page-size=\"goodsFiltersData.pageSize\"\r\n                  layout=\"total, sizes, prev, pager, next, jumper\"\r\n                  :total=\"goodsList.totalCount\"\r\n              ></el-pagination>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-dialog>\r\n      <el-form\r\n        :model=\"discountData\"\r\n        label-width=\"150px\"\r\n        class=\"form-label\"\r\n        :rules=\"rules\"\r\n        ref=\"formName\">\r\n        <!-- 1.折扣类型选择 -->\r\n        <div class=\"box\">\r\n          <el-form-item label=\"适用门店：\" prop=\"storeId\">\r\n            <el-select \r\n              clearable \r\n              filterable \r\n              v-model=\"discountData.storeId\" \r\n              @focus=\"visibleChange\"\r\n              :disabled=\"isEdit ? isEdit : false\" \r\n              @change=\"changeStore\" \r\n              class=\"el-input-short\">\r\n              <el-option v-for=\"(item, index) in storeList.data\" :key=\"index\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"折扣方案类型：\" prop=\"type\">\r\n            <el-select v-model=\"discountData.type\" :disabled=\"isEdit ? isEdit : false\" class=\"el-input-short\">\r\n              <el-option v-for=\"(item, index) in discountType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </div>\r\n        <!-- 2.折扣内容配置 -->\r\n        <template>\r\n          <!-- （预约）折扣 -->\r\n          <div class=\"box\" v-if=\"discountData.type === 0\">\r\n            <el-form-item label=\"预约折扣类型：\" prop=\"appointmentDiscountType\">\r\n              <el-select \r\n                v-model=\"discountData.appointmentDiscountType\" \r\n                class=\"el-input-short\" \r\n                @change=\"discountData.appointmentDiscountEd = null\"\r\n                placeholder=\"请选择预约折扣类型\">\r\n                <el-option v-for=\"(item, index) in appointmentDiscountType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"减免金额：\" v-show=\"discountData.appointmentDiscountType !== null && discountData.appointmentDiscountType === 0\" prop=\"appointmentDiscountEd\">\r\n              <el-input v-enter-number v-model=\"discountData.appointmentDiscountEd\"  placeholder=\"请输入金额，如50\" class=\"el-input-width155\"></el-input>&nbsp;元\r\n            </el-form-item>\r\n            <el-form-item label=\"折扣额度：\" v-show=\"discountData.appointmentDiscountType !== null && discountData.appointmentDiscountType === 1\" prop=\"appointmentDiscountEd\">\r\n              <el-input  v-model=\"discountData.appointmentDiscountEd\" v-discount  placeholder=\"请输入折扣，如3.5\" class=\"el-input-width155\"></el-input>&nbsp;折\r\n            </el-form-item>\r\n            <el-form-item label=\"\" prop=\"\" class=\"mt-74\">\r\n              <el-button type=\"primary\" @click=\"saveDiscount\">保存</el-button>\r\n              <el-button @click=\"href('market/discount/discount_manage_list')\">取消</el-button>\r\n            </el-form-item>\r\n          </div>\r\n          <!-- （阶梯）折扣 -->\r\n          <div class=\"box\" v-if=\"discountData.type === 1\">\r\n            <el-form-item label=\"阶梯折扣类型：\" prop=\"ladderDiscountType\">\r\n              <el-select @change=\"changeLadderDiscountType\" v-model=\"discountData.ladderDiscountType\" class=\"el-input-short\" placeholder=\"请选择阶梯折扣类型\">\r\n                <el-option v-for=\"(item, index) in ladderDiscountType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <!-- 设置阶梯 -->\r\n            <el-form-item label=\"设置阶梯：\" prop=\"ladderDiscountList\">\r\n              <div class=\"addRadder\">\r\n                <div \r\n                  v-for=\"(item, index) in discountData.ladderDiscountList\"\r\n                  :key=\"index\"\r\n                  >\r\n                  <!-- 满数量打折 -->\r\n                  <div v-show=\"discountData.ladderDiscountType  === 0\">满\r\n                    <el-input class=\"el-input-mini mlr10px mb-10\" v-enter-number v-model=\"item.quantity\"></el-input>件，打\r\n                    <el-input v-discount class=\"el-input-mini mlr10px\" v-model=\"item.value\"></el-input>折\r\n                    <i class=\"el-icon-remove  mlr10px\" @click=\"deleteLadderItem(index)\"></i></div>\r\n                  <!-- 满金额打折 -->\r\n                  <div v-show=\"discountData.ladderDiscountType  === 1\">满\r\n                    <el-input class=\"el-input-mini mlr10px mb-10\" v-enter-number v-model=\"item.quantity\"></el-input>元，打\r\n                    <el-input v-discount class=\"el-input-mini mlr10px\" v-model=\"item.value\"></el-input>折\r\n                    <i class=\"el-icon-remove  mlr10px\" @click=\"deleteLadderItem(index)\"></i></div>\r\n                  <!-- 满数量减免指定金额 -->\r\n                  <div v-show=\"discountData.ladderDiscountType  === 2\">满\r\n                    <el-input class=\"el-input-mini mlr10px mb-10\" v-enter-number v-model=\"item.quantity\"></el-input>件，减\r\n                    <el-input class=\"el-input-mini mlr10px\" v-enter-number v-model=\"item.value\"></el-input>元\r\n                    <i class=\"el-icon-remove  mlr10px\" @click=\"deleteLadderItem(index)\"></i></div> \r\n                  <!-- 满金额减免指定金额 -->\r\n                  <div v-show=\"discountData.ladderDiscountType  === 3\">满\r\n                    <el-input class=\"el-input-mini mlr10px mb-10\" v-enter-number v-model=\"item.quantity\"></el-input>元，减\r\n                    <el-input class=\"el-input-mini mlr10px\" v-enter-number v-model=\"item.value\"></el-input>元\r\n                    <i class=\"el-icon-remove  mlr10px\" @click=\"deleteLadderItem(index)\"></i></div>\r\n                </div>\r\n                <el-button @click=\"createLadder\">新增阶梯</el-button>\r\n              </div>\r\n            </el-form-item>\r\n            <el-form-item label=\"\" prop=\"\" class=\"mt-74\">\r\n              <el-button type=\"primary\" @click=\"saveDiscount\">保存</el-button>\r\n              <el-button @click=\"href('market/discount/discount_manage_list')\">取消</el-button>\r\n            </el-form-item>\r\n          </div>\r\n          <!-- 单品折扣 -->\r\n          <div v-if=\"discountData.type === 2\">\r\n            <div class=\"box\">\r\n              <el-form-item label=\"单品折扣类型：\" prop=\"itemDiscountType\">\r\n                <el-select \r\n                  v-model=\"discountData.itemDiscountType\" \r\n                  class=\"el-input-short\" \r\n                  @change=\"discountData.itemDiscountEd = null\"\r\n                  placeholder=\"请选择单品折扣类型\">\r\n                  <el-option v-for=\"(item, index) in itemDiscountType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item label=\"折扣额度：\" v-show=\"discountData.itemDiscountType !== null && discountData.itemDiscountType ===1\"  prop=\"itemDiscountEd\">\r\n                <el-input placeholder=\"请输入折扣，如3.5\" v-discount v-model=\"discountData.itemDiscountEd\" class=\"el-input-width155\"></el-input>&nbsp;折\r\n              </el-form-item>\r\n              <el-form-item label=\"定价：\" v-show=\"discountData.itemDiscountType !== null && discountData.itemDiscountType === 0\"  prop=\"itemDiscountEd\">\r\n                <el-input placeholder=\"请输入定价，如：299\" v-enter-number v-model=\"discountData.itemDiscountEd\" class=\"el-input-width155\"></el-input>&nbsp;元\r\n              </el-form-item> \r\n              <el-form-item label=\"\" prop=\"\" class=\"mt-74\">\r\n                <el-button type=\"primary\" @click=\"saveDiscount\">{{ isGoods ? '刷新折扣' :  '下一步，选商品' }}</el-button>\r\n                <el-button @click=\"href('market/discount/discount_manage_list')\">取消</el-button>\r\n              </el-form-item>\r\n            </div>\r\n            <div class=\"box\" v-if=\"isGoods\">\r\n              <el-form\r\n                class=\"item-form\"\r\n                size=\"small\"\r\n                :inline=\"true\"\r\n                :model=\"goodsFiltersDataCheck\">\r\n                <!-- 模糊查询 -->\r\n                <el-form-item prop=\"cateIdentifier\" clearable label=\"品类：\">\r\n                  <el-cascader\r\n                    class=\"input-w\"\r\n                    :options=\"classData\"\r\n                    v-model=\"cateArrs\"\r\n                    :value=\"cateArrs\"\r\n                    @change=\"cascaderGets\"\r\n                    :show-all-levels=\"false\"\r\n                    :props=\"props\"\r\n                    change-on-select\r\n                  ></el-cascader>\r\n                </el-form-item>\r\n                <el-form-item label=\"品牌：\">\r\n                  <el-select class=\"input-w\" filterable clearable placeholder=\"请选择\" v-model=\"goodsFiltersDataCheck.brandId\">\r\n                    <el-option\r\n                      v-for=\"item in brandOptions\"\r\n                      :key=\"item.id\"\r\n                      :label=\"item.name\"\r\n                      :value=\"item.id\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"售价：\">\r\n                  <el-input placeholder=\"请输入售价最小值\" clearable  v-model=\"goodsFiltersDataCheck.retailPriceGE\" class=\"el-input-width155\"></el-input>\r\n                  <el-input placeholder=\"请输入售价最大值\" clearable  v-model=\"goodsFiltersDataCheck.retailPriceLE\" class=\"el-input-width155 ml-10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"季节：\">\r\n                  <el-select v-model=\"goodsFiltersDataCheck.seasonalStyleCode\" clearable placeholder=\"请选择\">\r\n                    <el-option v-for=\"(item, index) in codeItem_list_get.data\" :key=\"index\" :label=\"item.name\" :value=\"item.code\"></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n                <br/>\r\n                <el-form-item label=\"店内库存：\">\r\n                  <el-input placeholder=\"请输入库存最小值\" clearable  v-model=\"goodsFiltersDataCheck.quantityLowerLimit\" class=\"el-input-width155\"></el-input>\r\n                  <el-input placeholder=\"请输入库存最大值\" clearable  v-model=\"goodsFiltersDataCheck.quantityUpperLimit\" class=\"el-input-width155 ml-10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"关键词：\">\r\n                  <el-input placeholder=\"请输入关键词，如：货号、款号、商品名称\" clearable  v-model=\"goodsFiltersDataCheck.searchWords\" class=\"el-input-width355\"></el-input>\r\n                </el-form-item>\r\n                <!-- 搜索，重置 -->\r\n                <el-form-item>\r\n                  <el-button size=\"small\" @click=\"handleSearchCheck\" type=\"primary\" plain>搜索</el-button>\r\n                  <el-button size=\"small\" @click=\"handleResetFiltersCheck\">重置</el-button>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n            <div class=\"box\" v-if=\"isGoods\">\r\n              <div class=\"item-table\">\r\n                <el-button size=\"small\" type=\"primary\" class=\"ml-20 mt-24\" @click=\"dialogTableVisible = true\">添加商品</el-button>\r\n                <el-table\r\n                    class=\"mt-20\"\r\n                  :data=\"goodsCheckList.data\"\r\n                  stripe\r\n                  empty-text=\"暂无数据\"\r\n                  header-align=\"center\"\r\n                  header-row-class-name=\"item-table-header\"\r\n                  :highlight-current-row=\"true\">\r\n                  <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品款号\" min-width=\"100\">\r\n                    <template  slot-scope=\"scope\">{{ scope.row.productCode|| '--' }}</template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品货号\" min-width=\"100\">\r\n                    <template  slot-scope=\"scope\">{{ scope.row.code || '--' }}</template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"品牌\" min-width=\"100\">\r\n                    <template  slot-scope=\"scope\">{{ scope.row.productBrandName || '--' }}</template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"品类\" min-width=\"100\">\r\n                    <template  slot-scope=\"scope\">{{ scope.row.fullCateName || '--' }}</template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品名称\" min-width=\"100\">\r\n                    <template  slot-scope=\"scope\">{{ scope.row.name || '--' }}</template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品图片\" min-width=\"100\">\r\n                    <template  slot-scope=\"scope\"><img class=\"discountImg\" :src=\"scope.row.image\" alt=\"\"></template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"店内库存\" min-width=\"100\">\r\n                    <template  slot-scope=\"scope\">{{ scope.row.stock === null ? '门店没有该商品' : scope.row.stock }}</template>\r\n                  </el-table-column>\r\n                  <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"售价\" min-width=\"100\">\r\n                    <template  slot-scope=\"scope\">{{ scope.row.retailPrice || '--'  }}</template>\r\n                  </el-table-column>\r\n                  <!-- 操作 -->\r\n                  <el-table-column\r\n                      fixed=\"right\"\r\n                      label-class-name=\"text-center\"\r\n                      class-name=\"text-center\"\r\n                      align=\"center\"\r\n                      label=\"操作\"\r\n                      width=\"180\">\r\n                      <template slot-scope=\"scope\">\r\n                        <el-button type=\"text\" size=\"small\" @click=\"marketingMiddleground_removeInSingleProduct(scope.row)\">剔除</el-button>\r\n                      </template>\r\n                  </el-table-column>\r\n                </el-table>\r\n                <div class=\"pagination mt-10 mb-20\">\r\n                  <!-- 分页 -->\r\n                  <el-pagination\r\n                      class=\"mr-20\"\r\n                      @size-change=\"handleSizeChangeCheck\"\r\n                      @current-change=\"handleCurrentChangeCheck\"\r\n                      :current-page=\"goodsFiltersDataCheck.pageIndex\"\r\n                      :page-sizes=\"[10,20,30,40,50]\"\r\n                      :page-size=\"goodsFiltersDataCheck.pageSize\"\r\n                      layout=\"total, sizes, prev, pager, next, jumper\"\r\n                      :total=\"goodsCheckList.totalCount\"\r\n                  ></el-pagination>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </el-form>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 季节列表\r\n      codeItem_list_get:[],\r\n      // 快速创建保留门店id\r\n      fastCreateStoreId:null,\r\n      // 快速创建剔除已有门店\r\n      fastCreateTF:true,\r\n      // 是否编辑\r\n      isEdit:this.$route.query.isEdit,\r\n      // 是否快速创建\r\n      isFastCreate:this.$route.query.isFastCreate,\r\n      // 单品商品信息是否存在\r\n      isGoods:false,\r\n      // 折扣id\r\n      discountId:this.$route.query.discountId,\r\n      // 弹框\r\n      dialogTableVisible:false,\r\n      // 全部商品\r\n      goodsList:{},\r\n      // 已添加\r\n      goodsCheckList:{},\r\n      // 新建折扣方案提交对象\r\n      discountData:{\r\n        // 折扣方案类型\r\n        type:null, \r\n        // 门店名称\r\n        storeName:null, \r\n        // 门店 id\r\n        storeId:null, \r\n        // 门店 id （备份），检验已有折扣时使用；\r\n        _storeId:null, \r\n        // 预约折扣类型\r\n        appointmentDiscountType:null,\r\n        // 预约折扣额度或折扣\r\n        appointmentDiscountEd:null,\r\n        // 阶梯折扣类型\r\n        ladderDiscountType:null, \r\n        // 阶梯折扣方式\r\n        ladderDiscountList:[],\r\n        // 单品折扣类型 \r\n        itemDiscountType:null, \r\n        // 单品折扣额度或折扣\r\n        itemDiscountEd:null \r\n      },\r\n      // 折扣校验\r\n      rules:{\r\n        // 门店校验\r\n        storeId: [{ required: true, validator: async (rule, value, callback) => {\r\n          var discountData = this.discountData;\r\n          if(!value) {\r\n            callback(new Error('请选择门店！'))\r\n          };\r\n          // 如果查询的门店id与当前选择的门店id一致，则折扣不再做检验；\r\n          if(discountData.storeId == discountData._storeId) {\r\n            var request = false;\r\n          }else{\r\n            var request = await this.request(\r\n              this.api.market.marketingMiddleground_confirmDiscountByStoreId,\r\n              {\r\n                \"storeId\": discountData.storeId,\r\n                \"type\": discountData.type,\r\n                discount:discountData.type == 2 ? discountData.itemDiscountEd : 0,\r\n                discountType:discountData.type == 2 ? discountData.itemDiscountType : 0\r\n              }\r\n            );\r\n          }\r\n          if(request.confirm) {\r\n            callback(new Error('已有折扣方案！'))\r\n          }else{\r\n            callback();\r\n          };\r\n        }, trigger: 'blur' }],\r\n        // 折扣类型校验\r\n        type: [{ required: true, message: '请选择折扣方案类型！', trigger: 'blur' }],\r\n        // 预约折扣类型校验\r\n        appointmentDiscountType: [{ required: true, message: '请选择预约折扣类型！', trigger: 'blur' }],\r\n        // 预约折扣或金额校验，首先不能为空，其次需要符合折扣金额的格式，如 3.2折；\r\n        appointmentDiscountEd: [{ required: true, validator: (rule, value, callback) => {\r\n          const appointmentDiscountType = this.discountData.appointmentDiscountType;\r\n          let re = /^\\d(\\.\\d?)?$/g;\r\n          let res = /^\\d+?$/g;\r\n          if(!value) {\r\n            var name = appointmentDiscountType ? '请输入折扣额度!' : '请输入减免金额!';\r\n            callback(new Error(name));\r\n          }\r\n          // 预约折扣类型为1，折扣额度数值检测\r\n          if(appointmentDiscountType) {\r\n            if(!re.test(value)) {\r\n              callback(new Error('请输入正确的折扣额度！'));\r\n            }else{\r\n              callback();\r\n            }\r\n          // 预约折扣类型为0，减免金额数值检测\r\n          }else{\r\n            if(!res.test(value)) {\r\n              callback(new Error('请输入正确的减免金额！'));\r\n            }else{\r\n              callback();\r\n            }\r\n          }\r\n        }, trigger: 'blur' }],\r\n        // 阶梯折扣类型校验\r\n        ladderDiscountType: [{ required: true, message: '请选择阶梯折扣类型！', trigger: 'blur' }],\r\n        // 阶梯折扣或金额校验\r\n        ladderDiscountList: [{ required: true, validator: (rule, arr, callback) => {\r\n          const discountType = this.discountData.ladderDiscountType;\r\n          let re = /^\\d(\\.\\d?)?$/g;\r\n          let res = /^\\d+?$/g;\r\n          if(!arr.length) {\r\n            callback(new Error('至少添加一条折扣方案！'));\r\n          };\r\n          var list = [];\r\n          // 将所有阶梯类型填写项添加到一个集合中，统一做判断\r\n          arr.forEach((item, index) => {\r\n            list.push(item.quantity);\r\n            list.push(item.value);\r\n          })\r\n          const someItem = list.every((item, index) => {\r\n            return item;\r\n          });\r\n          if(!someItem) {\r\n            callback(new Error('阶梯填写项不能为空！'));\r\n          }else{\r\n            // 判断满减打折，或满件打折，因为是两种规则，所有分别判断\r\n            if(discountType < 2) {\r\n              var quantityList = [];\r\n              var valueList = [];\r\n              // 将所有阶梯类型填写项添加到一个集合中，统一做判断\r\n              arr.forEach((item, index) => {\r\n                quantityList.push(item.quantity);\r\n                valueList.push(item.value);\r\n              })\r\n              var a = quantityList.every((item, index) => {\r\n                console.log(/^\\d+?$/g.test(item))\r\n                return /^\\d+?$/g.test(item);\r\n              })\r\n              if(!a) {\r\n                callback(new Error('请输入正确的折扣额度！'));\r\n              }\r\n              var b = valueList.every((item, index) => {\r\n                console.log(/^\\d(\\.\\d?)?$/g.test(item))\r\n                return /^\\d(\\.\\d?)?$/g.test(item);\r\n              })\r\n              if(!b) {\r\n                callback(new Error('请输入正确的折扣额度！'));\r\n              }\r\n            // 判断满数量减额，这里只有一种规则\r\n            }else{\r\n              let checkItem = list.every((item, index) => {\r\n                return /^\\d+?$/g.test(item);\r\n              })\r\n              if(!checkItem) {\r\n                callback(new Error('请输入正确的减免金额！'));\r\n              }\r\n            }\r\n          };\r\n          if(arr.length > 1) {\r\n            let deWeightItemArr = [];\r\n            let deWeightItemValueArr = [];\r\n            arr.forEach((item, index) => {\r\n              deWeightItemArr.push(item.quantity);\r\n              deWeightItemValueArr.push(item.value);\r\n            });\r\n            var nary = deWeightItemArr.sort();\r\n            var narys = deWeightItemValueArr.sort();\r\n            for(var i = 0; i < nary.length - 1; i++) {\r\n              if(nary[i] == nary[i + 1]) {\r\n                callback(new Error('同一门店、同一折扣类型，不能存在相同的折扣方案！'));\r\n              };\r\n            }\r\n            for(var i = 0; i < narys.length - 1; i++) {\r\n              if(narys[i] == narys[i + 1]) {\r\n                callback(new Error('同一门店、同一折扣类型，不能存在相同的折扣方案！'));\r\n              };\r\n            }\r\n          };\r\n          if(discountType == 3) {\r\n            var checkItemTF = arr.every((item, index) => {\r\n              return parseInt(item.quantity) >= parseInt(item.value)\r\n            });\r\n            if(!checkItemTF) {\r\n              callback(new Error('减免金额不能超过阶梯金额！'));\r\n            }else{\r\n              callback();\r\n            }\r\n          }else{\r\n            callback();\r\n          }\r\n        }, trigger: 'blur' }],\r\n        // 单品折扣类型校验\r\n        itemDiscountType: [{ required: true, message: '请选择单品折扣类型！', trigger: 'blur' }],\r\n        // 单品折扣或金额校验\r\n        itemDiscountEd: [{ required: true, validator: (rule, value, callback) => {\r\n          const itemDiscountType = this.discountData.itemDiscountType;\r\n          let re = /^\\d(\\.\\d?)?$/g;\r\n          let res = /^\\d+?$/g;\r\n          if(!value) {\r\n            var names = itemDiscountType ? '请输入折扣额度!' : '请输入减免金额!';\r\n            callback(new Error(names));\r\n          }\r\n          // 预约折扣类型为1，折扣额度数值检测\r\n          if(itemDiscountType) {\r\n            if(!re.test(value)) {\r\n              callback(new Error('请输入正确的折扣额度！'));\r\n            }else{\r\n              callback();\r\n            }\r\n          // 预约折扣类型为0，减免金额数值检测\r\n          }else{\r\n            if(!res.test(value)) {\r\n              callback(new Error('请输入正确的减免金额！'));\r\n            }else{\r\n              callback();\r\n            }\r\n          }\r\n        }, trigger: 'blur' }],\r\n      },\r\n      // 检索全部商品\r\n      goodsFiltersData:{\r\n        // 当前页码\r\n        pageIndex: 1,\r\n        // 每页数量\r\n        pageSize: 10,\r\n        // 门店id\r\n        storeId:null,\r\n        // 折扣类型\r\n        type:null,\r\n        // 折扣值\r\n        discount:null,\r\n        // 品类id\r\n        cateIdentifier:null,\r\n        // 品牌id\r\n        brandId:null,\r\n        // 售价最小值\r\n        retailPriceGE:null, \r\n        // 售价最大值\r\n        retailPriceLE:null, \r\n        // 库存最小值\r\n        quantityLowerLimit:null, \r\n        // 库存最大值\r\n        quantityUpperLimit:null, \r\n        // 季节\r\n        seasonalStyleCode:null,\r\n        // 关键词\r\n        searchWords:null \r\n      },\r\n      // 全部品牌\r\n      brandOptions:[],\r\n      // 检索已选商品\r\n      goodsFiltersDataCheck:{\r\n        // 当前页码\r\n        pageIndex: 1,\r\n        // 每页数量\r\n        pageSize: 10,\r\n        // 折扣id\r\n        discountId:null,\r\n        // 品类id\r\n        cateId:null,\r\n        // 品类id\r\n        cateIdentifier:null,\r\n        // 品牌id\r\n        brandId:null,\r\n        // 售价最小值\r\n        retailPriceGE:null, \r\n        // 售价最大值\r\n        retailPriceLE:null, \r\n        // 库存最小值\r\n        quantityLowerLimit:null, \r\n        // 库存最大值\r\n        quantityUpperLimit:null, \r\n        // 季节\r\n        seasonalStyleCode:null,\r\n        // 关键词 \r\n        searchWords:null \r\n      },\r\n      // 单品折扣列表\r\n      itemDiscountData:{\r\n        data:[]\r\n      },\r\n      // 门店列表\r\n      storeList:{},\r\n      // 折扣类型\r\n      discountType:[\r\n        '预约折扣',\r\n        '阶梯折扣',\r\n        '单品折扣'\r\n      ],\r\n      // 预约折扣类型\r\n      appointmentDiscountType:[\r\n        '预约减免指定金额',\r\n        '预约折上折'\r\n      ],\r\n       // 预约折扣类型\r\n      ladderDiscountType:[\r\n        '满数量打折',\r\n        '满金额打折',\r\n        '满数量减免指定金额',\r\n        '满金额减免指定金额'\r\n      ],\r\n      // 单品折扣类型\r\n      itemDiscountType:[\r\n        '定价促销',\r\n        '单品折扣'\r\n      ],\r\n      classData: [],\r\n      classList: [],\r\n      cateArr: [],\r\n      cateArrs: [],\r\n      props: {\r\n        value: \"id\",\r\n        label: \"name\",\r\n        children: \"children\"\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    var that = this;\r\n    this.getClassData(); // 获取商品\r\n    this.codeItem_list(); // 获取季节列表\r\n    this.getStoreList(); // 获取门店列表\r\n    this.getBrandOptions(); // 获取品牌\r\n    if(this.isEdit || this.isFastCreate) {\r\n      this.discountData.type = this.$route.query.type;\r\n      switch(this.$route.query.type) {\r\n        case 0:\r\n          this.marketingMiddleground_queryDiscountSetting();\r\n          break;\r\n        case 1:\r\n          this.marketingMiddleground_queryDiscountParameter();\r\n          break;\r\n        case 2:\r\n          this.marketingMiddleground_querySingleProductDiscount();\r\n          break;\r\n      }\r\n    };\r\n    document.onkeydown = function(e) {\r\n         var key = window.event.keyCode;\r\n         if (key == 13) {\r\n            if(that.dialogTableVisible) {\r\n              that.handleSearch();\r\n            }else{\r\n              that.handleSearchCheck();\r\n            }\r\n         }\r\n      };\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    /**\r\n     * （获取季节）\r\n     */\r\n    codeItem_list(item) {\r\n      const that = this;\r\n\r\n      this.request(\r\n        this.api.market.codeItem_list,\r\n        {\r\n          codeSetId:'06b11574-ef82-4ae4-a8a9-a25f903083df'\r\n        },\r\n        true\r\n      ).then(res => {\r\n        that.codeItem_list_get = res;\r\n      });\r\n    },\r\n    /**\r\n     * 获取品牌\r\n     */\r\n    getBrandOptions() {\r\n      this.request(\r\n        this.api.product.productBrand_list,\r\n        {},\r\n        true\r\n        ).then(data => {\r\n          let _data = data.data;\r\n          this.brandOptions = _data;\r\n      });\r\n    },\r\n    /**\r\n     * 获取分类\r\n     */\r\n    getClassData() {\r\n      //分类类型（1：标准分类，2：定制分类，3：原料分类或者称为属性分类）\r\n      this.$common.getClassSelect(this, 1).then(res => {\r\n        this.classData = res.ztree;\r\n        this.classList = res.list;\r\n      });\r\n    },\r\n    /**\r\n     * \r\n     */\r\n    cascaderGet(e) {\r\n      let cateId = JSON.parse(JSON.stringify(e)).pop();\r\n      let obj = this.classList.find(item => item.id == cateId);\r\n      this.goodsFiltersData.cateIdentifier = obj.identifier;\r\n    },\r\n    /**\r\n     * \r\n     */\r\n    cascaderGets(e) {\r\n      let cateId = JSON.parse(JSON.stringify(e)).pop();\r\n      let obj = this.classList.find(item => item.id == cateId);\r\n      this.goodsFiltersDataCheck.cateIdentifier = obj.identifier;\r\n    },\r\n    /**\r\n     * 删除某个阶梯\r\n     */\r\n    deleteLadderItem(index) {\r\n      this.discountData.ladderDiscountList.splice(index,1);\r\n    },\r\n    /**\r\n     * （单品全部添加）\r\n     */\r\n    marketingMiddleground_addPageSingleProduct() {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n      const data = {\r\n        \"discountId\": this.discountId,\r\n        \"goodsCodeList\": [],\r\n        \"storeId\": discountData.storeId\r\n      };\r\n      this.goodsList.data.forEach((item, index) => {\r\n        if(item.currentDiscount === null) {\r\n          data.goodsCodeList.push(item.code)\r\n        }\r\n      });\r\n      this.request(\r\n        this.api.market.marketingMiddleground_addPageSingleProduct,\r\n        data,\r\n        true\r\n      ).then(res => {\r\n        this.warn('本页全部商品添加成功！');\r\n        that.marketingMiddleground_listProduct();\r\n        that.marketingMiddleground_listSingleProduct();\r\n      });\r\n    },\r\n    /**\r\n     * （单品添加）\r\n     */\r\n    marketingMiddleground_addStatelessSingleProduct(item) {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n\r\n      this.request(\r\n        this.api.market.marketingMiddleground_addStatelessSingleProduct,\r\n        {\r\n          discountId:this.discountId,\r\n          goodsCode:item.code\r\n        },\r\n        true\r\n      ).then(res => {\r\n        this.warn('商品添加成功！');\r\n        that.marketingMiddleground_listProduct();\r\n        that.marketingMiddleground_listSingleProduct();\r\n      });\r\n    },\r\n    /**\r\n     * （单品从列表内剔除）\r\n     */\r\n    marketingMiddleground_removeInSingleProduct(item) {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n\r\n      this.request(\r\n        this.api.market.marketingMiddleground_removeInSingleProduct,\r\n        {\r\n          discountId:this.discountId,\r\n          goodsCode:item.code\r\n        },\r\n        true\r\n      ).then(res => {\r\n        this.warn('剔除成功！');\r\n        that.marketingMiddleground_listProduct();\r\n        that.marketingMiddleground_listSingleProduct();\r\n      });\r\n    },\r\n    /**\r\n     * （单品切换到当前折扣）\r\n     */\r\n    marketingMiddleground_addOtherInSingleProduct(item) {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n\r\n      this.request(\r\n        this.api.market.marketingMiddleground_addOtherInSingleProduct,\r\n        {\r\n          sourceDiscountId:item.sourceDisocuntId,\r\n          goodsCode:item.code,\r\n          targetDiscountId:this.discountId\r\n        },\r\n        true\r\n      ).then(res => {\r\n        this.warn('已切换到当前折扣！');\r\n        that.marketingMiddleground_listProduct();\r\n        that.marketingMiddleground_listSingleProduct();\r\n      });\r\n    },\r\n    /**\r\n     * （已选商品）\r\n     */\r\n    marketingMiddleground_listSingleProduct() {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n      \r\n      Object.assign(this.goodsFiltersDataCheck, {\r\n        storeId:discountData.storeId,\r\n        discountId:this.discountId\r\n      });\r\n      this.request(\r\n        this.api.market.marketingMiddleground_listSingleProduct,\r\n        this.goodsFiltersDataCheck,\r\n        true\r\n      ).then(res => {\r\n        that.goodsCheckList = res;\r\n      });\r\n    },\r\n    /**\r\n     * （全部商品）\r\n     */\r\n    marketingMiddleground_listProduct() {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n\r\n      Object.assign(this.goodsFiltersData, {\r\n        storeId:discountData.storeId,\r\n        type:discountData.itemDiscountType,\r\n        discount:discountData.itemDiscountEd\r\n      }); \r\n      this.request(\r\n        this.api.market.marketingMiddleground_listProduct,\r\n        this.goodsFiltersData,\r\n        true\r\n      ).then(res => {\r\n        that.goodsList = res;\r\n      });\r\n    },\r\n    /**\r\n     * （query）查询预约折扣方案\r\n     */\r\n    marketingMiddleground_queryDiscountSetting() {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n\r\n      this.request(\r\n        this.api.market.marketingMiddleground_queryDiscountSetting,\r\n        {\r\n          id:this.discountId\r\n        },\r\n        true\r\n      ).then(res => {\r\n        if(that.isFastCreate) {\r\n          this.fastCreateStoreId = res.storeId;\r\n          res.storeId = null;\r\n          res.storeName = null;\r\n        };\r\n        \r\n        Object.assign(that.discountData, {\r\n          storeName:res.storeName, // 门店名称\r\n          storeId:res.storeId, // 门店 id\r\n          _storeId:res.storeId, // 门店 id （备份），检验已有折扣时使用；\r\n          appointmentDiscountType:res.type,// 预约折扣类型\r\n          appointmentDiscountEd:res.value,// 预约折扣额度\r\n        })\r\n      });\r\n    },\r\n    /**\r\n     * （query）查询阶梯折扣方案\r\n     */\r\n    marketingMiddleground_queryDiscountParameter() {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n\r\n      this.request(\r\n        this.api.market.marketingMiddleground_queryDiscountParameter,\r\n        {\r\n          id:this.discountId\r\n        },\r\n        true\r\n      ).then(res => {\r\n        var ladderDiscountType = null;\r\n        var otherDiscount = res.otherDiscount && res.otherDiscount[0];\r\n\r\n        if(otherDiscount.discountType === 0 && otherDiscount.type === 0) {\r\n          ladderDiscountType = 3;\r\n        }else if(otherDiscount.discountType === 0 && otherDiscount.type === 1) {\r\n          ladderDiscountType = 1;\r\n        }else if(otherDiscount.discountType === 1 && otherDiscount.type === 0) {\r\n          ladderDiscountType = 2;\r\n        }else if(otherDiscount.discountType === 1 && otherDiscount.type === 1) {\r\n          ladderDiscountType = 0;\r\n        };\r\n\r\n        if(that.isFastCreate) {\r\n          this.fastCreateStoreId = res.storeId;\r\n          res.storeId = null;\r\n          res.storeName = null;\r\n        };\r\n\r\n        Object.assign(that.discountData, {\r\n          storeName:res.storeName, // 门店名称\r\n          storeId:res.storeId, // 门店 id\r\n          _storeId:res.storeId, // 门店 id （备份），检验已有折扣时使用；\r\n          ladderDiscountType, // 阶梯折扣类型\r\n          ladderDiscountList:res.otherDiscount,// 预约折扣方式\r\n        })\r\n      });\r\n    },\r\n    /**\r\n     * （query）查询单品折扣方案\r\n     */\r\n    marketingMiddleground_querySingleProductDiscount() {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n\r\n      this.request(\r\n        this.api.market.marketingMiddleground_querySingleProductDiscount,\r\n        {\r\n          id:this.discountId\r\n        },\r\n        true\r\n      ).then(res => {\r\n        if(that.isFastCreate) {\r\n          this.fastCreateStoreId = res.storeId;\r\n          res.storeId = null;\r\n          res.storeName = null;\r\n        };\r\n        Object.assign(that.discountData, {\r\n          storeName:res.storeName, // 门店名称\r\n          storeId:res.storeId, // 门店 id\r\n          _storeId:res.storeId, // 门店 id （备份），检验已有折扣时使用；\r\n          itemDiscountType:res.type,// 预约折扣类型\r\n          itemDiscountEd:res.discount,// 预约折扣额度\r\n        });\r\n        // 快速创建不展示商品\r\n        if(that.isFastCreate) return;\r\n        that.isGoods = true;\r\n        that.marketingMiddleground_listSingleProduct(); // 查询已添加商品\r\n        that.marketingMiddleground_listProduct(); // 查询全部商品\r\n      });\r\n    },\r\n    /**\r\n     * 新建或更新（预约）折扣方案\r\n     */\r\n    createAppointmentDiscount() {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n      const url =  this.isEdit \r\n        ? this.api.market.marketingMiddleground_updateDiscountSetting // 更新预约折扣\r\n        : this.api.market.marketingMiddleground_createDiscountSetting; // 新建预约折扣\r\n\r\n      this.request(\r\n        url,\r\n        {\r\n          \"storeId\": discountData.storeId, // 门店id\r\n          \"storeName\": discountData.storeName, // 门店名称\r\n          \"type\": discountData.appointmentDiscountType, // 0：满，1：打折。\r\n          \"value\": discountData.appointmentDiscountEd, // value\r\n          \"id\":this.discountId\r\n        },\r\n        true\r\n      ).then(res => {\r\n        if(this.discountId) {\r\n          this.warn('更新成功！')\r\n        }else{\r\n          this.warn('创建成功！')\r\n        };\r\n        this.href('market/discount/discount_manage_list');\r\n      });\r\n    },\r\n    /**\r\n     * 新建或更新（阶梯）折扣方案\r\n     */\r\n    createLadderDiscount() {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n      const url =  this.isEdit \r\n        ? this.api.market.marketingMiddleground_updateDiscountParameterS // 更新阶梯折扣\r\n        : this.api.market.marketingMiddleground_createDiscountParameter;// 新建阶梯折扣\r\n      const data =  {\r\n        \"storeDiscountParameterVOS\": discountData.ladderDiscountList,\r\n        \"storeId\": discountData.storeId,\r\n        \"storeName\": discountData.storeName,\r\n        \"id\":this.discountId\r\n      };\r\n      // 请求\r\n      this.request(\r\n        url,\r\n        data,\r\n        true\r\n      ).then(res => {\r\n        if(this.discountId) {\r\n          this.warn('更新成功！')\r\n        }else{\r\n          this.warn('创建成功！')\r\n        };\r\n        this.href('market/discount/discount_manage_list');\r\n      });\r\n    },\r\n    /**\r\n     * 新建或更新（单品）折扣方案\r\n     */\r\n    createItemDiscount() {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n      const url =  this.isEdit \r\n        ? this.api.market.marketingMiddleground_updateSingleProductDiscount // 更新单品折扣\r\n        : this.api.market.marketingMiddleground_createSingleProductDiscount;// 新建单品折扣\r\n      const data = {\r\n        \"createWayType\": this.isFastCreate ? 1 : 0, // 区分营销中台-正常创建：0，还是快速创建：1\r\n        \"discount\": discountData.itemDiscountEd, // 折扣 ?  \r\n        \"platformType\": 1, // 平台类型（0：APP，1：中台）\r\n        \"storeId\": discountData.storeId,\r\n        \"storeName\": discountData.storeName,\r\n        \"type\": discountData.itemDiscountType, // 减金额打折类型(0:满减，1:打折)\r\n        \"sourceId\": this.discountId, // 营销中台-快速创建-源门店单品折扣ID ?\r\n        \"id\":this.discountId\r\n      };\r\n      this.request(\r\n        url,\r\n        data,\r\n        true\r\n      ).then(res => {\r\n        if(that.isEdit) {\r\n          that.warn('更新成功！');\r\n          that.marketingMiddleground_listProduct();\r\n        }else{\r\n          that.warn('创建成功！');\r\n          this.discountId = res.id;\r\n          that.isGoods = true;\r\n          that.isEdit = true;\r\n          that.marketingMiddleground_listProduct();\r\n          that.marketingMiddleground_listSingleProduct();\r\n        };\r\n      });\r\n    },\r\n    /**\r\n     * 改变阶梯方案\r\n     */\r\n    changeLadderDiscountType() {\r\n      this.discountData.ladderDiscountList = [];\r\n    },\r\n    /**\r\n     * 新增阶梯方案\r\n     */\r\n    createLadder() {\r\n      let discountData = this.discountData;\r\n      let ladderDiscountType = discountData.ladderDiscountType;\r\n      // 设置完阶梯折扣方案，才能添加阶梯\r\n      if(ladderDiscountType === null) {\r\n        this.warn('请先选择阶梯折扣类型！','warning');\r\n        return;\r\n      };\r\n      // 添加\r\n      discountData.ladderDiscountList.push({\r\n        \"discountType\": ladderDiscountType == 0 ||  ladderDiscountType == 2 ? 1 : 0, // 折扣类型（0，满金额减免，1，满数量减免）\r\n        \"quantity\": null,\r\n        \"type\":  ladderDiscountType == 0 || ladderDiscountType == 1 ? 1 : 0, // 判断满减还是打折类型（0:满减，1:打折）\r\n        \"value\": null,\r\n        \"id\":this.discountId &&  this.discountId \r\n      });\r\n    },\r\n    /**\r\n     * 选择适用门店时\r\n     */\r\n    changeStore(id) {\r\n      var item = this.storeList.data.find((v, i) => {\r\n          return id == v.id;\r\n      })\r\n      this.discountData.storeName = item.name;\r\n    \r\n      console.log(item.name)\r\n    },\r\n    /**\r\n     * 门店下拉框下拉或隐藏时\r\n     */\r\n    visibleChange() {\r\n      if(this.fastCreateTF) {\r\n        if(this.isFastCreate) {\r\n          var index = this.storeList.data.findIndex((v, i) => {\r\n            return this.fastCreateStoreId == v.id;\r\n          })\r\n          this.storeList.data.splice(index, 1);\r\n          this.fastCreateTF = false;\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * 新建或更新折扣方案\r\n     */\r\n    saveDiscount() {\r\n      const that = this;\r\n      const discountData = this.discountData;\r\n      this.$refs.formName.validate((v) => {\r\n        if (v) {\r\n          // 把对象中所有的不规范折扣数值清除，如：3. 3.22，=> 处理成3 3.2；\r\n          // /(\\d\\.\\D)|(\\d\\.\\d{2})/g \r\n          this.discountData = JSON.parse(JSON.stringify(discountData).replace(/(\\d\\.\\D)|(\\d\\.\\d{2})/g,(value) => {\r\n            value = value.replace(/(\\.\\D)/,'\"');\r\n            value = value.replace(/(\\d$)/,'');\r\n            return value;\r\n          }));\r\n          console.log(this.discountData);\r\n          // return;\r\n          switch(discountData.type) {\r\n            // 新建或更新预约折扣\r\n            case 0:\r\n              this.createAppointmentDiscount();\r\n              break;\r\n            // 新建或更新阶梯折扣\r\n            case 1:\r\n              this.createLadderDiscount();\r\n              break;\r\n            // 新建或更新单品折扣\r\n            case 2:\r\n              this.createItemDiscount();\r\n              break;\r\n          }\r\n        } else {\r\n          let type = this.discountData.type;\r\n          let discountName = '';\r\n          switch(type) {\r\n            case 0:\r\n              discountName = '预约折扣';\r\n              break;\r\n            case 1:\r\n              discountName = '阶梯折扣';\r\n              break;\r\n            case 2:\r\n              discountName = '单品折扣';\r\n              break;\r\n          };\r\n          // this.warn(`新建${discountName}信息未填写完整，请填写完整后重试！`,'warning');\r\n          return;\r\n        }\r\n      }); \r\n    },\r\n    /**\r\n     * 查询门店列表\r\n     */\r\n    getStoreList() {\r\n        const that = this;\r\n\r\n        this.request(\r\n        that.api.store.storeBasic_list,\r\n        {\r\n          pricingPower:0\r\n        },\r\n        true\r\n        ).then(res => {\r\n          that.storeList = res;\r\n        });\r\n    },\r\n    /**\r\n     * 提示\r\n     * @param { String } message 提示文案\r\n     * @param { String } type 提示类型\r\n     */\r\n    warn(message, type) {\r\n      this.$message({\r\n        message: message,\r\n        type: type || 'success'\r\n      });\r\n    },\r\n    /**\r\n     * 跳转\r\n     * @param { String } routeName 路由跳转名字\r\n     */\r\n    href(routeName) {\r\n      this.$router.push({\r\n        path: `/${routeName}`\r\n      });\r\n    },\r\n   /**\r\n     * 模糊搜索\r\n     */\r\n    handleSearch() {\r\n        this.goodsFiltersData.pageIndex = 1;\r\n        this.goodsFiltersData.searchWords = this.goodsFiltersData.searchWords && this.goodsFiltersData.searchWords.replace(/(^\\s)|(\\s$)/g, '');\r\n        this.marketingMiddleground_listProduct();\r\n    },\r\n     /**\r\n     * 模糊搜索\r\n     */\r\n    handleSearchCheck() {\r\n        this.goodsFiltersDataCheck.pageIndex = 1;\r\n        this.goodsFiltersDataCheck.searchWords = this.goodsFiltersDataCheck.searchWords && this.goodsFiltersDataCheck.searchWords.replace(/(^\\s)|(\\s$)/g, '');\r\n        this.marketingMiddleground_listSingleProduct();\r\n    },\r\n    /**\r\n     * 搜索重置\r\n     */\r\n    handleResetFilters() {\r\n      Object.assign(this.goodsFiltersData,{\r\n        pageIndex: 1,// 当前页码\r\n        pageSize: 10,// 每页数量\r\n        storeId:null,\r\n        type:null,\r\n        discount:null,\r\n        cateIdentifier:null,// 品类id\r\n        brandId:null,// 品牌id\r\n        retailPriceGE:null, // 售价最小值\r\n         retailPriceLE:null, // 售价最大值\r\n        quantityLowerLimit:null, // 库存最小值\r\n        quantityUpperLimit:null, // 库存最大值\r\n        seasonalStyleCode:null, // 季节\r\n        searchWords:null // 关键词\r\n      });\r\n      this.cateArr = [];\r\n    },\r\n    /**\r\n     * 点击页数\r\n     * @param { Number } pageIndex 当前页\r\n     */\r\n    handleCurrentChange(pageIndex){\r\n        this.goodsFiltersData.pageIndex = pageIndex;\r\n        if(!this.discountData.itemDiscountEd) {\r\n          this.warn('请填写折扣额度或金额！','warning');\r\n          return;\r\n        };\r\n        this.marketingMiddleground_listProduct();\r\n    },\r\n    /**\r\n     *  选择每页多少条数\r\n     *  @param { Number } pageSize 每页条数\r\n     */\r\n    handleSizeChange(pageSize){\r\n        this.goodsFiltersData.pageSize = pageSize;  \r\n        if(!this.discountData.itemDiscountEd) {\r\n          this.warn('请填写折扣额度或金额！','warning');\r\n          return;\r\n        };\r\n        this.marketingMiddleground_listProduct();\r\n    },\r\n    /**\r\n     * 搜索重置\r\n     */\r\n    handleResetFiltersCheck() {\r\n        Object.assign(this.goodsFiltersDataCheck,{\r\n        // 当前页码\r\n        pageIndex: 1,\r\n        // 每页数量\r\n        pageSize: 10,\r\n        // 折扣id\r\n        discountId:null,\r\n        // 品类id\r\n        cateId:null,\r\n        // 品类id\r\n        cateIdentifier:null,\r\n        // 品牌id\r\n        brandId:null,\r\n        // 售价最小值\r\n        retailPriceGE:null, \r\n        // 售价最大值\r\n        retailPriceLE:null, \r\n        // 库存最小值\r\n        quantityLowerLimit:null, \r\n        // 库存最大值\r\n        quantityUpperLimit:null, \r\n        // 季节\r\n        seasonalStyleCode:null,\r\n        // 关键词 \r\n        searchWords:null \r\n      });\r\n        this.cateArrs = [];\r\n    },\r\n    /**\r\n     * 点击页数\r\n     * @param { Number } pageIndex 当前页\r\n     */\r\n    handleCurrentChangeCheck(pageIndex){\r\n      this.goodsFiltersDataCheck.pageIndex = pageIndex;\r\n      this.marketingMiddleground_listSingleProduct();\r\n    },\r\n    /**\r\n     *  选择每页多少条数\r\n     *  @param { Number } pageSize 每页条数\r\n     */\r\n    handleSizeChangeCheck(pageSize){\r\n      this.goodsFiltersDataCheck.pageSize = pageSize;  \r\n      this.marketingMiddleground_listSingleProduct();\r\n    },\r\n  },\r\n  components: {}\r\n};\r\n</script>\r\n<style  lang=\"less\" scoped>\r\n  .box{\r\n    padding: 20px 20px 20px 20px;\r\n    margin: 8px 8px 0 8px;\r\n    background: #fff;\r\n  }\r\n  .el-input-short{\r\n    width: 300px;\r\n  }\r\n  .el-input-mini{\r\n    width: 90px;\r\n  }\r\n  .mlr10px{\r\n    margin: 0 10px;\r\n  }\r\n  .addRadder{\r\n    border-radius: 4px;\r\n    border: 1px solid #DCDFE6;\r\n    width: 400px;\r\n    padding: 15px;\r\n  }\r\n  .mb-10{\r\n    margin-bottom: 10px;\r\n  }\r\n  .mb-100{\r\n    margin-bottom: 100px;\r\n  }\r\n  .ml-10{\r\n    margin-left: 10px;\r\n  }\r\n  .mt-74{\r\n    margin-top: 74px;\r\n  }\r\n  .el-input-width155{\r\n    width:300px;\r\n  }\r\n  .el-input-width355{\r\n    width: 355px;\r\n  }\r\n  .el-input__inners{\r\n    width: 300px;\r\n  }\r\n  .el-dialog__wrapper /deep/ .el-dialog{\r\n    width: 80%;\r\n  }\r\n  .discountImg{\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n</style>\r\n\r\n\r\n"],"sourceRoot":"src/views/market/discount"}]}