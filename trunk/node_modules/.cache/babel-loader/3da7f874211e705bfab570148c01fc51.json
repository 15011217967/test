{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\scb\\channel\\channel_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\scb\\channel\\channel_list.vue","mtime":1578973431440},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport PageTable from \"@/views/collocation/components/PageTable\";\nimport TimeIntervalCheck from \"@/components/TimeIntervalCheck\";\nimport keepAliveMixin from \"@/mixins/keepAliveMixin\";\nexport default {\n  name: \"channel_list\",\n  mixins: [keepAliveMixin],\n  // 数据\n  data: function data() {\n    return {\n      // 供货明细列表\n      movingAveragePrice_writeOffDetailsList_list: {\n        dataList: {\n          data: []\n        },\n        info: {}\n      },\n      check_item: {},\n      // 调出方列表\n      tuneOut_data: [],\n      // 调入方列表\n      tuneIn_data: [],\n      // 选中调出方信息\n      checkTuneOutUser: {},\n      // 选中调入方信息\n      checkTuneInUser: {},\n      orderStarusType: {\n        100: \"主单待编辑\",\n        101: \"主单待审核\",\n        102: \"主单待发货\",\n        103: \"主单部分已发货\",\n        104: \"主单异常完成\",\n        105: \"主单已完成\",\n        106: \"主单已作废\"\n      },\n      tradeWayCodeType: {\n        1: \"现金\",\n        2: \"代销\"\n      },\n      valueType: {\n        0: \"期初货量\",\n        1: \"期初货值\",\n        2: \"配货总件数\",\n        3: \"退返总件数\",\n        4: \"核销件数\",\n        5: \"核销货值\",\n        6: \"核销货值\",\n        7: \"期末货量\",\n        8: \"期末货值\"\n      },\n      symbolType: {\n        0: \"小于\",\n        1: \"小于等于\",\n        2: \"等于\",\n        3: \"大于\",\n        4: \"大于等于\"\n      },\n      // 参数\n      addFormData: {\n        // 发货人\n        allotMan: \"\",\n        // 发货人直属机构\n        organizationId: \"\",\n        organizationName: \"\",\n        // 订单类型\n        // orderType: '0203',\n        // 发货门店\n        outStoreId: \"\",\n        outStoreName: \"\",\n        // 收货门店\n        inStoreId: \"\",\n        inStoreName: \"\",\n        // 收货人\n        receiveMan: \"\",\n        // 电话\n        phone: \"\",\n        // 省市区信息\n        provinceName: \"\",\n        provinceCode: \"\",\n        cityName: \"\",\n        cityCode: \"\",\n        areaName: \"\",\n        areaCode: \"\",\n        divisionId: \"\",\n        // 地址\n        addressInfo: \"\"\n      },\n      // 选择调出弹框\n      dialogTableVisible: false,\n      // 结算弹框\n      dialogJs: false,\n      // 选择调出类型\n      allocatingType: true,\n      // 标识是否是零售门店进入\n      enterTypeFlag: false,\n      // 查询参数\n      formData: {\n        // 结算客户名称\n        channelCustomerName: null,\n        // 结算类型\n        settleTypeName: null,\n        // 开始时间\n        startTime: null,\n        // 结束时间\n        endTime: null,\n        pageIndex: 1,\n        pageSize: 10\n      },\n      // 查询参数\n      formDataIn: {\n        // 模糊搜索\n        searchWords: null,\n        // 订单状态\n        purchaseOrderStatus: null,\n        pageIndex: 1,\n        pageSize: 10\n      },\n      // 查询参数\n      formDataStore: {\n        // 模糊搜索\n        filter: null,\n        // 门店id\n        storeId: null,\n        // 品牌名称\n        brandName: null,\n        pageIndex: 1,\n        pageSize: 10\n      },\n      // 收货差异\n      differenceList: [{\n        name: \"是\",\n        id: 1\n      }, {\n        name: \"否\",\n        id: 0\n      }],\n      // 发货门店列表\n      outStoreList: [],\n      // 收货门店列表\n      inStoreList: [],\n      // 单据状态\n      billType: this.$common.getBillType(\"transferSlip\"),\n      // 表格数据\n      tableData: {\n        dataList: {\n          data: []\n        },\n        info: {}\n      },\n      // 选中的表格数据\n      checkedTableData: [],\n      // 全部品牌\n      brandOptions: [],\n      // 备注弹窗\n      remarksDialog: false,\n      remarksFormData: {\n        id: \"\",\n        operationRemarks: \"\"\n      },\n      rules: {\n        operationRemarks: [{\n          type: \"string\",\n          required: true,\n          message: \"请输入内容\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  // 组件\n  components: {\n    PageTable: PageTable,\n    TimeIntervalCheck: TimeIntervalCheck\n  },\n  created: function created() {\n    // 删除子页面的门店缓存\n    sessionStorage.removeItem(\"TRANSFER_SLIP_APP_INFO\");\n    this.info();\n    this.getBrandOptions(); // 获取品牌\n  },\n  // 初始化数据\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.getInStoreList(); // this.getOutStoreList();\n\n\n      _this.getTableData(); // 调入、调出门店接口列表，调出传入调入ID（SCB)\n\n    });\n  },\n  // 方法\n  methods: {\n    /**\r\n     * 关闭弹框\r\n     */\n    closeDialog: function closeDialog() {\n      Object.assign(this.formDataStore, {\n        // 模糊搜索\n        filter: null,\n        // 门店id\n        storeId: null,\n        // 品牌名称\n        brandName: null,\n        pageIndex: 1,\n        pageSize: 10\n      });\n    },\n\n    /**\r\n     * 获取品牌\r\n     */\n    getBrandOptions: function getBrandOptions() {\n      var _this2 = this;\n\n      this.request(this.api.product.productBrand_list, {}, true).then(function (data) {\n        var _data = data.data;\n        _this2.brandOptions = _data;\n      });\n    },\n\n    /**\r\n     * 结算\r\n     */\n    channelWriteOffSettle_settlement: function channelWriteOffSettle_settlement(row) {\n      if (parseInt(row.writeOffValueCopy) == 0) {\n        this.warn('核销货值必须大于零时，可进行结算!', 'warning');\n        return;\n      }\n\n      this.dialogJs = true;\n      this.check_item = row; // this.request(this.api.scb.channelWriteOffSettle_get, \n      // {\n      //   id:row.id\n      // }).then(data => {\n      //   this.check_item.writeOffValueCopyTotal = data.writeOffValueCopy;\n      // });\n    },\n    qrJs: function qrJs() {\n      var _this3 = this;\n\n      this.request(this.api.scb.channelWriteOffSettle_settlement, {\n        writeOffTotal: this.check_item.writeOffTotal,\n        writeOffValue: this.check_item.writeOffValue,\n        channelCustomerId: this.check_item.channelCustomerId,\n        operator: this.addFormData.allotMan\n      }).then(function (data) {\n        _this3.dialogJs = false;\n\n        _this3.getTableData();\n\n        _this3.warn(\"审核通过！\");\n      });\n    },\n\n    /**\r\n     * 审核通过\r\n     */\n    purchaseOrder_checkToPass: function purchaseOrder_checkToPass(row) {\n      var _this4 = this;\n\n      this.$confirm(\"审核通过后，库房将接收订单发货通知！\", \"订单审核\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function () {\n        _this4.request(_this4.api.scb.purchaseOrder_checkToPass, {\n          orderId: row.id\n        }).then(function (data) {\n          _this4.getTableData();\n\n          _this4.warn(\"审核通过！\");\n        });\n      }).catch(function () {\n        _this4.$message({\n          type: \"info\",\n          message: \"已取消删除\"\n        });\n      });\n    },\n    info: function () {\n      var _info = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var info, organization;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.request(this.api.user.get_userinfo, {}, true);\n\n              case 2:\n                info = _context.sent;\n                // 保存用户名称\n                this.addFormData.allotMan = info.name; // 获取直属机构\n\n                _context.next = 6;\n                return this.request(this.api.user.userCompany_getUserOrgByUserId, {\n                  userId: info.userId\n                }, true);\n\n              case 6:\n                organization = _context.sent;\n                this.addFormData.organizationId = organization.id;\n                this.addFormData.organizationName = organization.name;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function info() {\n        return _info.apply(this, arguments);\n      }\n\n      return info;\n    }(),\n\n    /**\r\n     * 获取客户列表\r\n     * @param { String } id 调出方id\r\n     */\n    tuneIn_fn: function tuneIn_fn() {\n      var _this5 = this;\n\n      this.request(this.api.store.storeBasic_listStoreBasic, this.formDataIn).then(function (res) {\n        _this5.tuneIn_data = res;\n        res.data.forEach(function (item, index) {\n          item._createTime = _this5.$options.filters.timestampToTime(item.createTime);\n        });\n      });\n    },\n\n    /**\r\n     * 调入下一步\r\n     */\n    drNext: function drNext() {\n      if (JSON.stringify(this.checkTuneInUser) == \"{}\") return;\n      Object.assign(this.addFormData, {\n        outStoreId: this.checkTuneInUser.id,\n        outStoreName: this.checkTuneInUser.name,\n        // 收货门店\n        inStoreId: this.checkTuneInUser.id,\n        inStoreName: this.checkTuneInUser.name,\n        // 收货人\n        receiveMan: this.checkTuneInUser.linkman,\n        // 电话\n        phone: this.checkTuneInUser.phone,\n        // 省市区信息\n        provinceName: this.checkTuneInUser.provinceName,\n        provinceCode: this.checkTuneInUser.provinceCode,\n        cityName: this.checkTuneInUser.cityName,\n        cityCode: this.checkTuneInUser.cityCode,\n        areaName: this.checkTuneInUser.areaName,\n        areaCode: this.checkTuneInUser.areaCode,\n        divisionId: this.checkTuneInUser.divisionId,\n        // 地址\n        addressInfo: this.checkTuneInUser.addressInfo\n      });\n      console.log(this.addFormData);\n      sessionStorage.setItem(\"TRANSFER_SLIP_APP_INFO\", JSON.stringify(this.addFormData)); // return;\n\n      var module = \"/\" + this.$route.path.split(\"/\")[1];\n      this.$router.push({\n        path: module + \"/order/sell_order_edit\"\n      });\n    },\n\n    /**\r\n     * 提示\r\n     * @param { String } message 提示文案\r\n     * @param { String } type 提示类型\r\n     */\n    warn: function warn(message, type) {\n      this.$message({\n        message: message,\n        type: type || \"success\"\n      });\n    },\n    // keepAlive 返回初始化\n    activatedInit: function activatedInit() {\n      this.getTableData();\n    },\n    // 导出\n    exportExcel: function exportExcel() {\n      var _this6 = this;\n\n      if (this.checkedTableData.length === 0) {\n        this.checkedTableData = this.tableData.dataList.data;\n      }\n\n      require.ensure([], function () {\n        var _require = require(\"@/vendor/Export2Excel\"),\n            export_json_to_excel = _require.export_json_to_excel;\n\n        var tHeader = [\"结算客户名称\", \"结算类型\", \"期初货量\", \"期初货值\", \"配货总件数\", \"退返总件数\", \"核销件数\", \"核销货值\", \"期末货量\", \"期末货值\", \"上次结算时间\"]; // 上面设置Excel的表格第一行的标题\n\n        var filterVal = [\"channelCustomerName\", \"settleTypeName\", \"initialVolume\", \"initialValueCopy\", \"allotTotal\", \"returnTotal\", \"writeOffTotal\", \"writeOffValueCopy\", \"finalPeriodVolume\", \"finalPeriodValueCopy\", \"updateTime\"]; // 上面的index、nickName、name是tableData里对象的属性\n\n        var list = _this6.checkedTableData; //把data里的tableData存到list\n\n        var data = _this6.formatJson(filterVal, list);\n\n        export_json_to_excel(tHeader, data, \"渠道结算订单列表\");\n      });\n    },\n    formatJson: function formatJson(filterVal, jsonData) {\n      return jsonData.map(function (v) {\n        return filterVal.map(function (j) {\n          return v[j];\n        });\n      });\n    },\n    // 行商品详情导出\n    downloadItem: function downloadItem(row) {\n      var _this7 = this;\n\n      this.request(this.api.order.storeAllotOrderProductInfo_list, {\n        orderSn: row.orderSn\n      }).then(function (data) {\n        _this7.downloadDataInit(data.data);\n\n        var downloadData = data.data;\n\n        require.ensure([], function () {\n          var _require2 = require(\"@/vendor/Export2Excel\"),\n              export_json_to_excel = _require2.export_json_to_excel;\n\n          var tHeader = [\"商品款号\", \"商品货号\", \"名称\", \"品牌\", \"吊牌价\", \"调拨单价\", \"调拨数量\", \"调拨金额\", \"门店实发数量\", \"门店实收数量\"]; // 上面设置Excel的表格第一行的标题\n\n          var filterVal = [\"productCode\", \"goodsCode\", \"goodsName\", \"brandName\", \"_retailPrice\", \"_allotPrice\", \"quantity\", \"_amount\", \"shipmentsQty\", \"receiveQty\"]; // 上面的index、nickName、name是tableData里对象的属性\n\n          var list = downloadData; //把data里的tableData存到list\n\n          var data = _this7.formatJson(filterVal, list);\n\n          export_json_to_excel(tHeader, data, \"调拨商品信息\");\n        });\n      });\n    },\n    downloadDataInit: function downloadDataInit(data) {\n      if (data && data.length) {\n        data.forEach(function (item) {\n          item._retailPrice = \"￥\" + item.retailPrice.toFixed(2);\n          item._allotPrice = \"￥\" + item.allotPrice.toFixed(2);\n          item._amount = \"￥\" + (item.quantity * item.allotPrice).toFixed(2);\n        });\n      }\n    },\n    // 点击搜索\n    searchTableData: function searchTableData() {\n      this.formData.pageIndex = 1;\n      this.getTableData();\n    },\n    searchTableDataIn: function searchTableDataIn() {\n      this.movingAveragePrice_writeOffDetailsList();\n    },\n    initFormDataIn: function initFormDataIn() {\n      this.formDataStore = {\n        // 模糊搜索\n        filter: null,\n        // 门店id\n        storeId: null,\n        // 品牌名称\n        brandName: null,\n        pageIndex: 1,\n        pageSize: 10\n      };\n    },\n    // 获取列表数据\n    getTableData: function getTableData() {\n      var _this8 = this;\n\n      this.request(this.api.scb.channelWriteOffSettle_list, this.formData).then(function (data) {\n        _this8.initTableData(data.data);\n\n        _this8.tableData = data;\n        data.dataList.data.forEach(function (item, idnex) {\n          item.updateTime = _this8.$options.filters.timestampToTime(item.updateTime);\n        });\n      });\n    },\n    // 初始化数据 导出使用\n    initTableData: function initTableData(data) {\n      var _this9 = this;\n\n      if (data && data.length) {\n        data.forEach(function (item) {\n          item._createTime = _this9.$options.filters.timestampToTime(item.createTime);\n          item._amount = \"￥\" + item.amount;\n          item._difference = item.difference === null ? \"--\" : item.difference ? \"是\" : \"否\";\n          item._differenceQty = item.differenceQty === null ? \"--\" : item.differenceQty;\n          item._orderStatus = _this9.statusToName(item.orderStatus);\n        });\n      }\n    },\n    // 获取表格选中的\n    tableCheckChange: function tableCheckChange(val) {\n      this.checkedTableData = val;\n    },\n    // 初始查询条件\n    initFormData: function initFormData() {\n      Object.assign(this.formData, {\n        // 结算客户名称\n        channelCustomerName: null,\n        // 结算类型\n        settleTypeName: null,\n        // 开始时间\n        startTime: null,\n        // 结束时间\n        endTime: null,\n        pageIndex: 1,\n        pageSize: 10\n      });\n    },\n    // 新增\n    addItem: function addItem() {\n      var module = \"/\" + this.$route.path.split(\"/\")[1];\n      this.$router.push({\n        path: module + \"/order/allotGoods_order_edit\"\n      });\n    },\n    // 查看\n    seeItem: function seeItem(row) {\n      var module = \"/\" + this.$route.path.split(\"/\")[1];\n      this.$router.push({\n        path: module + \"/order/sell_order_detail\",\n        query: {\n          id: row.id\n        }\n      });\n    },\n    // 编辑\n    editItem: function editItem(row) {\n      var module = \"/\" + this.$route.path.split(\"/\")[1];\n      this.$router.push({\n        path: module + \"/channel/channel_edit\",\n        query: {\n          id: row.id,\n          outStoreId: row.channelCustomerId,\n          orderNum: row.purchaseOrderNum\n        }\n      });\n    },\n    // 查看明细\n    delItem: function delItem(row) {\n      this.dialogTableVisible = true;\n      this.movingAveragePrice_writeOffDetailsList_obj = row;\n      this.movingAveragePrice_writeOffDetailsList();\n    },\n    // 获取供货明细列表\n    movingAveragePrice_writeOffDetailsList: function movingAveragePrice_writeOffDetailsList() {\n      var _this10 = this;\n\n      Object.assign(this.formDataStore, {\n        storeId: this.movingAveragePrice_writeOffDetailsList_obj.channelCustomerId\n      });\n      this.request(this.api.scb.movingAveragePrice_writeOffDetailsList, this.formDataStore).then(function (data) {\n        _this10.movingAveragePrice_writeOffDetailsList_list = data;\n      });\n    },\n    // 强制完成\n    finishItem: function finishItem(row) {\n      var _this11 = this;\n\n      if (!row.writeOffTotal) {\n        this.warn('暂无撤销核销商品！', 'warning');\n        return;\n      }\n\n      ;\n      this.$confirm(\"执行撤销后，本期全部已核销商品将回退到未核销商品中，确认撤销吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function () {\n        _this11.request(_this11.api.scb.channelWriteOffSettle_revoke, {\n          id: row.id\n        }).then(function (data) {\n          _this11.getTableData();\n\n          _this11.warn(\"撤销成功！\");\n        });\n      }).catch(function () {\n        _this11.$message({\n          type: \"info\",\n          message: \"已取消\"\n        });\n      });\n    },\n    // 备注显示\n    remarksItem: function remarksItem(row) {\n      this.remarksFormData.id = row.id;\n      this.remarksFormData.operationRemarks = row.operationRemarks;\n      this.remarksDialog = true;\n    },\n    // 备注提交\n    remarksSub: function remarksSub() {\n      var _this12 = this;\n\n      this.$refs.remarksForm.validate(function (valid) {\n        if (valid) {\n          _this12.request(_this12.api.order.storeAllotGoodsOrder_insertRemarks, _this12.remarksFormData).then(function (data) {\n            _this12.$notify.success({\n              title: \"成功\",\n              message: \"备注成功\"\n            });\n\n            _this12.remarksDialog = false;\n\n            _this12.getTableData();\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 状态转name\n    statusToName: function statusToName(val) {\n      if (!val && val !== 0) return;\n      var item = this.billType.find(function (item) {\n        return item.id === val;\n      });\n\n      if (item) {\n        return item.name;\n      } else {\n        return val;\n      }\n    },\n    // 获取发货门店数据\n    getOutStoreList: function () {\n      var _getOutStoreList = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this13 = this;\n\n        var info, organization;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.request(this.api.user.get_userinfo, {}, true);\n\n              case 2:\n                info = _context2.sent;\n                _context2.next = 5;\n                return this.request(this.api.user.userCompany_getUserOrgByUserId, {\n                  userId: info.userId\n                }, true);\n\n              case 5:\n                organization = _context2.sent;\n                // enableAllocation: 1  (启用门店调拨 后端需要)\n                this.request(this.api.retailStore.storeBasic_listBase, {\n                  organizationId: organization.id,\n                  enableAllocation: 1\n                }).then(function (data) {\n                  _this13.outStoreList = data.data;\n                });\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getOutStoreList() {\n        return _getOutStoreList.apply(this, arguments);\n      }\n\n      return getOutStoreList;\n    }(),\n    // 获取收货门店数据\n    getInStoreList: function getInStoreList() {\n      var _this14 = this;\n\n      this.request(this.api.store.storeBasic_listStoreBasic, {}).then(function (data) {\n        _this14.inStoreList = data.data;\n      });\n    }\n  },\n  filters: {},\n  // 计算属性\n  computed: {},\n  // 监听数据变化\n  watch: {}\n};",{"version":3,"sources":["channel_list.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\" scoped>\r\n  .statistics{\r\n    position: absolute;\r\n    bottom: 45px;\r\n  }\r\n  .statistics2{\r\n    position: absolute;\r\n    bottom: 18px;\r\n    left: 20px;\r\n  }\r\n  .item-margin{\r\n    position: relative;\r\n  }\r\n  .dialogJs-div{\r\n    font-size: 16px;\r\n    margin: 10px 0 0 30px;\r\n  }\r\n</style>\r\n<template>\r\n  <div class=\"transfer_slip_list\">\r\n    <el-dialog width=\"550px\" title=\"结算\" :visible.sync=\"dialogJs\">\r\n      <div class=\"dialogJs-div\">上次结算时间：{{ check_item.updateTime }}</div>\r\n      <!-- <div class=\"dialogJs-div\">累计核销货值：￥{{ check_item.writeOffValueCopyTotal }}</div> -->\r\n      <div class=\"dialogJs-div\">本期结算款：￥{{ check_item.writeOffValueCopy }}</div>\r\n      <div class=\"dialogJs-div\">确定结算后，财务将收到收款确认单！（收款）</div>\r\n      <span slot=\"footer\">\r\n        <el-button @click=\"dialogJs = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"qrJs\">确定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 选择调出入方信息 -->\r\n    <el-dialog width=\"1200px\" @closed=\"closeDialog\" title=\"查看供货商品\" :visible.sync=\"dialogTableVisible\">\r\n      <el-form\r\n        :model=\"formDataStore\"\r\n        label-width=\"90px\"\r\n        size=\"small\"\r\n        ref=\"formDataStore\"\r\n        inline\r\n      >\r\n        <el-form-item label=\"模糊搜索\" prop=\"inStoreId\">\r\n         <el-input v-model=\"formDataStore.filter\" placeholder=\"款号/货号/商品名称\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"品牌：\" prop=\"outStoreId\">\r\n          <el-select class=\"input-w\" filterable clearable placeholder=\"请选择\" v-model=\"formDataStore.brandName\">\r\n            <el-option\r\n              v-for=\"item in brandOptions\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.name\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button @click=\"searchTableDataIn\" type=\"primary\" plain>搜索</el-button>\r\n          <el-button @click=\"initFormDataIn\" plain>重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- <el-button class=\"ml-20\" size=\"small\" type=\"primary\" @click=\"\">导出</el-button> -->\r\n      <div class=\"item-margin\">\r\n        <page-table :form-data=\"formDataStore\" :get-data=\"movingAveragePrice_writeOffDetailsList\" :table-data=\"movingAveragePrice_writeOffDetailsList_list.dataList\">\r\n          <el-table :data=\"movingAveragePrice_writeOffDetailsList_list.dataList.data\" max-height=\"350\" class=\"mt-10\">\r\n            <el-table-column :show-overflow-tooltip=\"true\" label=\"款号\" align=\"center\" min-width=\"90\">\r\n              <template slot-scope=\"scope\">{{ scope.row.productCode }}</template>\r\n            </el-table-column>\r\n            <el-table-column :show-overflow-tooltip=\"true\" label=\"货号\" align=\"center\" min-width=\"90\">\r\n              <template slot-scope=\"scope\">{{ scope.row.goodsCode }}</template>\r\n            </el-table-column>\r\n            <el-table-column :show-overflow-tooltip=\"true\" label=\"商品名称\" align=\"center\" min-width=\"90\">\r\n              <template slot-scope=\"scope\">{{ scope.row.goodsName }}</template>\r\n            </el-table-column>\r\n            <el-table-column :show-overflow-tooltip=\"true\" label=\"颜色\" align=\"center\" min-width=\"90\">\r\n              <template slot-scope=\"scope\">{{ scope.row.color }}</template>\r\n            </el-table-column>\r\n            <el-table-column :show-overflow-tooltip=\"true\" label=\"尺码\" align=\"center\" min-width=\"90\">\r\n              <template slot-scope=\"scope\">{{ scope.row.size }}</template>\r\n            </el-table-column>\r\n            <el-table-column :show-overflow-tooltip=\"true\" label=\"品牌\" align=\"center\" min-width=\"90\">\r\n              <template slot-scope=\"scope\">{{ scope.row.brandName }}</template>\r\n            </el-table-column>\r\n             <el-table-column :show-overflow-tooltip=\"true\" label=\"吊牌价\" align=\"center\" min-width=\"90\">\r\n              <template slot-scope=\"scope\">{{ scope.row.priceTag }}</template>\r\n            </el-table-column>\r\n             <el-table-column :show-overflow-tooltip=\"true\" label=\"未核销数量\" align=\"center\" min-width=\"90\">\r\n              <template slot-scope=\"scope\">{{ scope.row.quantity }}</template>\r\n            </el-table-column>\r\n             <el-table-column :show-overflow-tooltip=\"true\" label=\"本期核销数量\" align=\"center\" min-width=\"90\">\r\n              <template slot-scope=\"scope\">{{ scope.row.writeOffQuantity }}</template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"statistics2\">\r\n            未核销数： <span class=\"mr-20\">{{ movingAveragePrice_writeOffDetailsList_list.info.unAppliedQuantity }}</span>\r\n            本期核销数： <span>{{ movingAveragePrice_writeOffDetailsList_list.info.writeOffQuantity }}</span>\r\n            </div>\r\n        </page-table>\r\n      </div>\r\n    </el-dialog>\r\n    <div class=\"item-margin\">\r\n      <el-form\r\n        class=\"item-form\"\r\n        :model=\"formData\"\r\n        label-width=\"120px\"\r\n        size=\"small\"\r\n        ref=\"formData\"\r\n        inline>\r\n        <el-form-item label=\"结算客户名称：\" prop=\"inStoreId\">\r\n          <el-select\r\n            v-model=\"formData.channelCustomerName\"\r\n            placeholder=\"请选择\"\r\n            class=\"input-w\"\r\n            filterable\r\n            clearable>\r\n            <el-option\r\n              v-for=\"item in inStoreList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.name\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"结算类型：\" prop=\"outStoreId\">\r\n          <el-select\r\n            v-model=\"formData.settleTypeName\"\r\n            placeholder=\"请选择\"\r\n            class=\"input-w\"\r\n            filterable\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for=\"(item, index) in tradeWayCodeType\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"自定义筛选：\">\r\n            <el-select\r\n            placeholder=\"请选择\"\r\n            class=\"input-w\"\r\n            v-model=\"formData.purchaseOrderStatuss\"\r\n            filterable\r\n            clearable>\r\n          <el-option\r\n              v-for=\"(item, index) in valueType\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n              :value=\"index\"\r\n            ></el-option>\r\n          </el-select>\r\n          <el-select\r\n            placeholder=\"请选择\"\r\n            class=\"input-w\"\r\n            v-model=\"formData.purchaseOrderStatus\"\r\n            filterable\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for=\"(item, index) in symbolType\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n              :value=\"index\"\r\n            ></el-option>\r\n          </el-select>\r\n          <el-input\r\n            v-model=\"formData.searchWords\"\r\n            @keyup.enter.native=\"handleSearch\"\r\n            style=\"width:310px;\"\r\n            placeholder=\"请输入金额\"\r\n            clearable\r\n          ></el-input>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"上次结算时间：\" prop=\"startDate\">\r\n          <el-date-picker value-format=\"yyyy-MM-dd 00:00:00\" v-model=\"formData.startTime\" type=\"date\" placeholder=\"开始日期\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item prop=\"endDate\">\r\n          <el-date-picker value-format=\"yyyy-MM-dd 23:59:59\" v-model=\"formData.endTime\" type=\"date\" placeholder=\"结束日期\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button @click=\"searchTableData\" type=\"primary\" plain>搜索</el-button>\r\n          <el-button @click=\"initFormData\" plain>重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"item-margin item-cont\">\r\n      <div v-if=\"!enterTypeFlag\">\r\n        <el-button size=\"small\" type=\"primary\" @click=\"exportExcel\">导出</el-button>\r\n      </div>\r\n      <page-table :form-data=\"formData\" :get-data=\"getTableData\" :table-data=\"tableData.dataList\">\r\n        <el-table\r\n          :data=\"tableData.dataList.data\"\r\n          style=\"width: 100%\"\r\n          row-key=\"id\"\r\n          @selection-change=\"tableCheckChange\"\r\n          id=\"table-data\">\r\n          <el-table-column type=\"selection\" width=\"45\"></el-table-column>\r\n          <el-table-column prop=\"channelCustomerName\" label=\"结算客户名称\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"settleTypeName\" label=\"结算类型\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"initialVolume\" label=\"期初货量\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"initialValueCopy\" label=\"期初货值\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"allotTotal\" label=\"配货总件数\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"returnTotal\" label=\"退返总件数\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"writeOffTotal\" label=\"核销件数\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"writeOffValueCopy\" label=\"核销货值\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"finalPeriodVolume\" label=\"期末货量\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"finalPeriodValueCopy\" label=\"期末货值\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"updateTime\" label=\"上次结算时间\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column label=\"操作\" width=\"300\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                type=\"text\"\r\n                size=\"small\"\r\n                @click=\"editItem(scope.row)\"\r\n                v-if=\"1\"\r\n              >核销</el-button>\r\n              <el-button\r\n                type=\"text\"\r\n                size=\"small\"\r\n                @click=\"channelWriteOffSettle_settlement(scope.row)\"\r\n                v-if=\"1\"\r\n              >结算</el-button>\r\n              <el-button\r\n                type=\"text\"\r\n                size=\"small\"\r\n                @click=\"delItem(scope.row)\"\r\n                v-if=\"1\"\r\n              >查看供货明细</el-button>\r\n              <el-button\r\n                type=\"text\"\r\n                size=\"small\"\r\n                @click=\"finishItem(scope.row)\"\r\n                v-if=\"1\"\r\n              >撤销核销</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"statistics\">累计未结算款：{{ tableData.info.writeOffValueStatistic }}&nbsp;&nbsp;&nbsp;&nbsp;累计销货数：{{ tableData.info.writeOffTotalStatistic }}</div>\r\n      </page-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport PageTable from \"@/views/collocation/components/PageTable\";\r\nimport TimeIntervalCheck from \"@/components/TimeIntervalCheck\";\r\nimport keepAliveMixin from \"@/mixins/keepAliveMixin\";\r\nexport default {\r\n  name: \"channel_list\",\r\n  mixins: [keepAliveMixin],\r\n  // 数据\r\n  data() {\r\n    return {\r\n      // 供货明细列表\r\n      movingAveragePrice_writeOffDetailsList_list:{\r\n        dataList:{\r\n          data:[]\r\n        },\r\n        info:{}\r\n      },\r\n      check_item:{},\r\n      // 调出方列表\r\n      tuneOut_data: [],\r\n      // 调入方列表\r\n      tuneIn_data: [],\r\n      // 选中调出方信息\r\n      checkTuneOutUser: {},\r\n      // 选中调入方信息\r\n      checkTuneInUser: {},\r\n      orderStarusType: {\r\n        100: \"主单待编辑\",\r\n        101: \"主单待审核\",\r\n        102: \"主单待发货\",\r\n        103: \"主单部分已发货\",\r\n        104: \"主单异常完成\",\r\n        105: \"主单已完成\",\r\n        106: \"主单已作废\"\r\n      },\r\n      tradeWayCodeType: {\r\n        1: \"现金\",\r\n        2: \"代销\"\r\n      },\r\n      valueType: {\r\n        0: \"期初货量\",\r\n        1: \"期初货值\",\r\n        2: \"配货总件数\",\r\n        3: \"退返总件数\",\r\n        4: \"核销件数\",\r\n        5: \"核销货值\",\r\n        6: \"核销货值\",\r\n        7: \"期末货量\",\r\n        8: \"期末货值\",\r\n      },\r\n      symbolType: {\r\n        0: \"小于\",\r\n        1: \"小于等于\",\r\n        2: \"等于\",\r\n        3: \"大于\",\r\n        4: \"大于等于\"\r\n      },\r\n      // 参数\r\n      addFormData: {\r\n        // 发货人\r\n        allotMan: \"\",\r\n        // 发货人直属机构\r\n        organizationId: \"\",\r\n        organizationName: \"\",\r\n        // 订单类型\r\n        // orderType: '0203',\r\n        // 发货门店\r\n        outStoreId: \"\",\r\n        outStoreName: \"\",\r\n        // 收货门店\r\n        inStoreId: \"\",\r\n        inStoreName: \"\",\r\n        // 收货人\r\n        receiveMan: \"\",\r\n        // 电话\r\n        phone: \"\",\r\n        // 省市区信息\r\n        provinceName: \"\",\r\n        provinceCode: \"\",\r\n        cityName: \"\",\r\n        cityCode: \"\",\r\n        areaName: \"\",\r\n        areaCode: \"\",\r\n        divisionId: \"\",\r\n        // 地址\r\n        addressInfo: \"\"\r\n      },\r\n      // 选择调出弹框\r\n      dialogTableVisible:false,\r\n      // 结算弹框\r\n      dialogJs:false,\r\n      // 选择调出类型\r\n      allocatingType: true,\r\n      // 标识是否是零售门店进入\r\n      enterTypeFlag: false,\r\n      // 查询参数\r\n      formData: {\r\n        // 结算客户名称\r\n        channelCustomerName: null,\r\n        // 结算类型\r\n        settleTypeName: null,\r\n        // 开始时间\r\n        startTime: null,\r\n        // 结束时间\r\n        endTime: null,\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      },\r\n      // 查询参数\r\n      formDataIn: {\r\n        // 模糊搜索\r\n        searchWords: null,\r\n        // 订单状态\r\n        purchaseOrderStatus: null,\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      },\r\n      // 查询参数\r\n      formDataStore: {\r\n        // 模糊搜索\r\n        filter: null,\r\n        // 门店id\r\n        storeId: null,\r\n        // 品牌名称\r\n        brandName: null,\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      },\r\n      // 收货差异\r\n      differenceList: [{ name: \"是\", id: 1 }, { name: \"否\", id: 0 }],\r\n      // 发货门店列表\r\n      outStoreList: [],\r\n      // 收货门店列表\r\n      inStoreList: [],\r\n      // 单据状态\r\n      billType: this.$common.getBillType(\"transferSlip\"),\r\n      // 表格数据\r\n      tableData: {\r\n        dataList:{\r\n          data:[]\r\n        },\r\n        info:{}\r\n      },\r\n      // 选中的表格数据\r\n      checkedTableData: [],\r\n      // 全部品牌\r\n      brandOptions:[],\r\n      // 备注弹窗\r\n      remarksDialog: false,\r\n      remarksFormData: {\r\n        id: \"\",\r\n        operationRemarks: \"\"\r\n      },\r\n      rules: {\r\n        operationRemarks: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"请输入内容\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  // 组件\r\n  components: {\r\n    PageTable,\r\n    TimeIntervalCheck\r\n  },\r\n  created() {\r\n    // 删除子页面的门店缓存\r\n    sessionStorage.removeItem(\"TRANSFER_SLIP_APP_INFO\");\r\n    this.info();\r\n    this.getBrandOptions(); // 获取品牌\r\n  },\r\n  // 初始化数据\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.getInStoreList();\r\n      // this.getOutStoreList();\r\n      this.getTableData();\r\n      // 调入、调出门店接口列表，调出传入调入ID（SCB)\r\n    });\r\n  },\r\n  // 方法\r\n  methods: {\r\n    /**\r\n     * 关闭弹框\r\n     */\r\n    closeDialog() {\r\n      Object.assign(this.formDataStore,{\r\n        // 模糊搜索\r\n        filter: null,\r\n        // 门店id\r\n        storeId: null,\r\n        // 品牌名称\r\n        brandName: null,\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      });\r\n    },\r\n    /**\r\n     * 获取品牌\r\n     */\r\n    getBrandOptions() {\r\n      this.request(\r\n        this.api.product.productBrand_list,\r\n        {},\r\n        true\r\n        ).then(data => {\r\n          let _data = data.data;\r\n          this.brandOptions = _data;\r\n      });\r\n    },\r\n    /**\r\n     * 结算\r\n     */\r\n    channelWriteOffSettle_settlement(row) {\r\n      if(parseInt(row.writeOffValueCopy) == 0) {\r\n        this.warn('核销货值必须大于零时，可进行结算!','warning');\r\n        return;\r\n      }\r\n      this.dialogJs = true;\r\n      this.check_item = row;\r\n      // this.request(this.api.scb.channelWriteOffSettle_get, \r\n      // {\r\n      //   id:row.id\r\n      // }).then(data => {\r\n     \r\n      //   this.check_item.writeOffValueCopyTotal = data.writeOffValueCopy;\r\n      // });\r\n    },\r\n    qrJs() {\r\n      this.request(this.api.scb.channelWriteOffSettle_settlement, \r\n      {\r\n        writeOffTotal:this.check_item.writeOffTotal,\r\n        writeOffValue:this.check_item.writeOffValue,\r\n        channelCustomerId:this.check_item.channelCustomerId,\r\n        operator:this.addFormData.allotMan\r\n      }).then(data => {\r\n        this.dialogJs = false;\r\n        this.getTableData();\r\n        this.warn(\"审核通过！\");\r\n      });\r\n    },\r\n    /**\r\n     * 审核通过\r\n     */\r\n    purchaseOrder_checkToPass(row) {\r\n      this.$confirm(\"审核通过后，库房将接收订单发货通知！\", \"订单审核\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n      .then(() => {\r\n        this.request(this.api.scb.purchaseOrder_checkToPass, {\r\n          orderId: row.id\r\n        }).then(data => {\r\n          this.getTableData();\r\n          this.warn(\"审核通过！\");\r\n        });\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消删除\"\r\n        });\r\n      });\r\n    },\r\n    async info() {\r\n      // 获取userId\r\n      let info = await this.request(this.api.user.get_userinfo, {}, true);\r\n      // 保存用户名称\r\n      this.addFormData.allotMan = info.name;\r\n      // 获取直属机构\r\n      let organization = await this.request(\r\n        this.api.user.userCompany_getUserOrgByUserId,\r\n        { userId: info.userId },\r\n        true\r\n      );\r\n      this.addFormData.organizationId = organization.id;\r\n      this.addFormData.organizationName = organization.name;\r\n    },\r\n    /**\r\n     * 获取客户列表\r\n     * @param { String } id 调出方id\r\n     */\r\n    tuneIn_fn() {\r\n      this.request(this.api.store.storeBasic_listStoreBasic,this.formDataIn).then(res => {\r\n        this.tuneIn_data = res;\r\n        res.data.forEach((item, index) => {\r\n          item._createTime = this.$options.filters.timestampToTime(\r\n            item.createTime\r\n          );\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 调入下一步\r\n     */\r\n    drNext() {\r\n      if (JSON.stringify(this.checkTuneInUser) == \"{}\") return;\r\n\r\n      Object.assign(this.addFormData, {\r\n        outStoreId: this.checkTuneInUser.id,\r\n        outStoreName: this.checkTuneInUser.name,\r\n        // 收货门店\r\n        inStoreId: this.checkTuneInUser.id,\r\n        inStoreName: this.checkTuneInUser.name,\r\n        // 收货人\r\n        receiveMan: this.checkTuneInUser.linkman,\r\n        // 电话\r\n        phone: this.checkTuneInUser.phone,\r\n        // 省市区信息\r\n        provinceName: this.checkTuneInUser.provinceName,\r\n        provinceCode: this.checkTuneInUser.provinceCode,\r\n        cityName: this.checkTuneInUser.cityName,\r\n        cityCode: this.checkTuneInUser.cityCode,\r\n        areaName: this.checkTuneInUser.areaName,\r\n        areaCode: this.checkTuneInUser.areaCode,\r\n        divisionId: this.checkTuneInUser.divisionId,\r\n        // 地址\r\n        addressInfo: this.checkTuneInUser.addressInfo\r\n      });\r\n      console.log(this.addFormData);\r\n      sessionStorage.setItem(\r\n        \"TRANSFER_SLIP_APP_INFO\",\r\n        JSON.stringify(this.addFormData)\r\n      );\r\n      // return;\r\n      let module = \"/\" + this.$route.path.split(\"/\")[1];\r\n      this.$router.push({\r\n        path: module + \"/order/sell_order_edit\"\r\n      });\r\n    },\r\n    /**\r\n     * 提示\r\n     * @param { String } message 提示文案\r\n     * @param { String } type 提示类型\r\n     */\r\n    warn(message, type) {\r\n      this.$message({\r\n        message: message,\r\n        type: type || \"success\"\r\n      });\r\n    },\r\n    // keepAlive 返回初始化\r\n    activatedInit() {\r\n      this.getTableData();\r\n    },\r\n    // 导出\r\n    exportExcel() {\r\n      if (this.checkedTableData.length === 0) {\r\n        this.checkedTableData = this.tableData.dataList.data;\r\n      }\r\n      require.ensure([], () => {\r\n        let { export_json_to_excel } = require(\"@/vendor/Export2Excel\");\r\n        let tHeader = [\r\n          \"结算客户名称\",\r\n          \"结算类型\",\r\n          \"期初货量\",\r\n          \"期初货值\",\r\n\r\n          \"配货总件数\",\r\n          \"退返总件数\",\r\n          \"核销件数\",\r\n          \"核销货值\",\r\n\r\n          \"期末货量\",\r\n          \"期末货值\",\r\n          \"上次结算时间\"\r\n        ];\r\n        // 上面设置Excel的表格第一行的标题\r\n        let filterVal = [\r\n          \"channelCustomerName\",\r\n          \"settleTypeName\",\r\n          \"initialVolume\",\r\n          \"initialValueCopy\",\r\n\r\n          \"allotTotal\",\r\n          \"returnTotal\",\r\n          \"writeOffTotal\",\r\n          \"writeOffValueCopy\",\r\n\r\n          \"finalPeriodVolume\",\r\n          \"finalPeriodValueCopy\",\r\n          \"updateTime\"\r\n        ];\r\n        // 上面的index、nickName、name是tableData里对象的属性\r\n        let list = this.checkedTableData; //把data里的tableData存到list\r\n        let data = this.formatJson(filterVal, list);\r\n        export_json_to_excel(tHeader, data, \"渠道结算订单列表\");\r\n      });\r\n    },\r\n    formatJson(filterVal, jsonData) {\r\n      return jsonData.map(v => filterVal.map(j => v[j]));\r\n    },\r\n    // 行商品详情导出\r\n    downloadItem(row) {\r\n      this.request(this.api.order.storeAllotOrderProductInfo_list, {\r\n        orderSn: row.orderSn\r\n      }).then(data => {\r\n        this.downloadDataInit(data.data);\r\n        let downloadData = data.data;\r\n        require.ensure([], () => {\r\n          let { export_json_to_excel } = require(\"@/vendor/Export2Excel\");\r\n          let tHeader = [\r\n            \"商品款号\",\r\n            \"商品货号\",\r\n            \"名称\",\r\n            \"品牌\",\r\n            \"吊牌价\",\r\n            \"调拨单价\",\r\n            \"调拨数量\",\r\n            \"调拨金额\",\r\n            \"门店实发数量\",\r\n            \"门店实收数量\"\r\n          ];\r\n          // 上面设置Excel的表格第一行的标题\r\n          let filterVal = [\r\n            \"productCode\",\r\n            \"goodsCode\",\r\n            \"goodsName\",\r\n            \"brandName\",\r\n            \"_retailPrice\",\r\n            \"_allotPrice\",\r\n            \"quantity\",\r\n            \"_amount\",\r\n            \"shipmentsQty\",\r\n            \"receiveQty\"\r\n          ];\r\n          // 上面的index、nickName、name是tableData里对象的属性\r\n          let list = downloadData; //把data里的tableData存到list\r\n          let data = this.formatJson(filterVal, list);\r\n          export_json_to_excel(tHeader, data, \"调拨商品信息\");\r\n        });\r\n      });\r\n    },\r\n    downloadDataInit(data) {\r\n      if (data && data.length) {\r\n        data.forEach(item => {\r\n          item._retailPrice = \"￥\" + item.retailPrice.toFixed(2);\r\n          item._allotPrice = \"￥\" + item.allotPrice.toFixed(2);\r\n          item._amount = \"￥\" + (item.quantity * item.allotPrice).toFixed(2);\r\n        });\r\n      }\r\n    },\r\n    // 点击搜索\r\n    searchTableData() {\r\n      this.formData.pageIndex = 1;\r\n      this.getTableData();\r\n    },\r\n    searchTableDataIn() {\r\n      this.movingAveragePrice_writeOffDetailsList();\r\n    },\r\n    initFormDataIn() {\r\n      this.formDataStore = {\r\n        // 模糊搜索\r\n        filter: null,\r\n        // 门店id\r\n        storeId: null,\r\n        // 品牌名称\r\n        brandName: null,\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      };\r\n    },\r\n    // 获取列表数据\r\n    getTableData() {\r\n      this.request(this.api.scb.channelWriteOffSettle_list, this.formData).then(\r\n        data => {\r\n          this.initTableData(data.data);\r\n          this.tableData = data;\r\n          data.dataList.data.forEach((item, idnex) => {\r\n            item.updateTime = this.$options.filters.timestampToTime(item.updateTime);\r\n          });\r\n        }\r\n      );\r\n    },\r\n    // 初始化数据 导出使用\r\n    initTableData(data) {\r\n      if (data && data.length) {\r\n        data.forEach(item => {\r\n          item._createTime = this.$options.filters.timestampToTime(\r\n            item.createTime\r\n          );\r\n          item._amount = \"￥\" + item.amount;\r\n          item._difference =\r\n            item.difference === null ? \"--\" : item.difference ? \"是\" : \"否\";\r\n          item._differenceQty =\r\n            item.differenceQty === null ? \"--\" : item.differenceQty;\r\n          item._orderStatus = this.statusToName(item.orderStatus);\r\n        });\r\n      }\r\n    },\r\n    // 获取表格选中的\r\n    tableCheckChange(val) {\r\n      this.checkedTableData = val;\r\n    },\r\n    // 初始查询条件\r\n    initFormData() {\r\n      Object.assign(this.formData, {\r\n        // 结算客户名称\r\n        channelCustomerName: null,\r\n        // 结算类型\r\n        settleTypeName: null,\r\n        // 开始时间\r\n        startTime: null,\r\n        // 结束时间\r\n        endTime: null,\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      });\r\n    },\r\n    // 新增\r\n    addItem() {\r\n      let module = \"/\" + this.$route.path.split(\"/\")[1];\r\n      this.$router.push({\r\n        path: module + \"/order/allotGoods_order_edit\"\r\n      });\r\n    },\r\n    // 查看\r\n    seeItem(row) {\r\n      let module = \"/\" + this.$route.path.split(\"/\")[1];\r\n      this.$router.push({\r\n        path: module + \"/order/sell_order_detail\",\r\n        query: {\r\n          id: row.id\r\n        }\r\n      });\r\n    },\r\n    // 编辑\r\n    editItem(row) {\r\n      let module = \"/\" + this.$route.path.split(\"/\")[1];\r\n      this.$router.push({\r\n        path: module + \"/channel/channel_edit\",\r\n        query: {\r\n          id: row.id,\r\n          outStoreId: row.channelCustomerId,\r\n          orderNum: row.purchaseOrderNum\r\n        }\r\n      });\r\n    },\r\n    // 查看明细\r\n    delItem(row) {\r\n      this.dialogTableVisible = true;\r\n      this.movingAveragePrice_writeOffDetailsList_obj = row;\r\n      this.movingAveragePrice_writeOffDetailsList();\r\n    },\r\n    // 获取供货明细列表\r\n    movingAveragePrice_writeOffDetailsList() {\r\n      Object.assign(this.formDataStore, {\r\n        storeId:this.movingAveragePrice_writeOffDetailsList_obj.channelCustomerId\r\n      })\r\n      this.request(this.api.scb.movingAveragePrice_writeOffDetailsList, \r\n        this.formDataStore\r\n      ).then(data => {\r\n        this.movingAveragePrice_writeOffDetailsList_list = data;\r\n      });\r\n    },\r\n    // 强制完成\r\n    finishItem(row) {\r\n      if(!row.writeOffTotal) {\r\n        this.warn('暂无撤销核销商品！','warning');\r\n        return;\r\n      };\r\n      this.$confirm(\"执行撤销后，本期全部已核销商品将回退到未核销商品中，确认撤销吗？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n      .then(() => {\r\n        this.request(this.api.scb.channelWriteOffSettle_revoke, {\r\n          id: row.id\r\n        }).then(data => {\r\n          this.getTableData();\r\n          this.warn(\"撤销成功！\");\r\n        });\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消\"\r\n        });\r\n      });\r\n    },\r\n    // 备注显示\r\n    remarksItem(row) {\r\n      this.remarksFormData.id = row.id;\r\n      this.remarksFormData.operationRemarks = row.operationRemarks;\r\n      this.remarksDialog = true;\r\n    },\r\n    // 备注提交\r\n    remarksSub() {\r\n      this.$refs.remarksForm.validate(valid => {\r\n        if (valid) {\r\n          this.request(\r\n            this.api.order.storeAllotGoodsOrder_insertRemarks,\r\n            this.remarksFormData\r\n          ).then(data => {\r\n            this.$notify.success({ title: \"成功\", message: \"备注成功\" });\r\n            this.remarksDialog = false;\r\n            this.getTableData();\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 状态转name\r\n    statusToName(val) {\r\n      if (!val && val !== 0) return;\r\n      let item = this.billType.find(item => {\r\n        return item.id === val;\r\n      });\r\n      if (item) {\r\n        return item.name;\r\n      } else {\r\n        return val;\r\n      }\r\n    },\r\n    // 获取发货门店数据\r\n    async getOutStoreList() {\r\n      // 获取userId\r\n      let info = await this.request(this.api.user.get_userinfo, {}, true);\r\n      // 获取直属机构\r\n      let organization = await this.request(\r\n        this.api.user.userCompany_getUserOrgByUserId,\r\n        { userId: info.userId },\r\n        true\r\n      );\r\n      // enableAllocation: 1  (启用门店调拨 后端需要)\r\n      this.request(this.api.retailStore.storeBasic_listBase, {\r\n        organizationId: organization.id,\r\n        enableAllocation: 1\r\n      }).then(data => {\r\n        this.outStoreList = data.data;\r\n      });\r\n    },\r\n    // 获取收货门店数据\r\n    getInStoreList() {\r\n      this.request(this.api.store.storeBasic_listStoreBasic, {}).then(data => {\r\n        this.inStoreList = data.data;\r\n      });\r\n    }\r\n  },\r\n  filters: {},\r\n  // 计算属性\r\n  computed: {},\r\n  // 监听数据变化\r\n  watch: {}\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views/scb/channel"}]}