{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\content\\risk\\examine.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\content\\risk\\examine.vue","mtime":1574160264894},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport PageTable from '@/views/content/components/PageTable.vue';\nimport { timestampToTime } from '@/utils/util';\nexport default {\n  name: 'examine',\n  // 数据\n  data: function data() {\n    return {\n      // 类型默认选中\n      typeActiveIndex: '4',\n      // 状态默认选中\n      stateActiveIndex: '1',\n      // 表格数据\n      tableData: {},\n      formData: {\n        pageIndex: 1,\n        pageSize: 10,\n        type: 4,\n        timingStatus: 1\n      },\n      // 驳回\n      auditRejectDialog: false,\n      auditRejectRow: null,\n      rules: {\n        reason: [{\n          type: 'string',\n          required: true,\n          message: '请输入内容',\n          trigger: 'blur'\n        }]\n      },\n      auditRejectFormData: {\n        reason: '',\n        id: null\n      }\n    };\n  },\n  // 组件\n  components: {\n    PageTable: PageTable\n  },\n  // 初始化数据\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.getData();\n    });\n  },\n  // keepAlive 页面显示时\n  activated: function activated() {\n    this.getData();\n  },\n  // 方法\n  methods: {\n    init: function init() {},\n    // 获取数据\n    getData: function getData() {\n      var _this2 = this;\n\n      this.request(this.api.contentCore.audit_list, this.formData).then(function (data) {\n        if (data.data && data.data.length) {\n          data.data.forEach(function (item) {\n            // 初始显示分类\n            if (item.baseContent && item.baseContent.showIdentifier) {\n              var showIdentifier = item.baseContent.showIdentifier;\n\n              if (showIdentifier.indexOf('$') > -1) {\n                // 获取最后一个分类\n                var items = showIdentifier.split('$')[showIdentifier.split('$').length - 1];\n\n                if (items.split('&').length > 2) {\n                  item.baseContent._categoryName = items.split('&')[items.split('&').length - 1];\n                } else {\n                  item.baseContent._categoryName = null;\n                }\n              } else {\n                if (showIdentifier.split('&').length > 2) {\n                  item.baseContent._categoryName = showIdentifier.split('&')[showIdentifier.split('&').length - 1];\n                } else {\n                  item.baseContent._categoryName = null;\n                }\n              }\n            } // 初始显示标签\n\n            /*if(item.baseContent && item.baseContent.tagList && item.baseContent.tagList.length){\n              item.baseContent.tags = item.baseContent.tagList\n            }else if(item.baseContent && item.baseContent.tags && item.baseContent.tags.length){\n              let tags = item.baseContent.tags\n              if(tags.indexOf('$') > -1){\n                item.baseContent.tags = tags.split('$').map(item => {\n                  return {\n                    name: item\n                  }\n                })\n              }else {\n                item.baseContent.tags = [{\n                  name: tags\n                }]\n              }\n            }else {\n              item.baseContent.tags = []\n            }*/\n\n          });\n        }\n\n        _this2.tableData = data;\n      });\n    },\n    // 审核通过\n    auditPass: function auditPass(row) {\n      var _this3 = this;\n\n      this.$confirm('确认审核通过吗？', '审核', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        showClose: false\n      }).then(function () {\n        _this3.request(_this3.api.contentCore.audit_pass, {\n          id: row.id\n        }).then(function (data) {\n          _this3.$notify.success({\n            title: '成功',\n            message: '审核成功'\n          });\n\n          _this3.getData();\n        });\n      }).catch(function () {});\n    },\n    // 驳回\n    auditReject: function auditReject(row) {\n      this.auditRejectFormData.reason = '';\n      this.auditRejectDialog = true;\n      this.auditRejectRow = row;\n    },\n    // 驳回确认\n    auditRejectSub: function auditRejectSub() {\n      var _this4 = this;\n\n      this.$refs.auditRejectForm.validate(function (valid) {\n        if (valid) {\n          _this4.auditRejectFormData.id = _this4.auditRejectRow.id;\n\n          _this4.request(_this4.api.contentCore.audit_reject, _this4.auditRejectFormData).then(function (data) {\n            _this4.$notify.success({\n              title: '成功',\n              message: '驳回成功'\n            });\n\n            _this4.auditRejectDialog = false;\n            _this4.auditRejectRow = null;\n\n            _this4.getData();\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 强制下线\n    auditOffline: function auditOffline(row) {\n      var _this5 = this;\n\n      this.$confirm('确认强制下线吗？', '强制下线', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        showClose: false\n      }).then(function () {\n        _this5.request(_this5.api.contentCore.audit_offline, {\n          id: row.id\n        }).then(function (data) {\n          _this5.$notify.success({\n            title: '成功',\n            message: '强制下线成功'\n          });\n\n          _this5.getData();\n        });\n      }).catch(function () {});\n    },\n    // 类型切换\n    typeActiveSelect: function typeActiveSelect(index, indexPath, event) {\n      this.formData.pageIndex = 1;\n      this.formData.type = index;\n      this.getData();\n    },\n    // 状态切换\n    stateActiveSelect: function stateActiveSelect(index, indexPath, event) {\n      this.formData.pageIndex = 1; // 等于4时   为全部\n\n      if (index === '4') {\n        this.formData.timingStatus = '';\n      } else {\n        this.formData.timingStatus = index;\n      }\n\n      this.getData();\n    }\n  },\n  // 计算属性\n  computed: {},\n  // 监听数据变化\n  watch: {}\n};",{"version":3,"sources":["examine.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\" scoped>\r\n  @import \"../style/contentPublic.less\";\r\n  .examine{\r\n    .page-main-inner{\r\n      .table-img{width: 60px;height: 60px;}\r\n      .create-time{\r\n        .table-tab{margin-left: 10px;}\r\n      }\r\n      .table-tab{margin-right: 10px;}\r\n      .table-reason{color: #e6a23c;}\r\n    }\r\n  }\r\n</style>\r\n<template>\r\n  <div class=\"examine page-public\">\r\n    <div class=\"page-main\">\r\n      <div class=\"page-main-inner item-margin\">\r\n        <el-menu :default-active=\"typeActiveIndex\" class=\"el-menu-demo page-menu-border\" mode=\"horizontal\" @select=\"typeActiveSelect\">\r\n          <el-menu-item index=\"4\">文章</el-menu-item>\r\n          <el-menu-item index=\"3\">图集</el-menu-item>\r\n          <el-menu-item index=\"2\">小视频</el-menu-item>\r\n          <el-menu-item index=\"1\">视频</el-menu-item>\r\n        </el-menu>\r\n        <div class=\"menu-small\">\r\n          <el-menu :default-active=\"stateActiveIndex\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"stateActiveSelect\">\r\n            <el-menu-item index=\"1\">待审核</el-menu-item>\r\n            <el-menu-item index=\"5\">审核中</el-menu-item>\r\n            <el-menu-item index=\"2\">已通过</el-menu-item>\r\n            <el-menu-item index=\"3\">已驳回</el-menu-item>\r\n            <el-menu-item index=\"4\">全部</el-menu-item>\r\n          </el-menu>\r\n        </div>\r\n        <page-table :form-data=\"formData\" :get-data=\"getData\" :table-data=\"tableData\">\r\n          <el-table :data=\"tableData.data\" style=\"width: 100%\" :show-header=\"false\">\r\n            <el-table-column label=\"\"  width=\"90\">\r\n              <template slot-scope=\"scope\">\r\n                <img :src=\"scope.row.baseContent.coverList[0].url\" alt=\"\" class=\"table-img\" v-if=\"scope.row.baseContent && scope.row.baseContent.coverList.length\">\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"\">\r\n              <template slot-scope=\"scope\">\r\n                <h6>{{scope.row.baseContent.title}}</h6>\r\n                <p class=\"create-time\">{{ scope.row.baseContent.createTime | timestampToTime}}\r\n                  <el-tag size=\"mini\" type=\"info\" class=\"table-tab\" v-if=\"scope.row.baseContent._categoryName\">\r\n                    {{ scope.row.baseContent._categoryName  }}\r\n                  </el-tag>\r\n                </p>\r\n                <el-tag size=\"mini\" type=\"info\" v-for=\"item in scope.row.baseContent.tagList\" :key=\"item\" class=\"table-tab\">{{ item.name }}</el-tag>\r\n                <p v-if=\"scope.row.timingStatus === 3 && scope.row.baseContent.reason\" class=\"table-reason\">驳回理由：<span>{{ scope.row.baseContent.reason }}</span></p>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"300\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button type=\"text\" size=\"small\" @click=\"auditPass(scope.row)\" v-show=\"scope.row.timingStatus === 1\">审核通过</el-button>\r\n                <el-button type=\"text\" size=\"small\" @click=\"auditReject(scope.row)\" v-show=\"scope.row.timingStatus === 1\">驳回</el-button>\r\n                <el-button type=\"text\" size=\"small\" @click=\"auditOffline(scope.row)\" v-show=\"scope.row.timingStatus === 2\">强制下线</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </page-table>\r\n      </div>\r\n    </div>\r\n    <!--驳回信息-->\r\n    <el-dialog title=\"驳回\" :visible.sync=\"auditRejectDialog\" width=\"40%\" :close-on-click-modal=\"false\">\r\n      <el-form :model=\"auditRejectFormData\" :rules=\"rules\" ref=\"auditRejectForm\" label-width=\"130px\" class=\"demo-ruleForm\">\r\n        <el-form-item label=\"请确认驳回原因\" prop=\"reason\">\r\n          <el-input type=\"textarea\" :rows=\"3\" placeholder=\"请输入内容\" v-model=\"auditRejectFormData.reason\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"auditRejectDialog = false\" size=\"small\">取 消</el-button>\r\n        <el-button @click=\"auditRejectSub\" type=\"primary\" size=\"small\">确定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n  import PageTable from '@/views/content/components/PageTable.vue'\r\n  import { timestampToTime } from '@/utils/util'\r\n  export default {\r\n    name: 'examine',\r\n    // 数据\r\n    data() {\r\n      return {\r\n        // 类型默认选中\r\n        typeActiveIndex:'4',\r\n        // 状态默认选中\r\n        stateActiveIndex: '1',\r\n        // 表格数据\r\n        tableData: {},\r\n        formData: {\r\n          pageIndex: 1,\r\n          pageSize: 10,\r\n          type: 4,\r\n          timingStatus: 1\r\n        },\r\n        // 驳回\r\n        auditRejectDialog: false,\r\n        auditRejectRow: null,\r\n        rules: {\r\n          reason: [\r\n            {type: 'string',required: true, message: '请输入内容', trigger: 'blur'}\r\n          ]\r\n        },\r\n        auditRejectFormData: {\r\n          reason: '',\r\n          id: null\r\n        }\r\n      }\r\n    },\r\n    // 组件\r\n    components: {\r\n      PageTable\r\n    },\r\n    // 初始化数据\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        this.getData()\r\n      })\r\n    },\r\n    // keepAlive 页面显示时\r\n    activated() {\r\n      this.getData();\r\n    },\r\n    // 方法\r\n    methods: {\r\n      init(){\r\n\r\n      },\r\n      // 获取数据\r\n      getData(){\r\n        this.request(this.api.contentCore.audit_list, this.formData).then(data => {\r\n          if(data.data && data.data.length){\r\n            data.data.forEach(item => {\r\n              // 初始显示分类\r\n              if(item.baseContent && item.baseContent.showIdentifier){\r\n                let showIdentifier = item.baseContent.showIdentifier\r\n                if(showIdentifier.indexOf('$') > -1){\r\n                  // 获取最后一个分类\r\n                  let items = showIdentifier.split('$')[showIdentifier.split('$').length - 1]\r\n                  if(items.split('&').length > 2){\r\n                    item.baseContent._categoryName = items.split('&')[items.split('&').length - 1]\r\n                  }else{\r\n                    item.baseContent._categoryName = null\r\n                  }\r\n\r\n                }else {\r\n                  if(showIdentifier.split('&').length > 2){\r\n                    item.baseContent._categoryName = showIdentifier.split('&')[showIdentifier.split('&').length - 1]\r\n                  }else{\r\n                    item.baseContent._categoryName = null\r\n                  }\r\n                }\r\n              }\r\n              // 初始显示标签\r\n              /*if(item.baseContent && item.baseContent.tagList && item.baseContent.tagList.length){\r\n                item.baseContent.tags = item.baseContent.tagList\r\n              }else if(item.baseContent && item.baseContent.tags && item.baseContent.tags.length){\r\n                let tags = item.baseContent.tags\r\n                if(tags.indexOf('$') > -1){\r\n                  item.baseContent.tags = tags.split('$').map(item => {\r\n                    return {\r\n                      name: item\r\n                    }\r\n                  })\r\n                }else {\r\n                  item.baseContent.tags = [{\r\n                    name: tags\r\n                  }]\r\n                }\r\n              }else {\r\n                item.baseContent.tags = []\r\n              }*/\r\n            })\r\n          }\r\n          this.tableData = data\r\n        });\r\n      },\r\n      // 审核通过\r\n      auditPass(row){\r\n        this.$confirm('确认审核通过吗？', '审核', {\r\n          confirmButtonText: '确认',\r\n          cancelButtonText: '取消',\r\n          showClose:false\r\n        }).then(() => {\r\n          this.request(this.api.contentCore.audit_pass, {id: row.id}).then(data => {\r\n            this.$notify.success({ title: '成功',message: '审核成功'})\r\n            this.getData()\r\n          });\r\n        }).catch(() => {\r\n        });\r\n\r\n      },\r\n      // 驳回\r\n      auditReject(row){\r\n        this.auditRejectFormData.reason = ''\r\n        this.auditRejectDialog = true\r\n        this.auditRejectRow = row\r\n      },\r\n      // 驳回确认\r\n      auditRejectSub(){\r\n        this.$refs.auditRejectForm.validate((valid) => {\r\n          if (valid) {\r\n            this.auditRejectFormData.id = this.auditRejectRow.id\r\n            this.request(this.api.contentCore.audit_reject, this.auditRejectFormData).then(data => {\r\n              this.$notify.success({ title: '成功',message: '驳回成功'})\r\n              this.auditRejectDialog = false\r\n              this.auditRejectRow = null\r\n              this.getData()\r\n            });\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n\r\n      },\r\n      // 强制下线\r\n      auditOffline(row){\r\n        this.$confirm('确认强制下线吗？', '强制下线', {\r\n          confirmButtonText: '确认',\r\n          cancelButtonText: '取消',\r\n          showClose:false\r\n        }).then(() => {\r\n          this.request(this.api.contentCore.audit_offline, {id: row.id}).then(data => {\r\n            this.$notify.success({ title: '成功',message: '强制下线成功'})\r\n            this.getData()\r\n          });\r\n        }).catch(() => {\r\n        });\r\n\r\n      },\r\n      // 类型切换\r\n      typeActiveSelect(index,indexPath,event) {\r\n        this.formData.pageIndex = 1\r\n        this.formData.type = index\r\n        this.getData()\r\n      },\r\n      // 状态切换\r\n      stateActiveSelect(index,indexPath,event){\r\n        this.formData.pageIndex = 1\r\n        // 等于4时   为全部\r\n        if(index === '4'){\r\n          this.formData.timingStatus = ''\r\n        }else{\r\n          this.formData.timingStatus = index\r\n        }\r\n        this.getData()\r\n      }\r\n    },\r\n    // 计算属性\r\n    computed: {},\r\n    // 监听数据变化\r\n    watch: {}\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/views/content/risk"}]}