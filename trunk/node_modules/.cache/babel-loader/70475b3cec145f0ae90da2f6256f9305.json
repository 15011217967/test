{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\orders\\business\\purchaseReturn\\purchaseReturn_shop.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\orders\\business\\purchaseReturn\\purchaseReturn_shop.vue","mtime":1572415125144},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _toConsumableArray from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport { constants } from \"crypto\";\nimport treeDept from \"@/components/treeDept\";\nimport { debuglog } from \"util\";\nvar sourceCategoryList = [];\nexport default {\n  components: {\n    treeDept: treeDept\n  },\n  data: function data() {\n    return {\n      //控制继续选择\n      showContineBtn: true,\n      // 获取商品参数\n      formInline: {\n        //全部商品--当前页\n        pageIndex: 1,\n        //全部商品--当前页显示数据\n        pageSize: 30,\n        //输入的搜索内容\n        searchWords: \"\",\n        //所属机构\n        tenantId: \"\",\n        //分类的Id\n        cateIdentifier: \"\",\n        //记录选中的品牌id\n        brandId: \"\",\n        //是否查询有效状态值(1-有效库存 0-所有商品)\n        validStock: 1,\n        warehouseCode: ''\n      },\n\n      /**\r\n       * 分类\r\n       **/\n      // 分类数据\n      categoryList: [],\n      //是否显示上拉箭头\n      isArrowShowUp: false,\n      //分类的初始高度\n      allCategoryHeight: true,\n      //三级更多分类品牌icon的下标\n      isRightCategory: true,\n      //记录品牌icon的下标   分类的icon下标\n      categoryIndex: -1,\n\n      /**\r\n       * 品牌\r\n       **/\n      //品牌数据\n      allBrandDataArr: [],\n      //全部的下标\n      allBrand_index: -1,\n      //全部下的分类下标\n      brand_index: -1,\n      //更多品牌的初始高度\n      initialHeight: true,\n      // 品牌的下拉箭头\n      allBrand: false,\n\n      /**\r\n       * 商品\r\n       **/\n      //商品名称\n      shopName: \"\",\n      //全部商品数据\n      productData: [],\n      //全部商品总数\n      allProductCount: \"\",\n      //标识是否展开选中商品的数据\n      isShowBottomTableModel: false,\n      //底部弹起的data的数据  选中商品的数据\n      bottomTableData: [],\n      //临时的底部数据（单独给取消使用）\n      bottomTempTableData: [],\n      //是否显示动画\n      showZoomTable: false,\n      //请求的tabbleData数据  根据商品类型查询的商品数据\n      productGoodsData: [],\n      //总的数量 商品选中的\n      allTotal: 0\n    };\n  },\n  created: function created() {\n    //得到货主信息\n    this.formInline.tenantId = this.$route.query.tenantId; //得到机构名称\n\n    this.organizationName = this.$route.query.organizationName; //得到仓库Id\n\n    this.formInline.warehouseCode = this.$route.query.warehouseId; //得到仓库名称\n\n    this.warehouseName = this.$route.query.warehouseName; //得到全部品牌数据\n\n    this.getProductBrandListData(); //得到分类品牌数据\n\n    this.getCategoryListData(); //得到全部商品数据\n\n    this.getProductAvailableQuantityListData();\n  },\n  mounted: function mounted() {\n    this.pageShow();\n  },\n  filters: {\n    categoryNumber: function categoryNumber(val) {\n      switch (val) {\n        case 1:\n          return \"一\";\n          break;\n\n        case 2:\n          return \"二\";\n          break;\n\n        case 3:\n          return \"三\";\n          break;\n\n        case 4:\n          return \"四\";\n          break;\n      }\n    }\n  },\n  methods: {\n    // 初始化\n    pageShow: function pageShow() {\n      var _this = this;\n\n      if (localStorage.getItem(\"localTableData\")) {\n        this.bottomTableData = JSON.parse(localStorage.getItem(\"localTableData\"));\n        this.allTotal = 0;\n        this.bottomTableData.forEach(function (item) {\n          _this.allTotal += item.num;\n        });\n      }\n    },\n    //点击回车键发起搜索\n    searchShopWithKey: function searchShopWithKey() {\n      this.getProductAvailableQuantityListData();\n    },\n    //返回新增页面\n    backToPreRoute: function backToPreRoute() {\n      // this.successBtnClickEvent()\n      // this.$router.push({\n      //   path: \"/ditch_add\"\n      // });\n      this.cancleBtnClcikEventToBackPrePage();\n    },\n\n    /**\r\n     * 分类\r\n     **/\n    //得到分类数据\n    getCategoryListData: function getCategoryListData() {\n      var _this2 = this;\n\n      this.request(this.api.product.categories_list, {\n        type: 1\n      }).then(function (data) {\n        //存储分类品牌数据\n        var _data = data.data;\n        var level = 0;\n\n        var calssArr = _this2.getCurrentCategoryClassArr(_data, level);\n\n        sourceCategoryList = _toConsumableArray(calssArr);\n        _this2.categoryList = calssArr;\n\n        for (var i = 0; i < _this2.categoryList.length; i++) {\n          if (i < 3) {\n            _this2.categoryList[i].view = true;\n          }\n\n          if (i >= 3) {\n            _this2.categoryList[i].view = false;\n          }\n        }\n      });\n    },\n    //分类的点击事件\n    categoryBrandLiClick: function categoryBrandLiClick(item, index, elem, _index) {\n      // 重置商品全部选中\n      this.allBrand_index = -1;\n      this.brand_index = -1;\n      this.formInline.brandId = '';\n      this.formInline.pageIndex = 1;\n      item.isSelect = false;\n      item.identifier = elem.identifier; //替换样式\n\n      for (var k = 0; k < item.list.length; k++) {\n        item.list[k]._type = false;\n      }\n\n      elem._type = true; // 如果是最后一级 不再刷新分类\n\n      if (index != this.categoryList.length - 1) {\n        // 刷新分类\n        this.getCurrentCategoryChildData(index, elem);\n      } // 获取选中的分类\n\n\n      this.formInline.cateIdentifier = elem.identifier; // 刷新品牌\n\n      this.getProductBrandListData(); // 刷新商品数据\n\n      this.getProductAvailableQuantityListData();\n    },\n    // 初始化分类数据\n    getCurrentCategoryClassArr: function getCurrentCategoryClassArr(__data, _level) {\n      var arr = [];\n\n      function getClassArr(__data, _level) {\n        var arr1 = [],\n            arr2 = [];\n\n        for (var i = 0; i < __data.length; i++) {\n          if (_level == __data[i].level) {\n            arr1.push(__data[i]);\n          } else if (_level < __data[i].level) {\n            arr2.push(__data[i]);\n          }\n        }\n\n        arr.push({\n          isSelect: true,\n          list: arr1,\n          identifier: '',\n          level: _level\n        });\n\n        if (arr2.length > 0) {\n          _level++;\n          getClassArr(arr2, _level);\n        }\n      }\n\n      getClassArr(__data, _level);\n      return arr;\n    },\n    //得到当前点击子类下的所有子类数据\n    getCurrentCategoryChildData: function getCurrentCategoryChildData(index, elem) {\n      var _this3 = this;\n\n      this.request(this.api.product.categories_list, {\n        type: 1,\n        identifier: elem.identifier\n      }).then(function (res) {\n        var _data = res.data;\n        var level = elem.level;\n\n        var list = _this3.getCurrentCategoryClassArr(_data, level + 1);\n\n        if (list.length > 0) {\n          var _this3$categoryList;\n\n          (_this3$categoryList = _this3.categoryList).splice.apply(_this3$categoryList, [index + 1, sourceCategoryList.length - 1].concat(_toConsumableArray(list)));\n        } else {\n          _this3.categoryList.splice(index + 1, sourceCategoryList.length - 1, {\n            isSelect: true,\n            list: []\n          });\n        }\n\n        for (var i = 0; i < _this3.categoryList.length; i++) {\n          if (i < 3) {\n            _this3.categoryList[i].view = true;\n          }\n\n          if (i >= 3) {\n            _this3.categoryList[i].view = false;\n          }\n        }\n      });\n    },\n    //分类的全部按钮\n    categoryAllClick: function categoryAllClick(item, index, e) {\n      // 选中全部\n      item.isSelect = true; // 页码重置\n\n      this.formInline.pageIndex = 1; // 初始该行下的分类全部不选中\n\n      for (var k = 0; k < item.list.length; k++) {\n        item.list[k]._type = false;\n      } // 如果当前行有选中分类\n\n\n      if (item.identifier) {\n        // 重置\n        item.identifier = '';\n      } // 重置商品全部选中\n\n\n      this.allBrand_index = -1;\n      this.brand_index = -1;\n      this.formInline.brandId = '';\n      this.formInline.pageIndex = 1; // 获取上级选中的分类\n\n      var identifier = this.getCheckCategory(index);\n\n      if (identifier) {\n        this.formInline.cateIdentifier = identifier;\n      } else {\n        this.formInline.cateIdentifier = '';\n      } // 如果是最后一级 不再刷新分类\n\n\n      if (index != this.categoryList.length - 1) {\n        // 刷新分类\n        this.getCurrentCategoryChildData(index, item);\n      } // 刷新品牌\n\n\n      this.getProductBrandListData(); // 刷新商品数据\n\n      this.getProductAvailableQuantityListData();\n    },\n    // 分类-更换箭头icon\n    categoryMoreClick: function categoryMoreClick(index) {\n      console.log(index);\n\n      if (this.categoryIndex == index) {\n        this.categoryIndex = -1;\n        return;\n      }\n\n      this.categoryIndex = index;\n    },\n    //三级更多分类-点击事件-更换icon\n    categoryMoreRightClick: function categoryMoreRightClick(index) {\n      this.isRightCategory = !this.isRightCategory;\n      console.log(this.isRightCategory);\n\n      if (!this.isRightCategory) {\n        for (var i = 0; i < this.categoryList.length; i++) {\n          this.categoryList[i].view = true;\n        }\n      } else {\n        for (var i = 0; i < this.categoryList.length; i++) {\n          if (i < 3) {\n            this.categoryList[i].view = true;\n          }\n\n          if (i >= 3) {\n            this.categoryList[i].view = false;\n          }\n        }\n      }\n    },\n    // 获取选中的分类  index   该行的index\n    getCheckCategory: function getCheckCategory(index) {\n      if (index == 0) {\n        return '';\n      }\n\n      var identifier = '',\n          length;\n\n      if (index) {\n        length = index;\n      } else {\n        length = this.categoryList.length;\n      }\n\n      for (var i = length; i > -1; i--) {\n        if (this.categoryList[i].identifier) {\n          identifier = this.categoryList[i].identifier;\n          break;\n        }\n      }\n\n      return identifier;\n    },\n\n    /**\r\n     * 品牌\r\n     */\n    //得到品牌的全部数据\n    getProductBrandListData: function getProductBrandListData() {\n      var _this4 = this;\n\n      this.request(this.api.product.productBrand_listForCate, {\n        cateIdentifier: this.formInline.cateIdentifier\n      }).then(function (res) {\n        _this4.allBrandDataArr = res.data;\n      });\n    },\n    //全部品牌的全部点击事件\n    allBrandShopClick: function allBrandShopClick() {\n      this.allBrand_index = -1;\n      this.brand_index = -1;\n      this.formInline.brandId = '';\n      this.formInline.pageIndex = 1;\n      this.getProductAvailableQuantityListData();\n    },\n    //全部品牌的里面的每一个品牌的点击事件\n    allBrandLiClickEvent: function allBrandLiClickEvent(index) {\n      this.allBrand_index = 0;\n      this.brand_index = index;\n      this.formInline.pageIndex = 1; //记录选中的品牌id\n\n      this.formInline.brandId = this.allBrandDataArr[index].id; //点击全部品牌里面的品牌时，发送id请求数据\n\n      this.getProductAvailableQuantityListData();\n    },\n    //更多品牌-更换箭头icon\n    showArrowUpClick: function showArrowUpClick() {\n      this.isArrowShowUp = !this.isArrowShowUp; // this.initialHeight=!this.initialHeight\n\n      this.allBrand = !this.allBrand;\n    },\n\n    /**\r\n     * 商品\r\n     */\n    //得到全部商品数据\n    getProductAvailableQuantityListData: function getProductAvailableQuantityListData() {\n      var _this5 = this;\n\n      // pageStart:1,pageSize:30\n      this.request(this.api.product.product_listAvailableQuantityForProduct, this.formInline).then(function (data) {\n        // let concatData = this.productData.concat(data.data);\n        _this5.productData = data.data;\n        _this5.allProductCount = data.totalCount;\n      });\n    },\n    //点击了加号按钮\n    addLabelClickEvent: function addLabelClickEvent(currentShopId, index) {\n      var _this6 = this;\n\n      this.request(this.api.product.productGoods_listAvailableQuantityForProductGoods, {\n        productId: currentShopId,\n        tenantId: this.formInline.tenantId,\n        warehouseCode: this.formInline.warehouseCode,\n        validStock: 1\n      }).then(function (data) {\n        var _data = data.data;\n\n        _data.forEach(function (item, index) {\n          item.num = \"0\";\n        });\n\n        var _bottomData = _this6.bottomTableData,\n            _bottomDataLen = _bottomData.length;\n\n        for (var i = 0; i < _bottomDataLen; i++) {\n          for (var j = 0; j < _data.length; j++) {\n            if (_data[j].id == _bottomData[i].id) {\n              _data[j].num = _bottomData[i].num;\n            }\n          }\n        }\n\n        _this6.productGoodsData = _data; //得到当前数据的index\n\n        _this6.shopName = _this6.productData[index].name; //显示底部table表格\n\n        _this6.showZoomTable = true; //显示继续选择按钮\n\n        _this6.showContineBtn = false;\n      });\n    },\n    //展开按钮的点击事件\n    clickShowBottomModel: function clickShowBottomModel() {\n      this.showZoomTable = false;\n      this.isShowBottomTableModel = !this.isShowBottomTableModel;\n    },\n    //本地缓存选中的商品数据\n    bottomShopNumberChange: function bottomShopNumberChange(val) {\n      var _this7 = this;\n\n      this.$nextTick(function () {\n        _this7.bottomTableData = _this7.bottomTableData.filter(function (item) {\n          return item.num && item.num != 0;\n        });\n\n        if (_this7.bottomTableData.length == 0) {\n          _this7.clickShowBottomModel();\n        }\n\n        _this7.allTotal = 0;\n\n        _this7.bottomTableData.forEach(function (item) {\n          _this7.allTotal += item.num;\n        });\n      });\n    },\n\n    /**\r\n     * 提交\r\n     */\n    //确认按钮的点击事件\n    successBtnClickEvent: function successBtnClickEvent() {\n      this.showZoomTable = false;\n      var content = 0;\n\n      for (var i = 0; i < this.bottomTableData.length; i++) {\n        content += this.bottomTableData[i].num * this.bottomTableData[i].purchasePrice;\n      }\n\n      var filterBottomData = this.bottomTableData.filter(function (item) {\n        return item.num != 0;\n      });\n      this.bottomTableData = filterBottomData; //存储商品总金额过去\n\n      localStorage.setItem(\"allShopPrice\", content);\n      localStorage.setItem(\"localTableData\", JSON.stringify(this.bottomTableData));\n      localStorage.removeItem('type');\n      this.$router.go(-1); //  this.$router.push({\n      //   path: \"/ditch_add\"\n      // });\n    },\n    //点击取消返回上级页面\n    cancleBtnClcikEventToBackPrePage: function cancleBtnClcikEventToBackPrePage() {\n      localStorage.removeItem(\"type\");\n      this.$router.go(-1); // this.$router.push({\n      //   path: \"/ditch_add\"\n      // })\n    },\n    //取消按钮的点击事件\n    cancleBtnClcikEvent: function cancleBtnClcikEvent() {\n      this.showZoomTable = false;\n      this.isShowBottomTableModel = false; //显示继续选择按钮\n\n      this.showContineBtn = true;\n    },\n    //继续选择\n    continueBtnClickEvent: function continueBtnClickEvent() {\n      var _this8 = this;\n\n      this.showZoomTable = false; //显示继续选择按钮\n\n      this.showContineBtn = true;\n\n      for (var i = 0; i < this.productGoodsData.length; i++) {\n        var goodsDataId = this.productGoodsData[i].id;\n\n        for (var j = 0; j < this.bottomTableData.length; j++) {\n          if (this.bottomTableData[j].id === goodsDataId) {\n            //说明已经存在该Id\n            this.bottomTableData[j].num = this.productGoodsData[i].num;\n\n            if (i == this.productGoodsData.length - 1) {\n              return;\n            } else {\n              break;\n            }\n          }\n        }\n      } //确认选择加入购物车\n\n\n      this.bottomTableData = this.bottomTableData.concat(this.productGoodsData); //计算已添加的数量\n\n      this.allTotal = 0;\n      this.bottomTableData.forEach(function (item) {\n        _this8.allTotal += item.num;\n      }); //将数据存储本地\n      // localStorage.setItem(\"localTableData\",JSON.stringify(this.bottomTableData));\n    },\n    shopNumberChange: function shopNumberChange(val) {},\n    //监听滚动事件,懒加载\n    shopContentScroll: function shopContentScroll(e) {\n      var _this9 = this;\n\n      this.$nextTick(function () {\n        var el = _this9.$refs.shopContent;\n        var offsetHeight = el.offsetHeight;\n        var scrollTop = el.scrollTop;\n        var scrollHeight = el.scrollHeight;\n        var allPage = Math.ceil(_this9.allProductCount / _this9.formInline.pageSize);\n\n        if (offsetHeight + scrollTop - scrollHeight >= -1) {\n          //判断当前页是否小于总页数\n          if (_this9.formInline.pageIndex <= allPage) {\n            _this9.formInline.pageIndex++; // this.getProductAvailableQuantityListData();\n\n            _this9.request(_this9.api.product.product_listAvailableQuantityForProduct, _this9.formInline).then(function (data) {\n              var concatData = _this9.productData.concat(data.data);\n\n              _this9.productData = concatData;\n            });\n          } else {\n            console.log(\"已经没有新数据了。。。。。\");\n          }\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["purchaseReturn_shop.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"base\">\r\n    <div class=\"title\">\r\n      <i class=\"el-icon-back\" @click=\"backToPreRoute\"></i>\r\n      <span>选择商品</span>\r\n    </div>\r\n    <!--主题-->\r\n    <div class=\"content\">\r\n      <!--查询条件-->\r\n      <div class=\"organizationVal-div\">\r\n        <el-form :inline=\"true\" :model=\"formInline\">\r\n          <el-form-item label=\"所属机构：\" label-width=\"130px\">\r\n            <treeDept v-model=\"formInline.tenantId\"></treeDept>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-input\r\n              v-model=\"formInline.searchWords\"\r\n              @keyup.enter.native=\"searchShopWithKey\"\r\n              placeholder=\"请输入搜索内容\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <!--分类-->\r\n      <span class=\"category-span\">分类</span>\r\n      <div class=\"category-span-all\" :style=\"{'min-height':allCategoryHeight?'180px':''}\">\r\n        <div v-for=\"(item,index) in categoryList\" :key=\"index\">\r\n          <div class=\"all\" v-show=\"item.view\" v-if=\"item.list && item.list.length > 0\">\r\n            <div class=\"shop-brand\">\r\n              <span>{{index+1 | categoryNumber}}级分类：</span>\r\n              <span\r\n                class=\"i-cursor\"\r\n                @click=\"categoryAllClick(item,index,$event)\"\r\n                :class=\"item.isSelect?'selcte_color':'normal_color'\"\r\n              >全部</span>\r\n            </div>\r\n            <div class=\"all-brand\" :style=\"{'height':categoryIndex!=index?'25px':''}\">\r\n              <ul>\r\n                <li\r\n                  v-for=\"(elem,_index) in item.list\"\r\n                  :class=\"elem._type ==true?'selcte_color':'normal_color'\"\r\n                  @click.stop=\"categoryBrandLiClick(item,index,elem,_index)\"\r\n                  :key=\"_index\"\r\n                >{{elem.name}}</li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"category-more\" @click=\"categoryMoreClick(index)\">\r\n              <span>更多</span>\r\n              <i v-if=\"categoryIndex!=index\" class=\"el-icon-arrow-down\"></i>\r\n              <i v-else class=\"el-icon-arrow-up\"></i>\r\n            </div>\r\n            <div class=\"category-more\" v-show=\"index==2\" @click=\"categoryMoreRightClick(index)\">\r\n              <span>更多分类</span>\r\n              <i v-show=\"isRightCategory\" class=\"el-icon-arrow-down\"></i>\r\n              <i v-show=\"!isRightCategory\" class=\"el-icon-arrow-up\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--区分线-->\r\n      <label class='line'></label>\r\n      <!--品牌列表-->\r\n      <span class=\"brand-span\">品牌</span>\r\n      <div class=\"all\">\r\n        <div class=\"shop-brand \">\r\n          <span>商品品牌：</span>\r\n          <span\r\n            @click=\"allBrandShopClick\"\r\n            :class=\"allBrand_index==-1?'selcte_color':'normal_color'\"\r\n          >全部</span>\r\n        </div>\r\n        <div :class=\"allBrand?'all-brand-p item-b':'all-brand-p item-n'\" >\r\n          <ul>\r\n            <li\r\n              :class=\"brand_index==index?'selcte_color':'normal_color'\"\r\n              v-for=\"(item,index) in allBrandDataArr\"\r\n              @click.stop=\"allBrandLiClickEvent(index)\"\r\n              :key=\"index\"\r\n            >{{item.name}}</li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"all-brand-more\" @click=\"showArrowUpClick\">\r\n          <span>更多品牌</span>\r\n          <i v-show=\"!isArrowShowUp\" class=\"el-icon-arrow-down\"></i>\r\n          <i v-show=\"isArrowShowUp\" class=\"el-icon-arrow-up\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--商品-->\r\n    <div class=\"shop\">\r\n      <div class=\"tip-title\">\r\n        <span>全部></span>\r\n        <span>已加入{{allTotal}}件商品</span>\r\n      </div>\r\n      <div class=\"shop-content\" @scroll=\"shopContentScroll\" ref=\"shopContent\">\r\n        <!-- 显示独立数据 -->\r\n        <div class=\"show-specific-shop\" v-for=\"(item,index) in productData\" :key=\"index\">\r\n          <div>\r\n            <img :src=\"item.image\" alt=\"占位图\">\r\n          </div>\r\n          <div class=\"shop-specific-title\">\r\n            <span>{{item.name}}</span>\r\n            <span>吊牌价：{{item.retailPrice}}</span>\r\n            <span style=\"font-size:12px;\">库存量：{{item.stock}}</span>\r\n          </div>\r\n          <label class=\"add_icon\" @click=\"addLabelClickEvent(item.id,index)\">＋</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--统计-->\r\n    <div class=\"bottom_view\" v-if=\"showContineBtn\">\r\n      <div class=\"left-bottom\">\r\n        <span>合计商品件数：</span>\r\n        <span>{{allTotal}}</span>\r\n        <span>件</span>\r\n        <span\r\n          v-if=\"bottomTableData.length>0\"\r\n          @click=\"clickShowBottomModel\"\r\n        >{{isShowBottomTableModel?'收起':'展开'}}</span>\r\n      </div>\r\n      <div class=\"right-bottom\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"successBtnClickEvent\">确认</el-button>\r\n        <el-button plain size=\"small\" @click=\"cancleBtnClcikEventToBackPrePage\">取消</el-button>\r\n      </div>\r\n    </div>\r\n    <!--提交-->\r\n    <div class=\"bottom_view\" v-else>\r\n      <div class=\"contine-btn\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"continueBtnClickEvent\">继续选择</el-button>\r\n        <el-button plain size=\"small\" @click=\"cancleBtnClcikEvent\">取消</el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <!--根据商品类型查询的商品数据-->\r\n    <transition name=\"el-zoom-in-bottom\">\r\n      <div v-show=\"showZoomTable\" class=\"transition-table\">\r\n        <span style=\"display:inline-block;margin:10px 0 10px 10px;\">{{shopName}}</span>\r\n        <div class=\"table-div\">\r\n          <el-table :data=\"productGoodsData\" header-row-class-name=\"item-table-header\" width=\"100%\">\r\n            <el-table-column prop label=\"商品图片\" width=\"100\">\r\n              <template slot-scope=\"scope\">\r\n                <img :src=\"scope.row.image\" style=\"width:64px;height:64px;\">\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"name\" label=\"商品名称\" align=\"center\"></el-table-column>\r\n            <el-table-column prop label=\"商品类型\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <span>{{scope.row.type!=null?scope.row.type:'成品'}}</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"brandName\" label=\"品牌\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"fullCateName\" label=\"商品类目\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"code\" label=\"商品货号\" align=\"center\"></el-table-column>\r\n            <el-table-column prop label=\"规格属性\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <span>颜色：{{scope.row.color}}</span>\r\n                <br>\r\n                <span>尺寸：{{scope.row.size}}</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"availableQuantity\" label=\"库存数量\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"retailPrice\" label=\"吊牌价\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"stock\" label=\"数量\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input-number\r\n                  v-model=\"scope.row.num\"\r\n                  @change=\"shopNumberChange\"\r\n                  :min=\"0\"\r\n                  :max=\"scope.row.availableQuantity\"\r\n                  style=\"width:150px;line-height:30px;\"\r\n                  v-enter-number\r\n                ></el-input-number>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <!-- 展示的是本地缓存的数据 -->\r\n    <!--选中的商品-->\r\n    <transition name=\"el-zoom-in-bottom\">\r\n      <div v-show=\"isShowBottomTableModel\" class=\"transition-table\">\r\n        <!-- <span style=\"display:inline-block;margin:10px 0 10px 10px;\">{{shopName}}</span> -->\r\n        <div class=\"table-div\">\r\n          <el-table\r\n            :data=\"bottomTableData\"\r\n            style=\"width: 100%\"\r\n             height=\"250\"\r\n            header-row-class-name=\"item-table-header\"\r\n          >\r\n            <el-table-column prop=\"date\" label=\"商品图片\" width=\"160\">\r\n              <template slot-scope=\"scope\">\r\n                <img :src=\"scope.row.image\" style=\"width:64px;height:64px;\">\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"name\" label=\"商品名称\" width=\"150\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"code\" label=\"商品货号\" width=\"260\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"color\" label=\"商品规格\" width=\"260\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <span>颜色：{{scope.row.color}}</span>\r\n                <br>\r\n                <span>尺寸：{{scope.row.size}}</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"retailPrice\" label=\"单价\" width=\"160\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"stock\" label=\"数量\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input-number\r\n                  v-model=\"scope.row.num\"\r\n                  @change=\"bottomShopNumberChange\"\r\n                  :min=\"0\"\r\n                  :max=\"scope.row.availableQuantity\"\r\n                  style=\"width:150px;line-height:30px;\"\r\n                  v-enter-number\r\n                ></el-input-number>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { constants } from \"crypto\";\r\nimport treeDept from \"@/components/treeDept\";\r\nimport { debuglog } from \"util\";\r\nlet sourceCategoryList = [];\r\nexport default {\r\n  components: {\r\n    treeDept\r\n  },\r\n  data() {\r\n    return {\r\n      //控制继续选择\r\n      showContineBtn: true,\r\n      // 获取商品参数\r\n      formInline: {\r\n        //全部商品--当前页\r\n        pageIndex: 1,\r\n        //全部商品--当前页显示数据\r\n        pageSize: 30,\r\n        //输入的搜索内容\r\n        searchWords: \"\",\r\n        //所属机构\r\n        tenantId: \"\",\r\n        //分类的Id\r\n        cateIdentifier: \"\",\r\n        //记录选中的品牌id\r\n        brandId: \"\",\r\n        //是否查询有效状态值(1-有效库存 0-所有商品)\r\n        validStock:1,\r\n        warehouseCode:''\r\n      },\r\n\r\n      /**\r\n       * 分类\r\n       **/\r\n      // 分类数据\r\n      categoryList: [],\r\n      //是否显示上拉箭头\r\n      isArrowShowUp:false,\r\n      //分类的初始高度\r\n      allCategoryHeight:true,\r\n      //三级更多分类品牌icon的下标\r\n      isRightCategory:true,\r\n      //记录品牌icon的下标   分类的icon下标\r\n      categoryIndex:-1,\r\n\r\n      /**\r\n       * 品牌\r\n       **/\r\n      //品牌数据\r\n      allBrandDataArr: [],\r\n      //全部的下标\r\n      allBrand_index: -1,\r\n      //全部下的分类下标\r\n      brand_index: -1,\r\n      //更多品牌的初始高度\r\n      initialHeight:true,\r\n      // 品牌的下拉箭头\r\n      allBrand:false,\r\n\r\n      /**\r\n       * 商品\r\n       **/\r\n      //商品名称\r\n      shopName: \"\",\r\n      //全部商品数据\r\n      productData: [],\r\n      //全部商品总数\r\n      allProductCount: \"\",\r\n      //标识是否展开选中商品的数据\r\n      isShowBottomTableModel: false,\r\n      //底部弹起的data的数据  选中商品的数据\r\n      bottomTableData: [],\r\n      //临时的底部数据（单独给取消使用）\r\n      bottomTempTableData:[],\r\n      //是否显示动画\r\n      showZoomTable: false,\r\n      //请求的tabbleData数据  根据商品类型查询的商品数据\r\n      productGoodsData: [],\r\n      //总的数量 商品选中的\r\n      allTotal: 0,\r\n    };\r\n  },\r\n  created() {\r\n    //得到货主信息\r\n    this.formInline.tenantId = this.$route.query.tenantId;\r\n    //得到机构名称\r\n    this.organizationName = this.$route.query.organizationName;\r\n    //得到仓库Id\r\n    this.formInline.warehouseCode = this.$route.query.warehouseId;\r\n    //得到仓库名称\r\n    this.warehouseName = this.$route.query.warehouseName;\r\n    //得到全部品牌数据\r\n    this.getProductBrandListData();\r\n    //得到分类品牌数据\r\n    this.getCategoryListData();\r\n    //得到全部商品数据\r\n    this.getProductAvailableQuantityListData();\r\n  },\r\n  mounted() {\r\n    this.pageShow();\r\n  },\r\n  filters: {\r\n    categoryNumber(val) {\r\n      switch (val) {\r\n        case 1:\r\n          return \"一\";\r\n          break;\r\n        case 2:\r\n          return \"二\";\r\n          break;\r\n        case 3:\r\n          return \"三\";\r\n          break;\r\n        case 4:\r\n          return \"四\";\r\n          break;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 初始化\r\n    pageShow() {\r\n      if (localStorage.getItem(\"localTableData\")) {\r\n        this.bottomTableData = JSON.parse(\r\n          localStorage.getItem(\"localTableData\")\r\n        );\r\n        this.allTotal=0\r\n        this.bottomTableData.forEach(item=>{\r\n          this.allTotal+=item.num\r\n        })\r\n      }\r\n    },\r\n    //点击回车键发起搜索\r\n    searchShopWithKey() {\r\n      this.getProductAvailableQuantityListData();\r\n    },\r\n    //返回新增页面\r\n    backToPreRoute() {\r\n      // this.successBtnClickEvent()\r\n      // this.$router.push({\r\n      //   path: \"/ditch_add\"\r\n      // });\r\n\r\n      this.cancleBtnClcikEventToBackPrePage()\r\n    },\r\n\r\n    /**\r\n     * 分类\r\n     **/\r\n    //得到分类数据\r\n    getCategoryListData() {\r\n      this.request(this.api.product.categories_list, { type: 1 }).then(data => {\r\n        //存储分类品牌数据\r\n        let _data = data.data;\r\n        let level = 0;\r\n        let calssArr = this.getCurrentCategoryClassArr(_data, level);\r\n        sourceCategoryList = [...calssArr];\r\n        this.categoryList = calssArr;\r\n        for (var i = 0; i < this.categoryList.length; i++) {\r\n          if (i < 3) {\r\n            this.categoryList[i].view = true;\r\n          }\r\n          if (i >= 3) {\r\n            this.categoryList[i].view = false;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    //分类的点击事件\r\n    categoryBrandLiClick(item, index, elem, _index) {\r\n      // 重置商品全部选中\r\n      this.allBrand_index = -1;\r\n      this.brand_index = -1;\r\n      this.formInline.brandId = ''\r\n      this.formInline.pageIndex=1\r\n      item.isSelect = false;\r\n      item.identifier = elem.identifier\r\n      //替换样式\r\n      for (let k = 0; k < item.list.length; k++) {\r\n        item.list[k]._type = false;\r\n      }\r\n      elem._type = true;\r\n      // 如果是最后一级 不再刷新分类\r\n      if (index != this.categoryList.length - 1) {\r\n        // 刷新分类\r\n        this.getCurrentCategoryChildData(index, elem);\r\n      }\r\n      // 获取选中的分类\r\n      this.formInline.cateIdentifier = elem.identifier\r\n      // 刷新品牌\r\n      this.getProductBrandListData()\r\n      // 刷新商品数据\r\n      this.getProductAvailableQuantityListData();\r\n    },\r\n    // 初始化分类数据\r\n    getCurrentCategoryClassArr(__data, _level) {\r\n      let arr = [];\r\n      function getClassArr(__data, _level) {\r\n        let arr1 = [],\r\n          arr2 = [];\r\n        for (let i = 0; i < __data.length; i++) {\r\n          if (_level == __data[i].level) {\r\n            arr1.push(__data[i]);\r\n          } else if(_level < __data[i].level ){\r\n            arr2.push(__data[i]);\r\n          }\r\n        }\r\n        arr.push({ isSelect: true, list: arr1, identifier: '', level: _level});\r\n        if (arr2.length > 0) {\r\n          _level++;\r\n          getClassArr(arr2, _level);\r\n        }\r\n      }\r\n      getClassArr(__data, _level);\r\n      return arr;\r\n    },\r\n    //得到当前点击子类下的所有子类数据\r\n    getCurrentCategoryChildData(index, elem) {\r\n      this.request(this.api.product.categories_list, {\r\n        type: 1,\r\n        identifier: elem.identifier\r\n      }).then(res => {\r\n        let _data = res.data;\r\n        let level = elem.level;\r\n        let list = this.getCurrentCategoryClassArr(_data, level+1);\r\n        if (list.length > 0) {\r\n          this.categoryList.splice(index + 1,sourceCategoryList.length-1, ...list);\r\n        }else{\r\n          this.categoryList.splice(index + 1,sourceCategoryList.length-1,{ isSelect: true, list: [] });\r\n        }\r\n        for (var i = 0; i < this.categoryList.length; i++) {\r\n          if (i < 3) {\r\n            this.categoryList[i].view = true;\r\n          }\r\n          if (i >= 3) {\r\n            this.categoryList[i].view = false;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    //分类的全部按钮\r\n    categoryAllClick(item, index, e) {\r\n      // 选中全部\r\n      item.isSelect = true\r\n      // 页码重置\r\n      this.formInline.pageIndex = 1\r\n      // 初始该行下的分类全部不选中\r\n      for (let k = 0; k < item.list.length; k++) {\r\n        item.list[k]._type = false;\r\n      }\r\n      // 如果当前行有选中分类\r\n      if(item.identifier){\r\n        // 重置\r\n        item.identifier = ''\r\n      }\r\n      // 重置商品全部选中\r\n      this.allBrand_index = -1;\r\n      this.brand_index = -1;\r\n      this.formInline.brandId = ''\r\n      this.formInline.pageIndex=1\r\n      // 获取上级选中的分类\r\n      const identifier = this.getCheckCategory(index)\r\n      if(identifier){\r\n        this.formInline.cateIdentifier = identifier\r\n      }else{\r\n        this.formInline.cateIdentifier = ''\r\n      }\r\n      // 如果是最后一级 不再刷新分类\r\n      if (index != this.categoryList.length - 1) {\r\n        // 刷新分类\r\n        this.getCurrentCategoryChildData(index, item);\r\n      }\r\n      // 刷新品牌\r\n      this.getProductBrandListData()\r\n      // 刷新商品数据\r\n      this.getProductAvailableQuantityListData();\r\n    },\r\n    // 分类-更换箭头icon\r\n    categoryMoreClick(index){\r\n      console.log(index)\r\n      if(this.categoryIndex==index){\r\n        this.categoryIndex=-1\r\n        return\r\n      }\r\n      this.categoryIndex=index\r\n    },\r\n    //三级更多分类-点击事件-更换icon\r\n    categoryMoreRightClick(index){\r\n      this.isRightCategory=!this.isRightCategory\r\n      console.log(this.isRightCategory)\r\n      if(!this.isRightCategory){\r\n        for (var i = 0; i < this.categoryList.length; i++) {\r\n          this.categoryList[i].view = true;\r\n        }\r\n      }else{\r\n        for (var i = 0; i < this.categoryList.length; i++) {\r\n          if (i < 3) {\r\n            this.categoryList[i].view = true;\r\n          }\r\n          if (i >= 3) {\r\n            this.categoryList[i].view = false;\r\n          }\r\n        }\r\n      }\r\n\r\n    },\r\n    // 获取选中的分类  index   该行的index\r\n    getCheckCategory(index){\r\n      if(index == 0){\r\n        return ''\r\n      }\r\n      let identifier = '',length;\r\n      if(index){\r\n        length = index\r\n      }else{\r\n        length = this.categoryList.length\r\n      }\r\n      for(let i = length; i > -1 ; i--){\r\n\r\n        if(this.categoryList[i].identifier){\r\n          identifier = this.categoryList[i].identifier\r\n          break\r\n        }\r\n      }\r\n      return identifier\r\n    },\r\n    /**\r\n     * 品牌\r\n     */\r\n    //得到品牌的全部数据\r\n    getProductBrandListData() {\r\n      this.request(this.api.product.productBrand_listForCate, {cateIdentifier:this.formInline.cateIdentifier}).then(res => {\r\n        this.allBrandDataArr = res.data;\r\n      });\r\n    },\r\n    //全部品牌的全部点击事件\r\n    allBrandShopClick() {\r\n      this.allBrand_index = -1;\r\n      this.brand_index = -1;\r\n      this.formInline.brandId = ''\r\n      this.formInline.pageIndex=1\r\n      this.getProductAvailableQuantityListData();\r\n    },\r\n    //全部品牌的里面的每一个品牌的点击事件\r\n    allBrandLiClickEvent(index) {\r\n      this.allBrand_index = 0;\r\n      this.brand_index = index;\r\n      this.formInline.pageIndex=1\r\n      //记录选中的品牌id\r\n      this.formInline.brandId = this.allBrandDataArr[index].id;\r\n      //点击全部品牌里面的品牌时，发送id请求数据\r\n      this.getProductAvailableQuantityListData();\r\n    },\r\n    //更多品牌-更换箭头icon\r\n    showArrowUpClick(){\r\n      this.isArrowShowUp=!this.isArrowShowUp\r\n      // this.initialHeight=!this.initialHeight\r\n      this.allBrand = !this.allBrand\r\n    },\r\n\r\n    /**\r\n     * 商品\r\n     */\r\n    //得到全部商品数据\r\n    getProductAvailableQuantityListData() {\r\n      // pageStart:1,pageSize:30\r\n      this.request(\r\n        this.api.product.product_listAvailableQuantityForProduct,\r\n        this.formInline\r\n      ).then(data => {\r\n        // let concatData = this.productData.concat(data.data);\r\n        this.productData = data.data;\r\n        this.allProductCount = data.totalCount;\r\n      });\r\n    },\r\n    //点击了加号按钮\r\n    addLabelClickEvent(currentShopId, index) {\r\n      this.request(\r\n        this.api.product.productGoods_listAvailableQuantityForProductGoods,\r\n        {\r\n          productId: currentShopId,\r\n          tenantId:this.formInline.tenantId,\r\n          warehouseCode:this.formInline.warehouseCode,\r\n          validStock:1\r\n        }\r\n      ).then(data => {\r\n        let _data = data.data;\r\n        _data.forEach((item, index) => {\r\n          item.num = \"0\";\r\n        });\r\n        let _bottomData = this.bottomTableData,\r\n          _bottomDataLen = _bottomData.length;\r\n        for (let i = 0; i < _bottomDataLen; i++) {\r\n          for (let j = 0; j < _data.length; j++) {\r\n            if (_data[j].id == _bottomData[i].id) {\r\n              _data[j].num = _bottomData[i].num;\r\n            }\r\n          }\r\n        }\r\n        this.productGoodsData = _data;\r\n        //得到当前数据的index\r\n        this.shopName = this.productData[index].name;\r\n        //显示底部table表格\r\n        this.showZoomTable = true;\r\n        //显示继续选择按钮\r\n        this.showContineBtn = false;\r\n      });\r\n    },\r\n    //展开按钮的点击事件\r\n    clickShowBottomModel() {\r\n      this.showZoomTable = false;\r\n      this.isShowBottomTableModel = !this.isShowBottomTableModel;\r\n    },\r\n    //本地缓存选中的商品数据\r\n    bottomShopNumberChange(val){\r\n      this.$nextTick(()=>{\r\n        this.bottomTableData=this.bottomTableData.filter(item=>{\r\n          return item.num && item.num!=0\r\n        })\r\n        if(this.bottomTableData.length==0){\r\n          this.clickShowBottomModel()\r\n        }\r\n        this.allTotal = 0;\r\n        this.bottomTableData.forEach(item => {\r\n          this.allTotal += item.num;\r\n        });\r\n      })\r\n    },\r\n\r\n    /**\r\n     * 提交\r\n     */\r\n    //确认按钮的点击事件\r\n    successBtnClickEvent() {\r\n      this.showZoomTable = false;\r\n      let content = 0;\r\n      for (let i = 0; i < this.bottomTableData.length; i++) {\r\n        content+=this.bottomTableData[i].num * this.bottomTableData[i].purchasePrice;\r\n      }\r\n      let filterBottomData=this.bottomTableData.filter(item=>{\r\n          return item.num!=0\r\n      })\r\n      this.bottomTableData=filterBottomData\r\n      //存储商品总金额过去\r\n      localStorage.setItem(\"allShopPrice\",content)\r\n      localStorage.setItem(\"localTableData\",JSON.stringify(this.bottomTableData));\r\n      localStorage.removeItem('type')\r\n      this.$router.go(-1)\r\n      //  this.$router.push({\r\n      //   path: \"/ditch_add\"\r\n      // });\r\n    },\r\n    //点击取消返回上级页面\r\n    cancleBtnClcikEventToBackPrePage(){\r\n      localStorage.removeItem(\"type\")\r\n      this.$router.go(-1)\r\n      // this.$router.push({\r\n      //   path: \"/ditch_add\"\r\n      // })\r\n    },\r\n    //取消按钮的点击事件\r\n    cancleBtnClcikEvent() {\r\n      this.showZoomTable = false;\r\n      this.isShowBottomTableModel=false\r\n      //显示继续选择按钮\r\n      this.showContineBtn = true;\r\n    },\r\n    //继续选择\r\n    continueBtnClickEvent() {\r\n      this.showZoomTable = false;\r\n      //显示继续选择按钮\r\n      this.showContineBtn = true;\r\n\r\n      for (var i = 0; i < this.productGoodsData.length; i++) {\r\n        var goodsDataId = this.productGoodsData[i].id;\r\n        for (var j = 0; j < this.bottomTableData.length; j++) {\r\n          if (this.bottomTableData[j].id === goodsDataId) {\r\n            //说明已经存在该Id\r\n            this.bottomTableData[j].num = this.productGoodsData[i].num;\r\n            if (i == this.productGoodsData.length - 1) {\r\n              return;\r\n            } else {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      //确认选择加入购物车\r\n      this.bottomTableData = this.bottomTableData.concat(this.productGoodsData);\r\n      //计算已添加的数量\r\n      this.allTotal = 0;\r\n      this.bottomTableData.forEach(item => {\r\n        this.allTotal += item.num;\r\n      });\r\n      //将数据存储本地\r\n      // localStorage.setItem(\"localTableData\",JSON.stringify(this.bottomTableData));\r\n    },\r\n\r\n    shopNumberChange(val) {\r\n\r\n    },\r\n    //监听滚动事件,懒加载\r\n    shopContentScroll(e) {\r\n      this.$nextTick(() => {\r\n        const el = this.$refs.shopContent;\r\n        const offsetHeight = el.offsetHeight;\r\n        const scrollTop = el.scrollTop;\r\n        const scrollHeight = el.scrollHeight;\r\n        let allPage = Math.ceil(\r\n          this.allProductCount / this.formInline.pageSize\r\n        );\r\n        if (offsetHeight + scrollTop - scrollHeight >= -1) {\r\n          //判断当前页是否小于总页数\r\n          if (this.formInline.pageIndex <= allPage) {\r\n            this.formInline.pageIndex++;\r\n            // this.getProductAvailableQuantityListData();\r\n             this.request(\r\n              this.api.product.product_listAvailableQuantityForProduct,\r\n              this.formInline\r\n            ).then(data => {\r\n              let concatData = this.productData.concat(data.data);\r\n              this.productData = concatData;\r\n            });\r\n          } else {\r\n            console.log(\"已经没有新数据了。。。。。\");\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n.base {margin-top: -70px;\r\n  width: 100%;\r\n  //计算高度\r\n  // height: calc(100% - 100px);\r\n  height: 100%;\r\n  // background-color: greenyellow;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n\r\n  .organizationVal-div {\r\n    //   background-color: aqua;\r\n    position: absolute;\r\n    z-index: 0;\r\n    right: 0;\r\n    width: 40%;\r\n    white-space: nowrap;\r\n  }\r\n  .span-btn {\r\n    // background-color: red;\r\n    white-space: nowrap;\r\n    span {\r\n      display: inline-block;\r\n      width: 40px;\r\n      height: 40px;\r\n      font-size: 25px;\r\n      text-align: center;\r\n      line-height: 40px;\r\n      border: 1px solid pink;\r\n    }\r\n    span:nth-child(1) {\r\n      border-top-left-radius: 5px;\r\n      border-bottom-left-radius: 5px;\r\n    }\r\n    span:nth-child(2) {\r\n      padding: 0 20px;\r\n      border-left: none;\r\n      border-right: none;\r\n      border-radius: 0;\r\n    }\r\n    span:nth-child(3) {\r\n      border-top-right-radius: 5px;\r\n      border-bottom-right-radius: 5px;\r\n    }\r\n  }\r\n  .category-span-all {\r\n    overflow: hidden;\r\n  }\r\n  .all-brand-more {\r\n    // background-color: #ccc;\r\n    // border: 1px solid pink;\r\n    cursor: pointer;\r\n    position: relative;\r\n    height: 25px;\r\n    min-width: 81px;\r\n    top: 20px;\r\n    // left: 80%;\r\n    line-height: 25px;\r\n    padding: 2px;\r\n    padding-top: 0;\r\n    color: #ABADB6;\r\n    span {\r\n      // display: inline-block;\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  .title {\r\n    background-color: #fff;\r\n    padding: 15px 0 15px 30px;\r\n    i{font-size: 20px;margin-right: 10px;line-height: 25px;cursor: pointer;}\r\n  }\r\n  .content {\r\n    background-color: #fff;\r\n    padding: 15px 0 0 30px;\r\n    margin: 10px;\r\n    .all {\r\n      display: flex;\r\n      position: relative;\r\n    }\r\n    .shop-brand {\r\n      margin: 20px 30px 10px 0;\r\n    }\r\n    .category-more {\r\n      // background-color: #fff;\r\n      // border: 1px solid #ABADB6;\r\n      cursor: pointer;\r\n      position: relative;\r\n      min-width: 50px;\r\n      text-align: center;\r\n      height: 25px;\r\n      line-height: 25px;\r\n      position: relative;\r\n      top: 20px;\r\n      margin-right: 10px;\r\n      border-radius: 3px;\r\n      padding: 0 3px;\r\n      color: #ABADB6;\r\n    }\r\n    // .category-more-right{\r\n\r\n    // }\r\n    .all-brand {\r\n      // position: relative;\r\n      overflow: hidden;\r\n      margin: 20px 30px 10px 0;\r\n      max-width: 75%;\r\n    }\r\n    .all-brand ul li,.all-brand-p ul li {\r\n      cursor: pointer;\r\n      float: left;\r\n      margin-right: 10px;\r\n      margin-bottom: 10px;\r\n      padding: 0 6px;\r\n      border-radius: 3px;\r\n    }\r\n    // .category{\r\n    //     background-color: pink;\r\n    // }\r\n    .one_category_brand {\r\n      display: flex;\r\n      align-items: center;\r\n      flex-wrap: wrap;\r\n      .one_category_li ul {\r\n        margin-right: 10px;\r\n        li {\r\n          margin-right: 30px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .category-span {\r\n    width: 100%;\r\n    display: inline-block;\r\n    margin-top: 45px;\r\n    font-size: 18px;\r\n  }\r\n  .line {\r\n    width: 95%;\r\n    // background-color:red;\r\n    display: block;\r\n    border-bottom: 1px solid #ccc;\r\n  }\r\n  .brand-span {\r\n    display: block;\r\n    margin-top: 20px;\r\n    font-size: 18px;\r\n  }\r\n  .shop {\r\n    position: relative;\r\n    background-color: #fff;\r\n    margin: 10px;\r\n    padding: 30px;\r\n    z-index: 1;\r\n    .tip-title {\r\n      display: flex;\r\n      span:first-child {\r\n        flex: 1;\r\n      }\r\n    }\r\n    .shop-content {\r\n      // background-color: red;\r\n      position: relative;\r\n      overflow: hidden;\r\n      overflow-x: hidden;\r\n      overflow-y: scroll;\r\n      height: 400px;\r\n      margin-top: 20px;\r\n      margin-bottom: 30px;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      // border: 1px solid rebeccapurple;\r\n      .show-specific-shop {\r\n        border: 1px solid #ececec;\r\n        padding: 10px;\r\n        width: 150px;\r\n        height: 200px;\r\n        box-sizing: border-box;\r\n        margin: 0 30px 30px 0;\r\n        position: relative;\r\n        img {\r\n          display: inline-block;\r\n          width: 100px;\r\n          height: 100px;\r\n          border: 1px solid #ccc;\r\n          padding: 5px;\r\n          box-sizing: border-box;\r\n          margin-left: 14px;\r\n          margin-bottom: 5px;\r\n        }\r\n        .shop-specific-title {\r\n          display: flex;\r\n          flex-direction: column;\r\n          // align-items: center;\r\n          span:first-child {\r\n            display: inline-block;\r\n            margin-bottom: 3px;\r\n            // text-align: center;\r\n          }\r\n        }\r\n        .add_icon {\r\n          text-align: center;\r\n          // background-color: aqua;\r\n          display: inline-block;\r\n          border: 1px solid #ABADB6;\r\n          width: 19px;\r\n          height: 19px;\r\n          line-height: 19px;\r\n          cursor: pointer;\r\n          position: absolute;\r\n          right: 5px;\r\n          bottom: 5px;\r\n          border-radius: 50%;\r\n        }\r\n        .add_icon:hover {\r\n          border: 1px solid #2290E8;\r\n          font-weight: 600;\r\n          color: #2290E8;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .bottom_view {\r\n    background-color: #fff;\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    z-index: 3;\r\n    padding: 20px;\r\n    padding-left: 250px;\r\n    width: 100%;\r\n    -webkit-box-align: center;\r\n    -ms-flex-align: center;\r\n    align-items: center;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    justify-content: flex-end;\r\n    display: flex;\r\n    border: 1px solid #ccc;\r\n    .left-bottom {\r\n      flex: 1;\r\n      // background-color: aqua;\r\n      span {\r\n        display: inline-block;\r\n      }\r\n      span:nth-child(2) {\r\n        border: 1px solid #ccc;\r\n        border-radius: 3px;\r\n        padding: 0 30px;\r\n        margin-right: 3px;\r\n      }\r\n      span:nth-child(4) {\r\n        margin-left: 25px;\r\n        color: #2290E8;\r\n      }\r\n    }\r\n  }\r\n\r\n  .transition-table {\r\n    padding-right: 250px;\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 2;\r\n    background-color: #fff;\r\n    width: 100%;\r\n    height: 400px;\r\n    .table-div {\r\n      padding: 0 30px;\r\n    }\r\n  }\r\n  .selcte_color {\r\n    color: #2290E8;\r\n    font-weight: 600;\r\n    // border: 1px solid orange;\r\n    padding: 3px;\r\n    border-radius: 3px;\r\n  }\r\n  .normal_color {\r\n    color: #ABADB6;\r\n    // border: 1px solid #ABADB6;\r\n    padding: 3px;\r\n    border-radius: 3px;\r\n  }\r\n  .normal_color:hover,.category-more:hover,.selcte_color:hover,.all-brand-more:hover{\r\n    color: #6DBEFF;\r\n  }\r\n}\r\n.all-brand-p{\r\n  margin: 20px 30px 10px 0;\r\n    max-width: 75%;\r\n}\r\n.item-n{\r\n  height: 25px;\r\n  overflow: hidden;\r\n}\r\n.item-b{\r\n  height: 130px;\r\n  overflow-y: scroll;\r\n  border: 1px solid #e7e7e7;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/orders/business/purchaseReturn"}]}