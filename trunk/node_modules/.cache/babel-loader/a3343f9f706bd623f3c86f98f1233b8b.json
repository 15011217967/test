{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\scb\\order\\returnGoods_order.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\scb\\order\\returnGoods_order.vue","mtime":1578973431496},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport codeSet from \"@/components/codeSet\";\nimport PageTable from \"@/views/collocation/components/PageTable\";\nimport OrganizationSelect from \"@/views/collocation/components/OrganizationSelect\";\nimport StoreSelect from \"@/views/collocation/components/StoreSelect\";\nimport TimeIntervalCheck from \"@/components/TimeIntervalCheck\";\nexport default {\n  name: 'returnGoods_order',\n  // 数据\n  data: function data() {\n    return {\n      searchWarehouseList: [],\n      isSearchWarehouseList: true,\n      channelType: {\n        0: '零售商'\n      },\n      warehouseType: {\n        '07001': '总仓',\n        '07002': '分仓',\n        '07003': '中转仓'\n      },\n      warehouseData: [],\n      inStoreList: [],\n      id: null,\n      // 参数\n      addFormData: {\n        // 发起人\n        createName: '',\n        // 货主\n        goodsOwner: '',\n        // 机构\n        organizationId: '',\n        organizationName: '',\n        // 订单类型\n        orderType: '0204',\n        // 物流\n        logisticsCode: '',\n        logisticsCompany: '',\n        // 仓库\n        warehouseCode: '',\n        warehouseName: '',\n        // 门店\n        storeId: '',\n        storeName: '',\n        storeType: '',\n        // 收货人\n        receiveMan: '',\n        // 电话\n        phone: '',\n        // 省市区信息\n        provinceName: '',\n        provinceCode: '',\n        cityName: '',\n        cityCode: '',\n        areaName: '',\n        areaCode: '',\n        divisionId: '',\n        // 地址\n        addressInfo: ''\n      },\n      // 选择框数据\n      selectList: [{\n        id: 1,\n        name: '零时尚'\n      }],\n      // 弹框中包裹的对象\n      dialogIncludeObj: {\n        // out为调出方，in调入方\n        type: 'out',\n        // 弹出框是否显示\n        isDialogTableVisible: false,\n        // 调出单检索条件 ---\n        formDataOut: {\n          name: null\n        },\n        // 调出单\n        tableOutDate: {\n          data: []\n        },\n        // 选中调出单某一项\n        checkOutItem: {},\n        // 调入单检索条件 ---\n        formDataIn: {\n          warehouseType: null,\n          warehouseName: null\n        },\n        // 调入单\n        tableInDate: {\n          data: []\n        },\n        // 选中调入单某一项\n        checkInItem: {}\n      },\n      // 查询参数\n      formData: {\n        // 页面模块ID\n        menuId: '',\n        // 关键字\n        filter: '',\n        // 单据状态\n        backStatus: '',\n        // 门店名称\n        storeId: '',\n        // 仓库code\n        warehouseCode: '',\n        // 门店类型\n        storeType: '',\n        // 时间\n        createTimeBegin: '',\n        createTimeEnd: '',\n        pageIndex: 1,\n        pageSize: 10\n      },\n      // 单据状态\n      billType: this.$common.getBillType('allot'),\n      // 仓库收货状态\n      receiveStatus: [{\n        name: '未到货',\n        id: 7\n      }, {\n        name: '部分到货',\n        id: 8\n      }, {\n        name: '全部到货',\n        id: 9\n      }, {\n        name: '超收',\n        id: 10\n      }],\n      backTypeStatus: {\n        0: '待发货',\n        1: '待返货',\n        2: '待收货',\n        3: '已完成',\n        4: '作废',\n        5: '已发货',\n        6: '已返货',\n        7: '未到货',\n        8: '部分到货',\n        9: '全部到货',\n        13: '待编辑',\n        14: '强制完成'\n      },\n      // 表格数据\n      tableData: {},\n      // 选中的表格数据\n      checkedTableData: []\n    };\n  },\n  // 组件\n  components: {\n    codeSet: codeSet,\n    PageTable: PageTable,\n    OrganizationSelect: OrganizationSelect,\n    StoreSelect: StoreSelect,\n    TimeIntervalCheck: TimeIntervalCheck\n  },\n  created: function created() {\n    // 删除子页面的门店缓存\n    sessionStorage.removeItem('BACK_GOODS_INFO'); // 获取模块id\n\n    this.formData.menuId = this.$route.meta.currentid;\n    this.info();\n    this.getOrganizationIdByUserId();\n  },\n  activated: function activated() {\n    this.getTableData();\n  },\n  // 初始化数据\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.getTableData();\n\n      _this.tuneIn_fn();\n\n      _this.getInStoreList();\n    });\n  },\n  // 方法\n  methods: {\n    dialogShow: function dialogShow() {\n      this.dialogIncludeObj.isDialogTableVisible = true;\n      this.tuneIn_fn();\n    },\n    closeDialog: function closeDialog() {\n      Object.assign(this.dialogIncludeObj.formDataOut, {\n        name: null,\n        channel: null\n      });\n      Object.assign(this.dialogIncludeObj.formDataIn, {\n        warehouseType: null,\n        warehouseName: null\n      });\n      this.dialogIncludeObj.type = 'out';\n    },\n    // 获取收货门店数据\n    getInStoreList: function getInStoreList() {\n      var _this2 = this;\n\n      this.request(this.api.store.storeBasic_listStoreBasic, {}).then(function (data) {\n        _this2.inStoreList = data.data;\n      });\n    },\n    getOrganizationIdByUserId: function () {\n      var _getOrganizationIdByUserId = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this3 = this;\n\n        var info, url;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.request(this.api.user.get_userinfo, {}, true);\n\n              case 2:\n                info = _context.sent;\n\n                if (info) {\n                  this.addFormData.createName = info.name;\n                  this.addFormData.allotMan = info.name;\n                  this.addFormData.relationDepId = info.departId;\n                  this.addFormData.relationDepName = info.departName;\n                }\n\n                url = this.api.user.userCompany_getUserOrgByUserId;\n                this.request(url, {\n                  userId: info.userId\n                }).then(function (data) {\n                  _this3.id = data.id;\n                  _this3.addFormData.organizationId = data.id;\n                  _this3.addFormData.organizationName = data.name; // this.getStoreList(data.id);\n                  // this.getGoodsOwner(data.id);\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getOrganizationIdByUserId() {\n        return _getOrganizationIdByUserId.apply(this, arguments);\n      }\n\n      return getOrganizationIdByUserId;\n    }(),\n    // 获取货主\n    getGoodsOwner: function getGoodsOwner(id) {\n      var _this4 = this;\n\n      this.request(this.api.system.goodsOwner_getByOrgId, {\n        orgId: id,\n        used: true\n      }).then(function (data) {\n        if (data.code) {\n          _this4.addFormData.goodsOwner = data.code;\n        }\n      });\n    },\n    //获取仓库数据\n    getWarehouseList: function getWarehouseList() {\n      var _this5 = this;\n\n      Object.assign(this.dialogIncludeObj.formDataIn, {\n        orgId: this.id,\n        used: true\n      });\n      this.request(this.api.warehouse.warehouse_list, this.dialogIncludeObj.formDataIn).then(function (data) {\n        _this5.dialogIncludeObj.tableInDate = data.data;\n        _this5.dialogIncludeObj.checkInItem = {};\n\n        if (_this5.isSearchWarehouseList) {\n          _this5.searchWarehouseList = JSON.parse(JSON.stringify(data.data));\n          _this5.isSearchWarehouseList = false;\n        }\n\n        data.data.forEach(function (item, index) {\n          item.createTime = _this5.$options.filters.timestampToTime(item.createTime);\n        });\n      });\n    },\n    searchWarehouse: function searchWarehouse() {\n      this.getWarehouseList();\n    },\n    initWarehouse: function initWarehouse() {\n      Object.assign(this.dialogIncludeObj.formDataIn, {\n        warehouseType: null,\n        warehouseName: null\n      });\n    },\n\n    /**\n     * 获取客户列表\n     * @param { String } id 调出方id\n     */\n    tuneIn_fn: function tuneIn_fn() {\n      var _this6 = this;\n\n      this.request(this.api.store.storeBasic_listStoreBasic, this.dialogIncludeObj.formDataOut).then(function (res) {\n        _this6.dialogIncludeObj.tableOutDate = res;\n        _this6.dialogIncludeObj.checkOutItem = {};\n      });\n    },\n    //获取门店数据\n    getStoreList: function getStoreList(id) {\n      var _this7 = this;\n\n      this.request(this.api.retailStore.storeBasic_listSmart, {\n        organizationId: id\n      }).then(function (data) {\n        _this7.dialogIncludeObj.tableOutDate = data;\n        data.forEach(function (item, index) {\n          item.createTime = _this7.$options.filters.timestampToTime(item.createTime);\n        });\n      });\n    },\n    info: function () {\n      var _info = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var info, organization;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.request(this.api.user.get_userinfo, {}, true);\n\n              case 2:\n                info = _context2.sent;\n                // 保存用户名称\n                this.addFormData.allotMan = info.name; // 获取直属机构\n\n                _context2.next = 6;\n                return this.request(this.api.user.userCompany_getUserOrgByUserId, {\n                  userId: info.userId\n                }, true);\n\n              case 6:\n                organization = _context2.sent;\n                this.addFormData.organizationId = organization.id;\n                this.addFormData.organizationName = organization.name;\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function info() {\n        return _info.apply(this, arguments);\n      }\n\n      return info;\n    }(),\n\n    /**\n     * 提示\n     * @param { String } message 提示文案\n     * @param { String } type 提示类型\n     */\n    warn: function warn(message, type) {\n      this.$message({\n        message: message,\n        type: type || \"success\"\n      });\n    },\n    // 调出单下一步\n    outNext: function outNext(row) {\n      if (JSON.stringify(this.dialogIncludeObj.checkOutItem) == '{}') {\n        this.warn('请选择退返货客户！', 'warning');\n        return;\n      }\n\n      ;\n      this.dialogIncludeObj.type = 'in';\n      this.getWarehouseList();\n    },\n    // 调入单上一步\n    inPrev: function inPrev() {\n      this.dialogIncludeObj.type = 'out';\n    },\n    // 调入单下一步\n    inNext: function inNext() {\n      if (JSON.stringify(this.dialogIncludeObj.checkInItem) == '{}') {\n        this.warn('请选择收货仓库！', 'warning');\n        return;\n      }\n\n      ;\n      var outObj = this.dialogIncludeObj.checkOutItem;\n      var inObj = this.dialogIncludeObj.checkInItem;\n      Object.assign(this.addFormData, {\n        storeId: outObj.id,\n        storeName: outObj.name,\n        // storeType: outObj.type,\n        // 仓库\n        warehouseCode: inObj.warehouseCode,\n        warehouseName: inObj.warehouseName,\n        // 收货人\n        receiveMan: inObj.contact,\n        // 电话\n        phone: inObj.telephone,\n        warehouseType: inObj.warehouseType,\n        divisionId: inObj.divisionId,\n        addressInfo: inObj.address,\n        provinceName: inObj.provinceName,\n        provinceCode: inObj.provinceCode,\n        cityName: inObj.cityName,\n        cityCode: inObj.cityCode,\n        areaName: inObj.areaName,\n        areaCode: inObj.areaCode\n      });\n      this.dialogIncludeObj.isDialogTableVisible = false;\n      console.log(this.addFormData); // return;\n\n      sessionStorage.setItem('BACK_GOODS_INFO', JSON.stringify(this.addFormData)); // return;\n\n      var module = \"/\" + this.$route.path.split(\"/\")[1];\n      this.$router.push({\n        path: module + \"/order/returnGoods_order_edit\"\n      });\n      this.dialogIncludeObj.checkOutItem = {};\n      this.dialogIncludeObj.checkInItem = {};\n      this.dialogIncludeObj.type = 'out';\n    },\n    // 搜索\n    searchOutTableData: function searchOutTableData() {\n      this.tuneIn_fn();\n    },\n    // 重置fromData选项\n    initOutTableFormData: function initOutTableFormData() {\n      Object.assign(this.dialogIncludeObj.formDataOut, {\n        name: null,\n        channel: null\n      });\n    },\n    // 搜索\n    searchInTableData: function searchInTableData() {\n      this.getWarehouseList(this.id);\n    },\n    // 重置fromData选项\n    initInTableFormData: function initInTableFormData() {},\n    // keepAlive 返回初始化\n    activatedInit: function activatedInit() {\n      this.getTableData();\n    },\n    //导出\n    exportExcel: function exportExcel(row) {\n      var _this8 = this;\n\n      // 获取商品列表\n      this.request(this.api.order.returnProductInfo_list, {\n        orderSn: row.backNum\n      }).then(function (data) {\n        _this8.checkedTableData = data.data;\n        data.data.forEach(function (item, index) {\n          item.realityBackQty = item.realityBackQty == null ? '--' : item.realityBackQty;\n        });\n\n        if (_this8.checkedTableData.length === 0) {\n          _this8.$notify.error({\n            title: '错误',\n            message: '请选择数据'\n          });\n\n          return;\n        }\n\n        require.ensure([], function () {\n          var _require = require(\"@/vendor/Export2Excel\"),\n              export_json_to_excel = _require.export_json_to_excel,\n              export_table_to_excel = _require.export_table_to_excel;\n\n          var tHeader = [\"商品款号\", \"商品货号\", \"名称\", \"商品图片\", \"品牌\", \"吊牌价\", \"应返数量\", \"实返数量\", \"实收数量\"]; // 上面设置Excel的表格第一行的标题\n\n          var filterVal = [\"productCode\", \"goodsCode\", \"goodsName\", \"image\", \"brandName\", \"retailPrice\", \"planBackQuantity\", \"realityBackQty\", \"receiveQuantity\"]; // 上面的index、nickName、name是tableData里对象的属性\n\n          var list = _this8.checkedTableData; //把data里的tableData存到list\n\n          var data = _this8.formatJson(filterVal, list);\n\n          export_json_to_excel(tHeader, data, \"返货单商品列表\");\n        });\n      });\n    },\n    formatJson: function formatJson(filterVal, jsonData) {\n      return jsonData.map(function (v) {\n        return filterVal.map(function (j) {\n          return v[j];\n        });\n      });\n    },\n    // 点击搜索\n    searchTableData: function searchTableData() {\n      this.formData.pageIndex = 1;\n      this.getTableData();\n    },\n    // 获取列表数据\n    getTableData: function getTableData() {\n      var _this9 = this;\n\n      this.request(this.api.order.returnGoods_returnsList, this.formData).then(function (data) {\n        _this9.initTableData(data.data);\n\n        _this9.tableData = data;\n      });\n    },\n    // 初始化数据 导出使用\n    initTableData: function initTableData(data) {\n      var _this10 = this;\n\n      if (data && data.length) {\n        data.forEach(function (item) {\n          item._backStatus = _this10.backTypeStatus[item.backStatus];\n          item._storeType = _this10.$options.filters.codeToName(\"STO001\", item.storeType);\n          item._totalPrice = '￥' + item.totalPrice;\n          item._receiveStatus = _this10.receiveStatusToName(item.receiveStatus);\n          item._createTime = _this10.$options.filters.timestampToTime(item.createTime);\n          item.returnTime = _this10.$options.filters.timestampToTime(item.returnTime);\n          item.realityProductNum = item.realityProductNum == null ? '--' : item.realityProductNum;\n          item.differenceQty = item.differenceQty == null ? '--' : item.differenceQty;\n          item.putInStorage = item.putInStorage == null ? '--' : item.putInStorage;\n        });\n      }\n    },\n    // 获取表格选中的\n    tableCheckChange: function tableCheckChange(val) {\n      this.checkedTableData = val;\n    },\n    // 初始查询条件\n    initFormData: function initFormData() {\n      Object.assign(this.formData, {\n        // 页面模块ID\n        menuId: '',\n        // 关键字\n        filter: '',\n        // 单据状态\n        backStatus: '',\n        // 门店名称\n        storeId: '',\n        // 仓库code\n        warehouseCode: '',\n        // 门店类型\n        storeType: '',\n        // 时间\n        createTimeBegin: '',\n        createTimeEnd: '',\n        pageIndex: 1,\n        pageSize: 10\n      });\n    },\n    edit: function edit(row, type) {\n      var module = '/' + this.$route.path.split('/')[1];\n      this.$router.push({\n        path: module + '/order/returnGoods_order_edit',\n        query: {\n          id: row.id,\n          backNum: row.backNum,\n          type: type\n        }\n      });\n    },\n    // 查看 编辑\n    seeAndEditItem: function seeAndEditItem(row, type) {\n      var module = '/' + this.$route.path.split('/')[1];\n      this.$router.push({\n        path: module + '/order/returnGoods_order_detail',\n        query: {\n          id: row.id,\n          backNum: row.backNum,\n          type: type\n        }\n      });\n    },\n    // 作废\n    delItem: function delItem(row) {\n      var _this11 = this;\n\n      this.$confirm('作废后该单据将失效，是否要将该单据作废？', '提示', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        showClose: false\n      }).then(function () {\n        _this11.request(_this11.api.order.returnGoods_invalid, {\n          id: row.id\n        }).then(function (data) {\n          _this11.$notify.success({\n            title: '成功',\n            message: '作废成功'\n          });\n\n          _this11.getTableData();\n        });\n      }).catch(function () {});\n    },\n    // 新增\n    addItem: function addItem() {},\n    // 状态转name\n    statusToName: function statusToName(val) {\n      if (!val && val !== 0) return;\n      var item = this.billType.find(function (item) {\n        return item.id === val;\n      });\n\n      if (item) {\n        return item.name;\n      } else {\n        return val;\n      }\n    },\n    //\n    receiveStatusToName: function receiveStatusToName(val) {\n      if (!val && val !== 0) return;\n      var item = this.receiveStatus.find(function (item) {\n        return item.id === val;\n      });\n\n      if (item) {\n        return item.name;\n      } else {\n        return val;\n      }\n    }\n  },\n  filters: {},\n  // 计算属性\n  computed: {},\n  // 监听数据变化\n  watch: {}\n};",{"version":3,"sources":["returnGoods_order.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\" scoped></style>\r\n<template>\r\n  <div class=\"distribution\">\r\n    <!-- 选择调出入方信息 -->\r\n    <el-dialog @closed=\"closeDialog\" width=\"1200px\" :title=\"dialogIncludeObj.type === 'out' ? '选择退返货客户' : '选择收货仓库'\" :visible.sync=\"dialogIncludeObj.isDialogTableVisible\">\r\n      <template v-if=\"dialogIncludeObj.type === 'out'\">\r\n        <el-form class=\"item-form\" :model=\"dialogIncludeObj.formDataOut\" label-width=\"90px\" size=\"small\" ref=\"formData\" inline>\r\n          <el-form-item label=\"客户名称：\" prop=\"inStoreId\">\r\n            <el-select\r\n              v-model=\"dialogIncludeObj.formDataOut.name\"\r\n              placeholder=\"请选择\"\r\n              class=\"input-w\"\r\n              filterable\r\n              clearable>\r\n              <el-option\r\n                v-for=\"item in inStoreList\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.name\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"渠道类型：\" prop=\"inStoreId\">\r\n            <el-select\r\n              v-model=\"dialogIncludeObj.formDataOut.channel\"\r\n              placeholder=\"请选择\"\r\n              class=\"input-w\"\r\n              filterable\r\n              clearable>\r\n              <el-option\r\n                v-for=\"item in channelType\"\r\n                :key=\"item\"\r\n                :label=\"item\"\r\n                :value=\"item\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button @click=\"searchOutTableData\" type=\"primary\" plain>搜索</el-button>\r\n            <el-button @click=\"initOutTableFormData\" plain>重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-table :data=\"dialogIncludeObj.tableOutDate.data\" max-height=\"350\" class=\"mt-10\">\r\n          <el-table-column label=\"单选\" align=\"center\" min-width=\"50\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"dialogIncludeObj.checkOutItem\">\r\n                <el-radio :label=\"scope.row\">&nbsp;</el-radio>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"渠道客户名称\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.name }}</template>\r\n          </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"渠道类型\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">零售商</template>\r\n          </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"所在省/直辖市\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.provinceName }}</template>\r\n          </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"市/区\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.cityName }}</template>\r\n          </el-table-column>\r\n           <el-table-column :show-overflow-tooltip=\"true\" label=\"详细地址\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.addressInfo }}</template>\r\n          </el-table-column>\r\n           <el-table-column :show-overflow-tooltip=\"true\" label=\"联系人\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.linkman }}</template>\r\n          </el-table-column>\r\n           <el-table-column :show-overflow-tooltip=\"true\" label=\"联系电话\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.phone }}</template>\r\n          </el-table-column>\r\n           <el-table-column :show-overflow-tooltip=\"true\" label=\"最后一次采配时间\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.createTime }}</template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogIncludeObj.isDialogTableVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"outNext\">下一步</el-button>\r\n        </span>\r\n      </template>\r\n      <template v-else>\r\n        <el-form\r\n          class=\"item-form\"\r\n          :model=\"dialogIncludeObj.formDataIn\"\r\n          label-width=\"90px\"\r\n          size=\"small\"\r\n          ref=\"formData\"\r\n          inline>\r\n          <el-form-item label=\"仓库类型：\" prop=\"orderStatus\">\r\n            <el-select\r\n              placeholder=\"请选择\"\r\n              class=\"input-w\"\r\n              v-model=\"dialogIncludeObj.formDataIn.warehouseType\"\r\n              filterable\r\n              clearable>\r\n              <el-option v-for=\"(item, index) in warehouseType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"仓库名称：\" prop=\"orderStatus\">\r\n            <el-select\r\n              placeholder=\"请选择\"\r\n              class=\"input-w\"\r\n              v-model=\"dialogIncludeObj.formDataIn.warehouseName\"\r\n              filterable\r\n              clearable>\r\n              <el-option v-for=\"item in searchWarehouseList\" :key=\"item.id\" :label=\"item.warehouseName\" :value=\"item.warehouseName\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button @click=\"searchWarehouse\" type=\"primary\" plain>搜索</el-button>\r\n            <el-button @click=\"initWarehouse\" plain>重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-table :data=\"dialogIncludeObj.tableInDate\" max-height=\"350\" class=\"mt-10\">\r\n          <el-table-column label=\"单选\" align=\"center\" min-width=\"50\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio-group v-model=\"dialogIncludeObj.checkInItem\">\r\n                <el-radio :disabled=\"scope.row.status == 10\" :label=\"scope.row\">&nbsp;</el-radio>\r\n              </el-radio-group>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"仓库名称\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.warehouseName }}</template>\r\n          </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"仓库类型\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ warehouseType[scope.row.warehouseType] }}</template>\r\n          </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"所在省/直辖市\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.provinceName }}</template>\r\n          </el-table-column>\r\n          <el-table-column :show-overflow-tooltip=\"true\" label=\"市/区\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.areaName }}</template>\r\n          </el-table-column>\r\n            <el-table-column :show-overflow-tooltip=\"true\" label=\"详细地址\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.address }}</template>\r\n          </el-table-column>\r\n            <el-table-column :show-overflow-tooltip=\"true\" label=\"联系人\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.contact }}</template>\r\n          </el-table-column>\r\n            <el-table-column :show-overflow-tooltip=\"true\" label=\"联系电话\" align=\"center\" min-width=\"90\">\r\n            <template slot-scope=\"scope\">{{ scope.row.telephone }}</template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogIncludeObj.isDialogTableVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"inPrev\">上一步</el-button>\r\n          <el-button type=\"primary\" @click=\"inNext\">下一步</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n    <div class=\"item-margin\">\r\n      <el-form class=\"item-form\" :model=\"formData\" label-width=\"90px\" size=\"small\" ref=\"formData\" inline>\r\n        <el-form-item label=\"模糊查询：\">\r\n          <el-input\r\n            v-model=\"formData.filter\"\r\n            @keyup.enter.native=\"handleSearch\"\r\n            style=\"width:310px;\"\r\n            placeholder=\"退返货单号/退返客户名称\"\r\n            clearable\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"单据状态：\" prop=\"backStatus\">\r\n          <el-select placeholder=\"请选择\" class=\"input-w\" v-model=\"formData.backStatus\" clearable>\r\n            <el-option\r\n                v-for=\"(item, index) in backTypeStatus\"\r\n                :key=\"item\"\r\n                :label=\"item\"\r\n                :value=\"index\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"退返客户：\" prop=\"inStoreId\">\r\n          <el-select\r\n            v-model=\"formData.storeId\"\r\n            placeholder=\"请选择\"\r\n            class=\"input-w\"\r\n            filterable\r\n            clearable>\r\n            <el-option\r\n              v-for=\"item in inStoreList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"收货仓库：\" prop=\"storeType\">\r\n          <el-select placeholder=\"请选择\" class=\"input-w\" v-model=\"formData.warehouseCode\" clearable>\r\n            <el-option\r\n                v-for=\"item in searchWarehouseList\"\r\n                :key=\"item.id\"\r\n                :label=\"item.warehouseName\"\r\n                :value=\"item.warehouseCode\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n         <el-form-item label=\"创建时间：\" prop=\"startDate\">\r\n          <el-date-picker v-model=\"formData.createTimeBegin\" type=\"date\" placeholder=\"开始日期\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item prop=\"endDate\">\r\n            <el-date-picker v-model=\"formData.createTimeEnd\" type=\"date\" placeholder=\"结束日期\"></el-date-picker>\r\n        </el-form-item>\r\n        <!-- <time-interval-check :form-data=\"formData\" label=\"创建时间\"></time-interval-check> -->\r\n        <el-form-item>\r\n          <el-button @click=\"searchTableData\" type=\"primary\" plain>搜索</el-button>\r\n          <el-button @click=\"initFormData\" plain>重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"item-margin item-cont\">\r\n      <div>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"dialogShow\">新增退返货</el-button>\r\n      </div>\r\n      <page-table :form-data=\"formData\" :get-data=\"getTableData\" :table-data=\"tableData\">\r\n        <el-table :data=\"tableData.data\" style=\"width: 100%\" row-key=\"id\" @selection-change=\"tableCheckChange\">\r\n          <el-table-column prop=\"backNum\" label=\"退返货单号\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"_backStatus\" label=\"单据状态\"></el-table-column>\r\n          <el-table-column prop=\"storeName\" label=\"退返客户名称\"></el-table-column>\r\n          <el-table-column prop=\"goodsQuantity\" label=\"sku种类数\"></el-table-column>\r\n          <el-table-column prop=\"productNum\" label=\"返货数量\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"totalPrice\" label=\"退返货值\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"warehouseName\" label=\"收货仓库\"></el-table-column>\r\n          <el-table-column prop=\"realityBackQty\" label=\"实际退返数量\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"realityProductNum\" label=\"实收数量\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"differenceQty\" label=\"实收差异\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column prop=\"returnTime\" label=\"实际退返时间\" :show-overflow-tooltip=\"true\"  width=\"120\"></el-table-column>\r\n          <el-table-column prop=\"_createTime\" label=\"创建时间\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n          <el-table-column label=\"操作\" width=\"180\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" size=\"small\" @click=\"seeAndEditItem(scope.row, 'see')\">查看</el-button>\r\n              <el-button type=\"text\" size=\"small\" @click=\"exportExcel(scope.row)\">导出</el-button>\r\n             <el-button type=\"text\" size=\"small\" @click=\"edit(scope.row, 'edit')\" v-if=\"scope.row.backStatus === 13\">编辑</el-button>\r\n              <el-button type=\"text\" size=\"small\" @click=\"delItem(scope.row)\" v-if=\"scope.row.backStatus === 1\">作废</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </page-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import codeSet from \"@/components/codeSet\";\r\n  import PageTable from \"@/views/collocation/components/PageTable\";\r\n  import OrganizationSelect from \"@/views/collocation/components/OrganizationSelect\";\r\n  import StoreSelect from \"@/views/collocation/components/StoreSelect\";\r\n  import TimeIntervalCheck from \"@/components/TimeIntervalCheck\";\r\n  export default {\r\n    name: 'returnGoods_order',\r\n    // 数据\r\n    data() {\r\n      return {\r\n        searchWarehouseList:[],\r\n        isSearchWarehouseList:true,\r\n        channelType:{\r\n          0:'零售商'\r\n        },\r\n        warehouseType:{\r\n          '07001':'总仓',\r\n          '07002':'分仓',\r\n          '07003':'中转仓'\r\n        },\r\n        warehouseData:[],\r\n        inStoreList:[],\r\n        id:null,\r\n        // 参数\r\n        addFormData: {\r\n          // 发起人\r\n          createName: '',\r\n          // 货主\r\n          goodsOwner: '',\r\n          // 机构\r\n          organizationId: '',\r\n          organizationName: '',\r\n          // 订单类型\r\n          orderType: '0204',\r\n          // 物流\r\n          logisticsCode: '',\r\n          logisticsCompany: '',\r\n          // 仓库\r\n          warehouseCode: '',\r\n          warehouseName: '',\r\n          // 门店\r\n          storeId: '',\r\n          storeName: '',\r\n          storeType: '',\r\n          // 收货人\r\n          receiveMan: '',\r\n          // 电话\r\n          phone: '',\r\n          // 省市区信息\r\n          provinceName: '',\r\n          provinceCode: '',\r\n          cityName: '',\r\n          cityCode: '',\r\n          areaName: '',\r\n          areaCode: '',\r\n          divisionId: '',\r\n          // 地址\r\n          addressInfo: ''\r\n        },\r\n        // 选择框数据\r\n        selectList:[{\r\n          id:1,\r\n          name:'零时尚'\r\n        }],\r\n        // 弹框中包裹的对象\r\n        dialogIncludeObj:{\r\n          // out为调出方，in调入方\r\n          type:'out',\r\n          // 弹出框是否显示\r\n          isDialogTableVisible:false,\r\n          // 调出单检索条件 ---\r\n          formDataOut:{\r\n            name:null,\r\n          },\r\n          // 调出单\r\n          tableOutDate:{\r\n            data:[]\r\n          },\r\n          // 选中调出单某一项\r\n          checkOutItem:{},\r\n          // 调入单检索条件 ---\r\n          formDataIn:{\r\n            warehouseType:null,\r\n            warehouseName:null\r\n          },\r\n          // 调入单\r\n          tableInDate:{\r\n            data:[]\r\n          },\r\n          // 选中调入单某一项\r\n          checkInItem:{}\r\n        },\r\n        // 查询参数\r\n        formData: {\r\n          // 页面模块ID\r\n          menuId: '',\r\n          // 关键字\r\n          filter: '',\r\n          // 单据状态\r\n          backStatus: '',\r\n          // 门店名称\r\n          storeId: '',\r\n          // 仓库code\r\n          warehouseCode:'',\r\n          // 门店类型\r\n          storeType: '',\r\n          // 时间\r\n          createTimeBegin: '',\r\n          createTimeEnd: '',\r\n          pageIndex: 1,\r\n          pageSize: 10\r\n        },\r\n        // 单据状态\r\n        billType: this.$common.getBillType('allot'),\r\n        // 仓库收货状态\r\n        receiveStatus: [\r\n          {name: '未到货', id: 7},\r\n          {name: '部分到货', id: 8},\r\n          {name: '全部到货', id: 9},\r\n          {name: '超收', id: 10}\r\n        ],\r\n        backTypeStatus:{\r\n          0:'待发货',\r\n          1:'待返货',\r\n          2:'待收货',\r\n          3:'已完成',\r\n          4:'作废',\r\n          5:'已发货',\r\n          6:'已返货',\r\n          7:'未到货',\r\n          8:'部分到货',\r\n          9:'全部到货',\r\n          13:'待编辑',\r\n          14:'强制完成'\r\n        },\r\n        // 表格数据\r\n        tableData: {},\r\n        // 选中的表格数据\r\n        checkedTableData: []\r\n      }\r\n    },\r\n    // 组件\r\n    components: {\r\n      codeSet,\r\n      PageTable,\r\n      OrganizationSelect,\r\n      StoreSelect,\r\n      TimeIntervalCheck\r\n    },\r\n    created(){\r\n      // 删除子页面的门店缓存\r\n      sessionStorage.removeItem('BACK_GOODS_INFO');\r\n      // 获取模块id\r\n      this.formData.menuId = this.$route.meta.currentid;\r\n      this.info();\r\n      this.getOrganizationIdByUserId();\r\n    },\r\n    activated() {\r\n      this.getTableData();\r\n    },\r\n    // 初始化数据\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        this.getTableData();\r\n        this.tuneIn_fn();\r\n        this.getInStoreList();\r\n      })\r\n    },\r\n    // 方法\r\n    methods: {\r\n      dialogShow() {\r\n        this.dialogIncludeObj.isDialogTableVisible = true;\r\n        this.tuneIn_fn();\r\n      },\r\n      closeDialog() {\r\n        Object.assign(this.dialogIncludeObj.formDataOut, {\r\n          name:null,\r\n          channel:null\r\n        });\r\n        Object.assign(this.dialogIncludeObj.formDataIn, {\r\n          warehouseType:null,\r\n          warehouseName:null\r\n        });\r\n        this.dialogIncludeObj.type = 'out';\r\n      },\r\n      // 获取收货门店数据\r\n      getInStoreList() {\r\n        this.request(this.api.store.storeBasic_listStoreBasic, {}).then(data => {\r\n          this.inStoreList = data.data;\r\n        });\r\n      },\r\n      async getOrganizationIdByUserId(){\r\n        let info = await this.request(this.api.user.get_userinfo, {}, true);\r\n        if(info){\r\n          this.addFormData.createName = info.name;\r\n          this.addFormData.allotMan = info.name;\r\n          this.addFormData.relationDepId = info.departId;\r\n          this.addFormData.relationDepName = info.departName;\r\n        }\r\n        let url = this.api.user.userCompany_getUserOrgByUserId;\r\n\r\n        this.request(url, {userId: info.userId}).then(data => {\r\n          this.id = data.id;\r\n          this.addFormData.organizationId = data.id;\r\n          this.addFormData.organizationName = data.name;\r\n          // this.getStoreList(data.id);\r\n          // this.getGoodsOwner(data.id);\r\n        });\r\n      },\r\n      // 获取货主\r\n      getGoodsOwner(id){\r\n        this.request(this.api.system.goodsOwner_getByOrgId, {orgId: id, used: true}).then(data=>{\r\n          if(data.code){\r\n            this.addFormData.goodsOwner = data.code;\r\n          }\r\n        });\r\n      },\r\n      //获取仓库数据\r\n      getWarehouseList() {\r\n        Object.assign(this.dialogIncludeObj.formDataIn, {orgId: this.id, used: true})\r\n        this.request(this.api.warehouse.warehouse_list, this.dialogIncludeObj.formDataIn).then(data => {\r\n          this.dialogIncludeObj.tableInDate = data.data;\r\n          this.dialogIncludeObj.checkInItem = {};\r\n          if(this.isSearchWarehouseList) {\r\n            this.searchWarehouseList = JSON.parse(JSON.stringify(data.data));\r\n            this.isSearchWarehouseList = false;\r\n          }\r\n          data.data.forEach((item, index) => {\r\n            item.createTime = this.$options.filters.timestampToTime(item.createTime);\r\n          });\r\n        });\r\n      },\r\n      searchWarehouse() {\r\n        this.getWarehouseList();\r\n      },\r\n      initWarehouse() {\r\n        Object.assign(this.dialogIncludeObj.formDataIn, {\r\n          warehouseType:null,\r\n          warehouseName:null\r\n        });\r\n      },\r\n      /**\r\n       * 获取客户列表\r\n       * @param { String } id 调出方id\r\n       */\r\n      tuneIn_fn() {\r\n        this.request(\r\n          this.api.store.storeBasic_listStoreBasic,\r\n          this.dialogIncludeObj.formDataOut\r\n        ).then(res => {\r\n          this.dialogIncludeObj.tableOutDate = res;\r\n          this.dialogIncludeObj.checkOutItem = {};\r\n        });\r\n      },\r\n      //获取门店数据\r\n      getStoreList(id) {\r\n        this.request(this.api.retailStore.storeBasic_listSmart, {organizationId: id}).then(data => {\r\n          this.dialogIncludeObj.tableOutDate = data;\r\n          data.forEach((item, index) => {\r\n            item.createTime = this.$options.filters.timestampToTime(item.createTime);\r\n          });\r\n        });\r\n      },\r\n      async info() {\r\n        // 获取userId\r\n        let info = await this.request(this.api.user.get_userinfo, {}, true);\r\n        // 保存用户名称\r\n        this.addFormData.allotMan = info.name;\r\n        // 获取直属机构\r\n        let organization = await this.request(this.api.user.userCompany_getUserOrgByUserId, {userId: info.userId}, true);\r\n        this.addFormData.organizationId =  organization.id;\r\n        this.addFormData.organizationName =  organization.name;\r\n      },\r\n      /**\r\n       * 提示\r\n       * @param { String } message 提示文案\r\n       * @param { String } type 提示类型\r\n       */\r\n      warn(message, type) {\r\n        this.$message({\r\n          message: message,\r\n          type: type || \"success\"\r\n        });\r\n      },\r\n      // 调出单下一步\r\n      outNext(row) {\r\n        if(JSON.stringify(this.dialogIncludeObj.checkOutItem) == '{}') {\r\n          this.warn('请选择退返货客户！', 'warning');\r\n          return; \r\n        };\r\n        this.dialogIncludeObj.type = 'in';\r\n        this.getWarehouseList();\r\n      },\r\n      // 调入单上一步\r\n      inPrev() {\r\n        this.dialogIncludeObj.type = 'out';\r\n      },\r\n      // 调入单下一步\r\n      inNext() {\r\n        if(JSON.stringify(this.dialogIncludeObj.checkInItem) == '{}') {\r\n          this.warn('请选择收货仓库！', 'warning');\r\n          return; \r\n        }; \r\n        const outObj = this.dialogIncludeObj.checkOutItem;\r\n        const inObj = this.dialogIncludeObj.checkInItem;\r\n        Object.assign(this.addFormData, {\r\n          storeId: outObj.id,\r\n          storeName: outObj.name,\r\n          // storeType: outObj.type,\r\n          // 仓库\r\n          warehouseCode: inObj.warehouseCode,\r\n          warehouseName: inObj.warehouseName,\r\n          // 收货人\r\n          receiveMan:inObj.contact,\r\n          // 电话\r\n          phone: inObj.telephone,\r\n          warehouseType:inObj.warehouseType,\r\n          divisionId: inObj.divisionId,\r\n          addressInfo:inObj.address,\r\n          provinceName: inObj.provinceName,\r\n          provinceCode: inObj.provinceCode,\r\n          cityName: inObj.cityName,\r\n          cityCode: inObj.cityCode,\r\n          areaName: inObj.areaName,\r\n          areaCode: inObj.areaCode,\r\n        });\r\n        this.dialogIncludeObj.isDialogTableVisible = false;\r\n        console.log(this.addFormData);\r\n        // return;\r\n        sessionStorage.setItem('BACK_GOODS_INFO', JSON.stringify(this.addFormData));\r\n        // return;\r\n        let module = \"/\" + this.$route.path.split(\"/\")[1];\r\n        this.$router.push({\r\n          path: module + \"/order/returnGoods_order_edit\"\r\n        });\r\n        this.dialogIncludeObj.checkOutItem = {};\r\n        this.dialogIncludeObj.checkInItem = {};\r\n        this.dialogIncludeObj.type = 'out';\r\n      },\r\n      // 搜索\r\n      searchOutTableData() {\r\n        this.tuneIn_fn();\r\n      },\r\n      // 重置fromData选项\r\n      initOutTableFormData() {\r\n        Object.assign(this.dialogIncludeObj.formDataOut, {\r\n          name:null,\r\n          channel:null\r\n        })\r\n      },\r\n      // 搜索\r\n      searchInTableData() {\r\n        this.getWarehouseList(this.id);\r\n      },\r\n      // 重置fromData选项\r\n      initInTableFormData() {\r\n\r\n      },\r\n      // keepAlive 返回初始化\r\n      activatedInit(){\r\n        this.getTableData();\r\n      },\r\n      //导出\r\n      exportExcel(row) {\r\n        // 获取商品列表\r\n        this.request(this.api.order.returnProductInfo_list, {orderSn:row.backNum}).then(data => {\r\n          this.checkedTableData = data.data;\r\n          data.data.forEach((item, index) => {\r\n            item.realityBackQty = item.realityBackQty == null ? '--' : item.realityBackQty;\r\n          })\r\n          if(this.checkedTableData.length === 0){\r\n            this.$notify.error({ title: '错误',message: '请选择数据'});\r\n            return\r\n          }\r\n          require.ensure([], () => {\r\n            let { export_json_to_excel, export_table_to_excel } = require(\"@/vendor/Export2Excel\");\r\n            let tHeader = [\r\n              \"商品款号\",\r\n              \"商品货号\",\r\n              \"名称\",\r\n              \"商品图片\",\r\n\r\n              \"品牌\",\r\n              \"吊牌价\",\r\n              \"应返数量\",\r\n              \"实返数量\",\r\n\r\n              \"实收数量\",\r\n            ];\r\n            // 上面设置Excel的表格第一行的标题\r\n            let filterVal = [\r\n              \"productCode\",\r\n              \"goodsCode\",\r\n              \"goodsName\",\r\n              \"image\",\r\n\r\n              \"brandName\",\r\n              \"retailPrice\",\r\n              \"planBackQuantity\",\r\n              \"realityBackQty\",\r\n\r\n              \"receiveQuantity\"\r\n            ];\r\n            // 上面的index、nickName、name是tableData里对象的属性\r\n            let list = this.checkedTableData; //把data里的tableData存到list\r\n            let data = this.formatJson(filterVal, list);\r\n            export_json_to_excel(tHeader, data, \"返货单商品列表\");\r\n          });\r\n        });\r\n       \r\n      },\r\n      formatJson(filterVal, jsonData) {\r\n        return jsonData.map(v => filterVal.map(j => v[j]));\r\n      },\r\n      // 点击搜索\r\n      searchTableData(){\r\n        this.formData.pageIndex = 1;\r\n        this.getTableData();\r\n      },\r\n      // 获取列表数据\r\n      getTableData(){\r\n        this.request(this.api.order.returnGoods_returnsList, this.formData).then(data => {\r\n          this.initTableData(data.data);\r\n          this.tableData = data\r\n        });\r\n      },\r\n      // 初始化数据 导出使用\r\n      initTableData(data){\r\n        if(data && data.length){\r\n          data.forEach(item => {\r\n            item._backStatus = this.backTypeStatus[item.backStatus];\r\n            item._storeType = this.$options.filters.codeToName(\"STO001\", item.storeType);\r\n            item._totalPrice = '￥' + item.totalPrice;\r\n            item._receiveStatus = this.receiveStatusToName(item.receiveStatus);\r\n            item._createTime = this.$options.filters.timestampToTime(item.createTime);\r\n            item.returnTime = this.$options.filters.timestampToTime(item.returnTime);\r\n            item.realityProductNum = item.realityProductNum == null ? '--' : item.realityProductNum;\r\n            item.differenceQty = item.differenceQty == null ? '--' : item.differenceQty;\r\n            item.putInStorage = item.putInStorage == null ? '--' : item.putInStorage;\r\n          })\r\n        }\r\n      },\r\n      // 获取表格选中的\r\n      tableCheckChange(val){\r\n        this.checkedTableData = val;\r\n      },\r\n      // 初始查询条件\r\n      initFormData(){\r\n        Object.assign(this.formData, {\r\n          // 页面模块ID\r\n          menuId: '',\r\n          // 关键字\r\n          filter: '',\r\n          // 单据状态\r\n          backStatus: '',\r\n          // 门店名称\r\n          storeId: '',\r\n          // 仓库code\r\n          warehouseCode:'',\r\n          // 门店类型\r\n          storeType: '',\r\n          // 时间\r\n          createTimeBegin: '',\r\n          createTimeEnd: '',\r\n          pageIndex: 1,\r\n          pageSize: 10\r\n        })\r\n      },\r\n      edit(row, type) {\r\n        let module = '/' + this.$route.path.split('/')[1];\r\n        this.$router.push({\r\n          path: module + '/order/returnGoods_order_edit',\r\n          query: {\r\n            id: row.id,\r\n            backNum: row.backNum,\r\n            type: type\r\n          }\r\n        }); \r\n      },\r\n      // 查看 编辑\r\n      seeAndEditItem(row, type){\r\n        let module = '/' + this.$route.path.split('/')[1];\r\n        this.$router.push({\r\n          path: module + '/order/returnGoods_order_detail',\r\n          query: {\r\n            id: row.id,\r\n            backNum: row.backNum,\r\n            type: type\r\n          }\r\n        });\r\n      },\r\n      // 作废\r\n      delItem(row){\r\n        this.$confirm('作废后该单据将失效，是否要将该单据作废？', '提示', {\r\n          confirmButtonText: '确认',\r\n          cancelButtonText: '取消',\r\n          showClose:false\r\n        }).then(() => {\r\n          this.request(this.api.order.returnGoods_invalid, {id: row.id}).then(data => {\r\n            this.$notify.success({ title: '成功',message: '作废成功'});\r\n            this.getTableData();\r\n          });\r\n        }).catch(() => {\r\n        });\r\n      },\r\n      // 新增\r\n      addItem(){\r\n\r\n      },\r\n      // 状态转name\r\n      statusToName(val){\r\n        if(!val && val !== 0) return;\r\n        let item = this.billType.find(item => {\r\n          return item.id === val\r\n        });\r\n        if(item){\r\n          return item.name;\r\n        }else {\r\n          return val\r\n        }\r\n      },\r\n      //\r\n      receiveStatusToName(val){\r\n        if(!val && val !== 0) return;\r\n        let item = this.receiveStatus.find(item => {\r\n          return item.id === val\r\n        });\r\n        if(item){\r\n          return item.name;\r\n        }else {\r\n          return val\r\n        }\r\n      }\r\n    },\r\n    filters: {\r\n\r\n    },\r\n    // 计算属性\r\n    computed: {},\r\n    // 监听数据变化\r\n    watch: {}\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/views/scb/order"}]}