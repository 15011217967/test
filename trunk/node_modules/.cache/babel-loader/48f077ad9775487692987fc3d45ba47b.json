{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\components\\el-cascader-multi\\multi-cascader\\lib\\Node.js","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\components\\el-cascader-multi\\multi-cascader\\lib\\Node.js","mtime":1572415127830},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _toConsumableArray from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\EDZ\\\\Desktop\\\\\\u7814\\u53D1\\u9879\\u76EE\\\\vue-project\\\\trunk\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _ from 'lodash';\nimport { _uniq } from \"../tool/unit\";\nvar nodeIdSeed = 0;\n\nvar Node =\n/*#__PURE__*/\nfunction () {\n  function Node(options) {\n    _classCallCheck(this, Node);\n\n    this.id = nodeIdSeed++;\n    this.data = null;\n    this.parent = null;\n    this.isLeaf = true;\n    this.checked = false;\n\n    for (var option in options) {\n      if (options.hasOwnProperty(option)) {\n        this[option] = options[option];\n      }\n    }\n\n    var store = this.store;\n    this[store.valueKey] = options[store.valueKey] || null;\n    this.level = 0;\n    this.childNodes = [];\n\n    if (this.parent) {\n      this.level = this.parent.level + 1;\n      store.maxLevel = Math.max(store.maxLevel, this.level);\n      this.totalLabel = this.parent.totalLabel ? \"\".concat(this.parent.totalLabel).concat(this.store.separator).concat(this[store.labelKey]) : this[store.labelKey];\n      this.showLabel = this.store.showLeafLabel ? this.label : this.totalLabel;\n    }\n\n    this._idArr = this.parent && this.parent[store.valueKey] ? [].concat(_toConsumableArray(this.parent._idArr), [this[store.valueKey]]) : [this[store.valueKey]];\n    this.setData(this.data);\n  }\n\n  _createClass(Node, [{\n    key: \"setData\",\n    value: function setData(data) {\n      var _this = this;\n\n      var store = this.store;\n      this.data = data;\n      this.childNodes = [];\n      var children;\n\n      if (this.level === 0 && this.data instanceof Array) {\n        children = this.data;\n      } else {\n        children = this.hasOwnProperty(store.childrenKey) ? this[store.childrenKey] : [];\n        this.isLeaf = children.length === 0;\n        this.store.nodesMap[this.id] = this;\n        this.store.nodeList.push(this);\n        this[store.valueKey] = this[store.valueKey];\n      }\n\n      children.forEach(function (child) {\n        _this.insertChild(child);\n      });\n    }\n  }, {\n    key: \"insertChild\",\n    value: function insertChild(child) {\n      child = Object.assign(child, {\n        parent: this,\n        store: this.store\n      });\n      child = new Node(child);\n      this.childNodes.push(child);\n    }\n  }, {\n    key: \"check\",\n    value: function check(checked) {\n      if (this.disabled) {\n        return false;\n      }\n\n      this.checked = checked;\n      this.updateSelectIds(checked, this.id);\n\n      if (this.childNodes) {\n        this.childNodes.forEach(function (child) {\n          child.check(checked);\n        });\n      }\n\n      if (this.parent) {\n        this.parent.checkedAll();\n      }\n    }\n  }, {\n    key: \"checkedAll\",\n    value: function checkedAll() {\n      if (this.childNodes) {\n        this.checked = this.childNodes.every(function (child) {\n          return child.checked;\n        });\n        this.updateSelectIds(this.checked, this.id);\n      }\n\n      if (this.parent) {\n        this.parent.checkedAll();\n      }\n    }\n  }, {\n    key: \"updateSelectIds\",\n    value: function updateSelectIds(checked, id) {\n      var store = this.store;\n\n      if (checked) {\n        if (this.isLeaf) {\n          var tempList = _toConsumableArray(store.selectedIds);\n\n          tempList.push(id);\n          tempList = _uniq(tempList);\n          store.selectedIds = tempList;\n        }\n      } else {\n        var _tempList = _toConsumableArray(store.selectedIds);\n\n        var index = _tempList.findIndex(function (o) {\n          return o === id;\n        });\n\n        if (index >= 0) {\n          _tempList.splice(index, 1);\n        }\n\n        _tempList = _uniq(_tempList);\n        store.selectedIds = _tempList;\n      }\n    }\n  }]);\n\n  return Node;\n}();\n\nexport { Node as default };",{"version":3,"sources":["C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\components\\el-cascader-multi\\multi-cascader\\lib\\Node.js"],"names":["_","_uniq","nodeIdSeed","Node","options","id","data","parent","isLeaf","checked","option","hasOwnProperty","store","valueKey","level","childNodes","maxLevel","Math","max","totalLabel","separator","labelKey","showLabel","showLeafLabel","label","_idArr","setData","children","Array","childrenKey","length","nodesMap","nodeList","push","forEach","child","insertChild","Object","assign","disabled","updateSelectIds","check","checkedAll","every","tempList","selectedIds","index","findIndex","o","splice"],"mappings":"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","sourcesContent":["import _ from 'lodash'\r\nimport { _uniq } from '../tool/unit'\r\nlet nodeIdSeed = 0\r\nexport default class Node {\r\n  constructor (options) {\r\n    this.id = nodeIdSeed++\r\n    this.data = null\r\n    this.parent = null\r\n    this.isLeaf = true\r\n    this.checked = false\r\n    for (let option in options) {\r\n      if (options.hasOwnProperty(option)) {\r\n        this[option] = options[option]\r\n      }\r\n    }\r\n    let store = this.store\r\n    this[store.valueKey] = options[store.valueKey] || null\r\n    this.level = 0\r\n    this.childNodes = []\r\n    if (this.parent) {\r\n      this.level = this.parent.level + 1\r\n      store.maxLevel = Math.max(store.maxLevel, this.level)\r\n      this.totalLabel = this.parent.totalLabel\r\n        ? `${this.parent.totalLabel}${this.store.separator}${this[store.labelKey]}`\r\n        : this[store.labelKey]\r\n      this.showLabel = this.store.showLeafLabel ? this.label : this.totalLabel\r\n    }\r\n    this._idArr = this.parent && this.parent[store.valueKey]\r\n      ? [...this.parent._idArr, this[store.valueKey]]\r\n      : [this[store.valueKey]]\r\n    this.setData(this.data)\r\n  }\r\n\r\n  setData (data) {\r\n    let store = this.store\r\n    this.data = data\r\n    this.childNodes = []\r\n    let children\r\n    if (this.level === 0 && this.data instanceof Array) {\r\n      children = this.data\r\n    } else {\r\n      children = this.hasOwnProperty(store.childrenKey) ? this[store.childrenKey] : []\r\n      this.isLeaf = children.length === 0\r\n      this.store.nodesMap[this.id] = this\r\n      this.store.nodeList.push(this)\r\n      this[store.valueKey] = this[store.valueKey]\r\n    }\r\n    children.forEach(child => {\r\n      this.insertChild(child)\r\n    })\r\n  }\r\n\r\n  insertChild (child) {\r\n    child = Object.assign(child, {\r\n      parent: this,\r\n      store: this.store\r\n    })\r\n    child = new Node(child)\r\n    this.childNodes.push(child)\r\n  }\r\n\r\n  check (checked) {\r\n    if (this.disabled) { return false }\r\n    this.checked = checked\r\n    this.updateSelectIds(checked, this.id)\r\n    if (this.childNodes) {\r\n      this.childNodes.forEach(child => {\r\n        child.check(checked)\r\n      })\r\n    }\r\n    if (this.parent) {\r\n      this.parent.checkedAll()\r\n    }\r\n  }\r\n  checkedAll () {\r\n    if (this.childNodes) {\r\n      this.checked = this.childNodes.every(child => child.checked)\r\n      this.updateSelectIds(this.checked, this.id)\r\n    }\r\n    if (this.parent) {\r\n      this.parent.checkedAll()\r\n    }\r\n  }\r\n\r\n  updateSelectIds (checked, id) {\r\n    let store = this.store\r\n    if (checked) {\r\n      if (this.isLeaf) {\r\n        let tempList = [...store.selectedIds]\r\n        tempList.push(id)\r\n        tempList = _uniq(tempList)\r\n        store.selectedIds = tempList\r\n      }\r\n    } else {\r\n      let tempList = [...store.selectedIds]\r\n      let index = tempList.findIndex(o => o === id)\r\n      if (index >= 0) {\r\n        tempList.splice(index, 1)\r\n      }\r\n        tempList = _uniq(tempList)\r\n        store.selectedIds = tempList\r\n    }\r\n  }\r\n}\r\n"]}]}