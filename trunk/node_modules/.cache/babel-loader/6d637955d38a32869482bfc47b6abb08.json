{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\market\\decorate\\store_decorate_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\market\\decorate\\store_decorate_list.vue","mtime":1574160265391},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { getToken } from '@/utils/auth';\nimport codeSet from '@/components/codeSet';\nimport treeDept from '@/components/treeDept';\nimport { filter } from 'minimatch';\nimport { get } from 'http';\nvar token = getToken();\nexport default {\n  name: 'store_decorate_list',\n  data: function data() {\n    return {\n      // 折扣列表\n      discountData: [],\n      data_obj: {},\n      // 折扣类型\n      discountType: ['预约折扣', '阶梯折扣', '单品折扣'],\n      // 门店列表\n      storeList: {},\n      // 装修状态\n      storyStatus: [{\n        id: 1,\n        name: '未装修'\n      }, {\n        id: 2,\n        name: '已装修'\n      }],\n      // 检索\n      filtersData: {\n        pageIndex: 1,\n        // 当前页码\n        pageSize: 10,\n        // 每页数量\n        \"customerStory\": null,\n        \"storeStory\": null,\n        \"id\": null\n      }\n    };\n  },\n  created: function created() {\n    var that = this;\n    this.getStoreList();\n    this.storeFitment_listBasicState(); // 获取折扣列表\n  },\n  activated: function activated() {\n    this.storeFitment_listBasicState();\n  },\n  methods: {\n    /**\r\n     * 查询门店列表\r\n     */\n    getStoreList: function getStoreList() {\n      var that = this;\n      this.request(that.api.market.storeBasic_list4Feign, {}, true).then(function (res) {\n        that.storeList = res;\n      });\n    },\n\n    /**\r\n     * 提示\r\n     * @param { String } message 提示文案\r\n     * @param { String } type 提示类型\r\n     */\n    warn: function warn(message, type) {\n      this.$message({\n        message: message,\n        type: type || 'success'\n      });\n    },\n\n    /**  \r\n     * 编辑\r\n     * @param { Object } item 当前对象\r\n     * @param { Boolean } isRead 是否可对写\r\n     * @property { Boolean }isEcho 是否是编辑\r\n     * @return { Object } Obj 返回对象\r\n     */\n    timeRedact: function timeRedact(item) {\n      var Obj = {};\n      this.href('market/decorate/store_decorate_edit', {\n        storeId: item.id,\n        name: item.name\n      });\n    },\n\n    /**\r\n     * 获取门店故事列表\r\n     */\n    storeFitment_listBasicState: function storeFitment_listBasicState() {\n      var _this = this;\n\n      this.request(this.api.market.storeFitment_listBasicState, this.filtersData).then(function (res) {\n        _this.discountData = res;\n      });\n    },\n\n    /**\r\n     * 跳转工单详情\r\n     */\n    href: function href(routeName, param) {\n      this.$router.push({\n        path: '/' + routeName,\n        query: param\n      });\n    },\n\n    /**\r\n     * 模糊搜索\r\n     */\n    handleSearch: function handleSearch() {\n      this.filtersData.pageIndex = 1;\n      this.storeFitment_listBasicState();\n    },\n\n    /**\r\n     * 搜索重置\r\n     */\n    handleResetFilters: function handleResetFilters() {\n      Object.assign(this.filtersData, {\n        pageIndex: 1,\n        // 当前页码\n        pageSize: 10,\n        // 每页数量\n        \"customerStory\": null,\n        \"storeStory\": null,\n        \"id\": null\n      });\n    },\n\n    /**\r\n     * 点击页数\r\n     * @param { Number } pageIndex 当前页\r\n     */\n    handleCurrentChange: function handleCurrentChange(pageIndex) {\n      this.filtersData.pageIndex = pageIndex;\n      this.storeFitment_listBasicState();\n    },\n\n    /**\r\n     *  选择每页多少条数\r\n     *  @param { Number } pageSize 每页条数\r\n     */\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.filtersData.pageSize = pageSize;\n      this.storeFitment_listBasicState();\n    }\n  },\n  components: {\n    codeSet: codeSet,\n    treeDept: treeDept\n  }\n};",{"version":3,"sources":["store_decorate_list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n   <div>\r\n      <!-- 模糊搜索 -->\r\n      <div class=\"item-margin\">\r\n         <el-form\r\n            class=\"item-form\"\r\n            size=\"small\"\r\n            :inline=\"true\"\r\n            :model=\"filtersData\">\r\n            <!-- 模糊查询 -->\r\n            <el-form-item label=\"门店故事：\" prop=\"storeId\">\r\n               <el-select \r\n               clearable\r\n               filterable\r\n               v-model=\"filtersData.storeStory\"\r\n               class=\"el-input-short\">\r\n               <el-option v-for=\"(item, index) in storyStatus\" :key=\"index\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n               </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"客户故事：\" prop=\"storeId\">\r\n               <el-select \r\n               clearable\r\n               filterable\r\n               v-model=\"filtersData.customerStory\"\r\n               class=\"el-input-short\">\r\n               <el-option v-for=\"(item, index) in storyStatus\" :key=\"index\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n               </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"适用门店：\" prop=\"storeId\">\r\n               <el-select \r\n               clearable\r\n               filterable\r\n               v-model=\"filtersData.id\"\r\n               class=\"el-input-short\">\r\n               <el-option v-for=\"(item, index) in storeList.data\" :key=\"index\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n               </el-select>\r\n            </el-form-item>\r\n            <!-- 搜索，重置 -->\r\n            <el-form-item>\r\n               <el-button size=\"small\" @click=\"handleSearch\" type=\"primary\" plain>搜索</el-button>\r\n               <el-button size=\"small\" @click=\"handleResetFilters\">重置</el-button>\r\n            </el-form-item>\r\n         </el-form>\r\n      </div>\r\n      <!-- 模糊搜索 -->\r\n      <!-- 列表 -->\r\n      <div class=\"box\">\r\n         <el-table\r\n            class=\"mt-20\"\r\n            :data=\"discountData.data\"\r\n            stripe\r\n            empty-text=\"暂无数据\"\r\n            header-align=\"center\"\r\n            header-row-class-name=\"item-table-header\"\r\n            :highlight-current-row=\"true\">\r\n            <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"门店名称\" min-width=\"100\">\r\n               <template  slot-scope=\"scope\">{{ scope.row.name  }}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"门店故事\" min-width=\"100\">\r\n               <template  slot-scope=\"scope\">{{ scope.row.storeStory  }}</template>\r\n            </el-table-column>\r\n             <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"客户故事\" min-width=\"100\">\r\n               <template  slot-scope=\"scope\">{{ scope.row.customerStory }}</template>\r\n            </el-table-column>\r\n            <!-- 操作 -->\r\n            <el-table-column\r\n               fixed=\"right\"\r\n               label-class-name=\"text-center\"\r\n               class-name=\"text-center\"\r\n               align=\"center\"\r\n               label=\"操作\"\r\n               width=\"180\">\r\n               <template slot-scope=\"scope\">\r\n                  <el-button type=\"text\" size=\"small\" @click=\"timeRedact(scope.row)\">修改</el-button>\r\n               </template>\r\n            </el-table-column>\r\n         </el-table>\r\n         <div class=\"pagination mt-10 mb-20\">\r\n            <!-- 分页 -->\r\n            <el-pagination\r\n               class=\"mr-20\"\r\n               @size-change=\"handleSizeChange\"\r\n               @current-change=\"handleCurrentChange\"\r\n               :current-page=\"filtersData.pageIndex\"\r\n               :page-sizes=\"[10,20,30,40,50]\"\r\n               :page-size=\"filtersData.pageSize\"\r\n               :total=\"discountData.totalCount\"\r\n               layout=\"total, sizes, prev, pager, next, jumper\"\r\n            ></el-pagination>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</template>\r\n<!-- 工单池 -->\r\n<script>\r\nimport axios from 'axios'\r\nimport {getToken} from '@/utils/auth'\r\nimport codeSet from '@/components/codeSet'\r\nimport treeDept from '@/components/treeDept'\r\nimport { filter } from 'minimatch';\r\nimport { get } from 'http';\r\n\r\nlet token=getToken()\r\n\r\nexport default {\r\n   name:'store_decorate_list',\r\n   data() {\r\n      return{\r\n         // 折扣列表\r\n         discountData:[],\r\n         data_obj:{},\r\n         // 折扣类型\r\n         discountType:[\r\n            '预约折扣',\r\n            '阶梯折扣',\r\n            '单品折扣'\r\n         ],\r\n         // 门店列表\r\n         storeList:{},\r\n         // 装修状态\r\n         storyStatus:[{\r\n            id:1,\r\n            name:'未装修'\r\n         },{\r\n            id:2,\r\n            name:'已装修'\r\n         }],\r\n         // 检索\r\n         filtersData:{\r\n            pageIndex: 1,// 当前页码\r\n            pageSize: 10,// 每页数量\r\n            \"customerStory\": null,\r\n            \"storeStory\": null,\r\n            \"id\": null\r\n         }\r\n      }\r\n   },\r\n   created() {\r\n      const that = this;\r\n      this.getStoreList();\r\n      this.storeFitment_listBasicState();// 获取折扣列表\r\n   },\r\n   activated() {\r\n      this.storeFitment_listBasicState();\r\n   },\r\n   methods: {\r\n      /**\r\n       * 查询门店列表\r\n       */\r\n      getStoreList() {\r\n         const that = this;\r\n\r\n         this.request(\r\n         that.api.market.storeBasic_list4Feign,\r\n         {},\r\n         true\r\n         ).then(res => {\r\n            that.storeList = res;\r\n         });\r\n      },\r\n      /**\r\n       * 提示\r\n       * @param { String } message 提示文案\r\n       * @param { String } type 提示类型\r\n       */\r\n      warn(message, type) {\r\n         this.$message({\r\n         message: message,\r\n         type: type || 'success'\r\n         });\r\n      },\r\n      /**  \r\n       * 编辑\r\n       * @param { Object } item 当前对象\r\n       * @param { Boolean } isRead 是否可对写\r\n       * @property { Boolean }isEcho 是否是编辑\r\n       * @return { Object } Obj 返回对象\r\n       */\r\n      timeRedact(item) {\r\n         var Obj = {};\r\n         this.href('market/decorate/store_decorate_edit',{\r\n            storeId:item.id,\r\n            name:item.name,\r\n         })\r\n      },\r\n      /**\r\n       * 获取门店故事列表\r\n       */\r\n      storeFitment_listBasicState() {\r\n         this.request(\r\n            this.api.market.storeFitment_listBasicState,\r\n            this.filtersData     \r\n         ).then(res => {\r\n            this.discountData = res;\r\n         });\r\n      },\r\n      /**\r\n       * 跳转工单详情\r\n       */\r\n      href(routeName, param) {                    \r\n         this.$router.push({\r\n            path: '/' + routeName,\r\n            query: param\r\n         })\r\n      },\r\n      /**\r\n       * 模糊搜索\r\n       */\r\n      handleSearch() {\r\n         this.filtersData.pageIndex = 1;\r\n         this.storeFitment_listBasicState();\r\n      },\r\n      /**\r\n       * 搜索重置\r\n       */\r\n      handleResetFilters() {\r\n         Object.assign(this.filtersData,{\r\n            pageIndex: 1,// 当前页码\r\n            pageSize: 10,// 每页数量\r\n            \"customerStory\": null,\r\n            \"storeStory\": null,\r\n            \"id\": null\r\n         });\r\n      },\r\n      /**\r\n       * 点击页数\r\n       * @param { Number } pageIndex 当前页\r\n       */\r\n      handleCurrentChange(pageIndex){\r\n         this.filtersData.pageIndex = pageIndex;\r\n         this.storeFitment_listBasicState();\r\n      },\r\n      /**\r\n       *  选择每页多少条数\r\n       *  @param { Number } pageSize 每页条数\r\n       */\r\n      handleSizeChange(pageSize){\r\n         this.filtersData.pageSize = pageSize;\r\n         this.storeFitment_listBasicState();\r\n      },\r\n   },\r\n   components:{\r\n      codeSet,\r\n      treeDept\r\n   },\r\n}\r\n</script>\r\n<style  lang=\"less\" scoped>\r\n   .previewVisible-list{\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      .item{\r\n         width: 50%;\r\n         margin-right: 0;\r\n         text-align: right;\r\n      }\r\n   }\r\n   .blueness{  \r\n      color: #1E90FF;\r\n   }\r\n   h5 {\r\n     color: #222;\r\n     margin-left: -15px;\r\n   }\r\n   .test {\r\n     color: #9d9d9d;\r\n   }\r\n   .box{\r\n      padding: 20px 20px 20px 20px;\r\n      margin: 8px 8px 20px 8px;\r\n      background: #fff;\r\n   }\r\n</style>\r\n"],"sourceRoot":"src/views/market/decorate"}]}