{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\components\\submenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\components\\submenu.vue","mtime":1574160264366},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  name: \"lss-sub-menu\",\r\n  props: [\"menu\"],\r\n  methods: {\r\n    ...mapActions({\r\n      cachedViewDelAll: 'cachedViews/cachedViewDelAll',\r\n      cachedViewAdd: 'cachedViews/cachedViewAdd'\r\n    }),\r\n    selMenu(curMenu) {\r\n      if(!curMenu.routePath) return;\r\n      // 清除所有缓存的页面\r\n      this.cachedViewDelAll();\r\n      this.$nextTick(() => {\r\n        // 判断是否缓存页面\r\n        let routeName = curMenu.routePath.split('/').pop();\r\n        let keepAlive = JSON.parse(curMenu.meta).keepAlive || false;\r\n        if(keepAlive){\r\n          this.cachedViewAdd(routeName);\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n",{"version":3,"sources":["submenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"submenu.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-menu-item-group>\r\n    <template v-for=\"chmenu in menu\">\r\n      <template v-if=\"chmenu.type == 1\">\r\n        <el-menu-item-group :key=\"chmenu.id\"  style=\"margin-top:10px\">\r\n           <template slot=\"title\">\r\n             <img v-if=\"!!chmenu.icon\" class=\"icon-img\" :src=\"chmenu.icon\" >\r\n             <i v-else  class=\"icon-station\"></i>\r\n             <span class=\"chmenu-name\">{{chmenu.name}}</span>\r\n           </template>\r\n          <template v-if=\"chmenu.sublist && chmenu.sublist.length>0\">\r\n            <template v-for=\"item in chmenu.sublist\" >\r\n              <template v-if=\"item.sublist && item.sublist.length > 0\">\r\n                <el-menu-item-group :key=\"item.id\" :title=\"item.name\" v-if=\"item.type == 1\">\r\n                  <lss-sub-menu v-if=\"item.sublist && item.sublist.length > 0\" :key=\"item.id\" :menu=\"item.id\"/>\r\n                </el-menu-item-group>\r\n                <lss-sub-menu :key=\"item.id\" :menu=\"item.sublist\" v-else/>\r\n              </template>\r\n              <template v-else>\r\n                <el-menu-item-group v-if=\"item.type==1\" :key=\"item.id\" :title=\"item.name\"></el-menu-item-group>\r\n                <el-menu-item :key=\"item.id\" :index=\"item.routePath\" @click=\"selMenu(item)\" class=\"el-itemname\"  v-else>\r\n                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{item.name}}\r\n                </el-menu-item>\r\n              </template>\r\n            </template>\r\n          </template>\r\n        </el-menu-item-group>\r\n      </template>\r\n      <template v-else>\r\n        <el-submenu v-if=\"chmenu.sublist && chmenu.sublist.length > 0\" :key=\"chmenu.id\" :index=\"chmenu.id\"  class=\"submenuname\">\r\n          <template slot=\"title\">\r\n             <img v-if=\"!!chmenu.icon\" class=\"iconimg\" :src=\"chmenu.icon\" alt>\r\n              {{chmenu.name}}\r\n          </template>\r\n          <lss-sub-menu :menu=\"chmenu.sublist\"></lss-sub-menu>\r\n        </el-submenu>\r\n        <el-menu-item v-else :index=\"chmenu.routePath\" :key=\"chmenu.id\"   class=\"chmenufour\" @click=\"selMenu(chmenu)\">\r\n        <img v-if=\"!!chmenu.icon\" class=\"iconimg\" :src=\"chmenu.icon\" alt>\r\n         {{chmenu.name}}\r\n        </el-menu-item>\r\n      </template>\r\n    </template>\r\n  </el-menu-item-group>\r\n</template>\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  name: \"lss-sub-menu\",\r\n  props: [\"menu\"],\r\n  methods: {\r\n    ...mapActions({\r\n      cachedViewDelAll: 'cachedViews/cachedViewDelAll',\r\n      cachedViewAdd: 'cachedViews/cachedViewAdd'\r\n    }),\r\n    selMenu(curMenu) {\r\n      if(!curMenu.routePath) return;\r\n      // 清除所有缓存的页面\r\n      this.cachedViewDelAll();\r\n      this.$nextTick(() => {\r\n        // 判断是否缓存页面\r\n        let routeName = curMenu.routePath.split('/').pop();\r\n        let keepAlive = JSON.parse(curMenu.meta).keepAlive || false;\r\n        if(keepAlive){\r\n          this.cachedViewAdd(routeName);\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.iconimg{\r\n  width: 16px;\r\n  height: 16px;\r\n  margin-right: 5px;\r\n  vertical-align: -3px;\r\n}\r\n.icon-station{\r\n  display: inline-block;\r\n    width: 16px;\r\n  height: 16px;\r\n  margin-right: 5px;\r\n}\r\n\r\n.chmenufour{\r\n  /* background: #4f525b !important; */\r\n  height: 30px;\r\n  line-height: 30px;\r\n  font-size: 12px;\r\n  margin: 10px 0;\r\n}\r\n/* .el-menu-item-group__title .chmenu-name{\r\n  margin-bottom: 10px;\r\n  display: inline-block;\r\n} */\r\n.el-submenu .el-menu-item{\r\n\r\n}\r\n.el-itemname{\r\n  height: 30px;\r\n  line-height: 30px;\r\n  font-size: 12px;\r\n  margin: 10px 0;\r\n}\r\n</style>\r\n"]}]}