{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\market\\coupon\\coupon_details.vue?vue&type=template&id=36e64839&scoped=true&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\market\\coupon\\coupon_details.vue","mtime":1573608893447},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1558492728890},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["\n<div class=\"bg-fff item-margin coupon-box\">\n  <!-- 卡券配置 -->\n  <el-form\n    class=\"item-form coupon-form\"\n    :model=\"filtersData\"\n    :rules=\"rules\"\n    label-width=\"120px\"\n    size=\"small\"\n    ref=\"filtersForm\"\n  >\n    <el-tabs v-model=\"activeName\" class=\"basic-wrap\">\n      <!-- 数据汇总 -->\n      <el-tab-pane v-if=\"paramType != 'add'\" label=\"数据汇总\" name=\"dataSummary\">\n        <div class=\"summary-wrap\">\n          <dl v-for=\"(item,index) in summaryData\" :key=\"index\">\n            <dt>{{item.name}}</dt>\n            <dd>{{item.val}}</dd>\n          </dl>\n        </div>\n      </el-tab-pane>\n      <!-- 基本设置 -->\n      <el-tab-pane label=\"基本设置\" name=\"basic\">\n        <el-form-item prop=\"name\" label=\"卡券标题：\">\n          <el-input\n            class=\"input-w-2\"\n            :disabled=\"showDisabled\"\n            placeholder=\"请输入卡券标题，如：领券到店立享受优惠\"\n            v-model=\"filtersData.name\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"type\" label=\"卡券类型：\">\n          <el-select\n            class=\"input-w-2\"\n            @change=\"handleTypeChange\"\n            placeholder=\"请选择\"\n            v-model=\"filtersData.type\"\n            :disabled=\"editDisabled\"\n          >\n            <el-option\n              v-for=\"item in COUPON.type\"\n              :key=\"item.code\"\n              :label=\"item.name\"\n              :value=\"item.code\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <!-- 根据卡券类型切换  -->\n        <!-- 面额 元  -->\n        <el-form-item\n          v-if=\"filtersData.type == 'REDUCE'\"\n          prop=\"denomination\"\n          :rules=\"[\n            { required: true, message: '面额不能为空',trigger: 'blur'},\n             { validator: validateNaturalNumber, trigger: 'blur' }\n          ]\"\n          label=\"面额：\"\n        >\n          <el-input\n            class=\"input-w\"\n            :disabled=\"editDisabled\"\n            placeholder=\"请输入减免金额\"\n            v-model=\"filtersData.denomination\"\n          ></el-input>\n          <em>元</em>\n        </el-form-item>\n        <!-- 面额 折  -->\n        <el-form-item\n          v-else-if=\"filtersData.type == 'DISCOUNTS'\"\n          prop=\"denomination\"\n          :rules=\"[\n            { required: true, message: '折扣不能为空',trigger: 'blur'},\n            { validator: validateDiscount, trigger: 'blur' }\n          ]\"\n          label=\"面额：\"\n        >\n          <el-input\n            class=\"input-w\"\n            :disabled=\"editDisabled\"\n            placeholder=\"请输入折扣,如9.9\"\n            v-model=\"filtersData.denomination\"\n          ></el-input>\n          <em>折</em>\n        </el-form-item>\n        <!-- 实物描述 -->\n        <el-form-item\n          v-else-if=\"filtersData.type == 'GIFT'\"\n          prop=\"giftDescription\"\n          :rules=\"[{required: true, message: '请输入实物描述', trigger: 'blur'},\n           { min: 1, max: 10, message: '最长不超过10个字符', trigger: 'blur' }]\"\n          label=\"实物描述：\"\n        >\n          <el-input\n            class=\"input-w-2\"\n            :disabled=\"editDisabled\"\n            placeholder=\"请输入实物描述，如：纯棉毛巾一条\"\n            v-model=\"filtersData.giftDescription\"\n          ></el-input>\n        </el-form-item>\n        <!-- 根据卡券类型切换 END -->\n        <el-form-item prop=\"usingCondition\" label=\"使用条件：\">\n          <el-select\n            class=\"input-w-2\"\n            @change=\"handleConditionChange\"\n            :disabled=\"editDisabled\"\n            placeholder=\"请选择\"\n            v-model=\"filtersData.usingCondition\"\n          >\n            <el-option\n              v-for=\"item in COUPON.usingCondition\"\n              :key=\"item.code\"\n              :label=\"item.name\"\n              :value=\"item.code\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <!-- 根据使用条件切换  -->\n        <el-form-item\n          v-if=\"filtersData.usingCondition == 'AMOUNT'\"\n          prop=\"minAmount\"\n          :rules=\"[\n            { required: true, message: '金额不能为空',trigger: 'blur'},\n            { validator: validateNaturalNumber, trigger: 'blur' }\n          ]\"\n          label=\"满：\"\n        >\n          <el-input\n            class=\"input-w\"\n            :disabled=\"editDisabled\"\n            placeholder=\"请输入条件金额\"\n            v-model=\"filtersData.minAmount\"\n          ></el-input>\n          <em>元可使用</em>\n        </el-form-item>\n        <el-form-item\n          v-if=\"filtersData.usingCondition == 'SUBSTANCE'\"\n          prop=\"minAmount\"\n          :rules=\"[\n            { required: true, message: '件数不能为空',trigger: 'blur'},\n            { validator: validateNaturalNumber, trigger: 'blur' }\n          ]\"\n          label=\"满：\"\n        >\n          <el-input\n            class=\"input-w\"\n            :disabled=\"editDisabled\"\n            placeholder=\"请输入购物数量\"\n            v-model=\"filtersData.minAmount\"\n          ></el-input>\n          <em>件可使用</em>\n        </el-form-item>\n        <!-- 根据使用条件切换 END  -->\n        <el-form-item\n          prop=\"totalLimit\"\n          :rules=\"[\n            { required: true, message: '可领数量不能为空',trigger: 'blur'},\n            { validator: validateNaturalNumber, trigger: 'blur' }\n          ]\"\n          label=\"可领数量：\"\n        >\n          <el-input\n            class=\"input-w-2\"\n            :disabled=\"editDisabled\"\n            placeholder=\"请输入卡券库存数量\"\n            v-model=\"filtersData.totalLimit\"\n          ></el-input>\n          <el-button\n            v-if=\"paramType == 'edit'\"\n            @click=\"totalLimitVisible=true;\"\n            type=\"text\"\n            size=\"mini\"\n          >增加</el-button>\n        </el-form-item>\n      </el-tab-pane>\n      <!-- 基本设置 END-->\n      <!-- 适用范围 -->\n      <el-tab-pane label=\"适用范围\" name=\"area\">\n        <el-form-item prop=\"storeId\" label=\"适用门店：\">\n          <el-select\n            class=\"input-w-2\"\n            @change=\"handleStoreGet\"\n            :disabled=\"editDisabled\"\n            clearable\n            filterable\n            placeholder=\"请选择\"\n            v-model=\"filtersData.storeId\"\n          >\n            <el-option\n              v-for=\"item in storeOptions\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item v-if=\"timeBugFlag\" required class=\"time-wrap\" label=\"持续时间：\">\n          <el-col :span=\"11\">\n            <el-form-item prop=\"sendStartTime\" class=\"mb-0\">\n              <el-date-picker\n                :disabled=\"showDisabled\"\n                :clearable=\"false\"\n                v-model=\"filtersData.sendStartTime\"\n                type=\"date\"\n                placeholder=\"请选择开始日期\"\n                :picker-options=\"pickerOptionsA\"\n                format=\"yyyy 年 MM 月 dd 日\"\n                class=\"input-w\"\n              ></el-date-picker>\n            </el-form-item>\n          </el-col>\n          <el-col class=\"line\" :span=\"2\">-</el-col>\n          <el-col :span=\"11\">\n            <el-form-item prop=\"sendEndTime\" class=\"mb-0\">\n              <el-date-picker\n                :clearable=\"false\"\n                :disabled=\"showDisabled\"\n                v-model=\"filtersData.sendEndTime\"\n                type=\"date\"\n                placeholder=\"请选择结束日期\"\n                :picker-options=\"pickerOptionsB\"\n                format=\"yyyy 年 MM 月 dd 日\"\n                class=\"input-w\"\n              ></el-date-picker>\n            </el-form-item>\n          </el-col>\n        </el-form-item>\n        <el-form-item prop=\"validityType\" label=\"有效时间类型：\">\n          <el-select\n            class=\"input-w-2\"\n            @change=\"handleValidityTypeChange\"\n            :disabled=\"editDisabled\"\n            placeholder=\"请选择\"\n            v-model=\"filtersData.validityType\"\n          >\n            <el-option\n              v-for=\"item in  COUPON.validityType\"\n              :key=\"item.code\"\n              :label=\"item.name\"\n              :value=\"item.code\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          v-if=\"filtersData.validityType == 'COLLECTION'\"\n          prop=\"validityPeriod\"\n          :rules=\"[\n            { required: true, message: '天数不能为空',trigger: 'blur'},\n            { validator: validateNaturalNumber, trigger: 'blur' }\n          ]\"\n          label=\"领取后：\"\n        >\n          <el-input\n            class=\"input-w\"\n            :disabled=\"showDisabled\"\n            placeholder=\"请输入天数，如：7\"\n            v-model=\"filtersData.validityPeriod\"\n          ></el-input>\n          <em>天内有效</em>\n        </el-form-item>\n        <el-form-item\n          class=\"time-wrap\"\n          v-else-if=\"filtersData.validityType == 'PERIOD'\"\n          label=\"有效日期：\"\n          required\n        >\n          <el-col :span=\"11\">\n            <el-form-item prop=\"usingStartTime\" class=\"mb-0\">\n              <el-date-picker\n                :disabled=\"editDisabled\"\n                :clearable=\"false\"\n                v-model=\"filtersData.usingStartTime\"\n                type=\"date\"\n                placeholder=\"请选择开始日期\"\n                :picker-options=\"pickerOptionsC\"\n                format=\"yyyy 年 MM 月 dd 日\"\n                class=\"input-w\"\n              ></el-date-picker>\n            </el-form-item>\n          </el-col>\n          <el-col class=\"line\" :span=\"2\">-</el-col>\n          <el-col :span=\"11\">\n            <el-form-item prop=\"usingEndTime\" class=\"mb-0\">\n              <el-date-picker\n                :clearable=\"false\"\n                :disabled=\"showDisabled\"\n                v-model=\"filtersData.usingEndTime\"\n                type=\"date\"\n                placeholder=\"请选择开始日期\"\n                :picker-options=\"pickerOptionsD\"\n                format=\"yyyy 年 MM 月 dd 日\"\n                class=\"input-w\"\n              ></el-date-picker>\n            </el-form-item>\n          </el-col>\n        </el-form-item>\n        <el-form-item prop=\"range\" label=\"适用商品：\">\n          <el-select\n            class=\"input-w-2\"\n            placeholder=\"请选择\"\n            :disabled=\"editDisabled\"\n            v-model=\"filtersData.range\"\n          >\n            <el-option label=\"通用\" value=\"GENERAL\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item prop=\"superposition\" label=\"叠加折扣：\">\n          <el-select\n            :disabled=\"editDisabled\"\n            class=\"input-w-2\"\n            placeholder=\"请选择折扣叠加规则\"\n            v-model=\"filtersData.superposition\"\n          >\n            <!-- <el-option label=\"不可叠加\" :value=\"false\"></el-option> -->\n            <el-option label=\"叠加所有折扣\" :value=\"true\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item prop=\"userLimitType\" label=\"领取规则：\">\n          <el-select\n            class=\"input-w-2\"\n            :disabled=\"editDisabled\"\n            placeholder=\"请选择领取规则\"\n            v-model=\"filtersData.userLimitType\"\n          >\n            <el-option label=\"限领一张；\" value=\"SINGLE\"></el-option>\n            <el-option label=\"限领一张，可重复领取；\" value=\"HOLD_SINGLE\"></el-option>\n          </el-select>\n        </el-form-item>\n      </el-tab-pane>\n      <!-- 适用范围 END-->\n      <!-- 其他设置 -->\n      <el-tab-pane label=\"其他设置\" name=\"other\">\n        <!-- <el-form-item prop=\"forward\" label=\"转发设置：\">\n          <el-select class=\"input-w-2\" placeholder=\"请选择\" v-model=\"filtersData.forward\">\n            <el-option label=\"不允许转发\" :value=\"false\"></el-option>\n            <el-option label=\"允许转发\" :value=\"true\"></el-option>\n          </el-select>\n        </el-form-item>-->\n        <el-form-item label=\"页面封面：\" prop=\"cover\">\n          <el-upload-img\n            :disabled=\"showDisabled\"\n            v-model=\"filtersData.cover\"\n            ImgTips=\"图片小于128K，建议尺寸750×600\"\n            ImgSize=\"0.128\"\n            :EchoDisplayImages=\"productImages\"\n            CatalogName=\"market\"\n          ></el-upload-img>\n        </el-form-item>\n        <el-form-item label=\"分享海报：\" prop=\"poster\">\n          <el-upload-img\n            :disabled=\"showDisabled\"\n            v-model=\"filtersData.poster\"\n            ImgTips=\"图片小于2M，建议尺寸1334×750\"\n            :EchoDisplayImages=\"posterImages\"\n            CatalogName=\"market\"\n          ></el-upload-img>\n        </el-form-item>\n        <el-form-item label=\"规则说明：\" prop=\"description\">\n          <p>{{topDesc}}</p>\n          <el-input\n            :disabled=\"showDisabled\"\n            type=\"textarea\"\n            :autosize=\"{ minRows: 6, maxRows: 12}\"\n            class=\"coupon-textarea\"\n            v-model=\"filtersData.description\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"forwardCopywriting\" label=\"转发文案：\">\n          <el-input\n            class=\"input-w-2\"\n            :disabled=\"showDisabled\"\n            placeholder\n            v-model=\"filtersData.forwardCopywriting\"\n          ></el-input>\n        </el-form-item>\n      </el-tab-pane>\n      <!-- 其他设置 END-->\n    </el-tabs>\n    <div class=\"item-footer\">\n      <el-button\n        v-if=\"paramType == 'add'\"\n        size=\"small\"\n        @click=\"submitForm('filtersForm')\"\n        type=\"primary\"\n      >保存</el-button>\n      <el-button\n        v-else-if=\"paramType == 'edit'\"\n        size=\"small\"\n        @click=\"editForm('filtersForm')\"\n        type=\"primary\"\n      >修改</el-button>\n      <el-button size=\"small\" @click=\"routerback('filtersForm')\">取消</el-button>\n    </div>\n  </el-form>\n  <!-- 卡券配置END -->\n  <!-- 预览 -->\n  <div class=\"coupon-preview\">\n    <div class=\"preview-banner\">\n      <img :src=\"filtersData.cover\" alt />\n    </div>\n    <!-- 下部 -->\n    <div class=\"preview-cont\">\n      <ul class=\"cont-top\">\n        <li>\n          <img class=\"store-img\" :src=\"storeObj.logoImage\" alt />\n        </li>\n        <li>\n          <p>{{!!storeObj.name ? storeObj.name : ''}}</p>\n          <p>{{!!storeObj.addressInfo ? storeObj.addressInfo : ''}}</p>\n        </li>\n        <li>\n          <img :src=\"previewImg.couponLocation\" alt />\n        </li>\n      </ul>\n      <!-- 中 -->\n      <div class=\"cont-center\">\n        <h3 class=\"title\">优惠券</h3>\n        <div class=\"coupon-wrap\">\n          <img class=\"center-bg\" :src=\"previewImg.couponWrap\" alt />\n          <img class=\"center-circle\" :src=\"previewImg.couponSemicircle\" alt />\n          <ul class=\"center-txt\">\n            <li>{{couponViewName}}</li>\n            <li>{{couponConditionView}}{{filtersData.superposition?' 、可叠加':''}}</li>\n            <li>{{couponTimeView}}</li>\n          </ul>\n          <nav class=\"center-nav\">点击领取</nav>\n        </div>\n      </div>\n      <!-- 下 -->\n      <div class=\"cont-bottom\">\n        <h3 class=\"title\">卡券规则</h3>\n        <div\n          class=\"bottom-txt\"\n          style=\"white-space: pre-wrap;\"\n          v-html=\"handleHtml((!!topDesc ? topDesc :'') + filtersData.description)\"\n        ></div>\n      </div>\n    </div>\n  </div>\n  <!-- 预览END -->\n  <!-- dialog -->\n  <el-dialog\n    title=\"增加可领数量\"\n    width=\"400px\"\n    :visible.sync=\"totalLimitVisible\"\n    class=\"video-wrap\"\n    append-to-body\n  >\n    <el-form\n      class\n      :model=\"totalLimitForm\"\n      label-width=\"120px\"\n      size=\"small\"\n      ref=\"totalLimitFormRef\"\n    >\n      <el-form-item label=\"当前可领总数：\">\n        <p>{{filtersData.totalLimit}}</p>\n      </el-form-item>\n      <el-form-item\n        prop=\"addTotalLimit\"\n        :rules=\"[\n          { required: true, message: '增加数量不能为空',trigger: 'blur'},\n          { validator: validateNaturalNumber, trigger: 'blur' }\n        ]\"\n        label=\"增加数量：\"\n      >\n        <el-input class=\"input-w\" placeholder=\"请输入所需增加的数量\" v-model=\"totalLimitForm.addTotalLimit\"></el-input>\n        <em>张</em>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button size=\"small\" @click=\"closeDialog\">取 消</el-button>\n      <el-button type=\"primary\" size=\"small\" @click=\"addTotalLimit('totalLimitFormRef')\">确 定</el-button>\n    </div>\n  </el-dialog>\n  <!-- dialogEND -->\n</div>\n",null]}