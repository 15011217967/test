{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\fmis\\other\\saleLoan\\sale_loan.vue?vue&type=template&id=35036303&scoped=true&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\fmis\\other\\saleLoan\\sale_loan.vue","mtime":1572415124948},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1558492728890},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["\n<div>\n  <div class=\"search_div\">\n    <el-form ref=\"formData\" :model=\"signData\" label-width=\"110px\" :inline=\"true\">\n      <el-form-item label=\"模糊查询：\" prop=\"searchKey\" label-width=\"120px\">\n        <el-input\n          style=\"width:300px;\"\n          v-model=\"signData.searchKey\"\n          placeholder=\"收款单号\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"状态：\" prop=\"paymentStatusList\">\n        <el-select v-model=\"signData.paymentStatusList\" placeholder=\"请选择\" multiple>\n          <el-option\n            v-for=\"item in paymentStatusData\"\n            :label=\"item.description\"\n            :key=\"item.code\"\n            :value=\"item.code\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"代销商户：\" prop=\"merchantIds\" label-width=\"140px\">\n        <el-select v-model=\"signData.merchantIds\" placeholder=\"请选择\" multiple>\n          <el-option\n            v-for=\"item in storeListData\"\n            :label=\"item.name\"\n            :key=\"item.id\"\n            :value=\"item.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"隶属机构：\" prop=\"organizationCodes\">\n        <el-select v-model=\"signData.organizationCodes\" placeholder=\"请选择\" multiple>\n          <el-option\n            v-for=\"item in organizationListData\"\n            :label=\"item.name\"\n            :key=\"item.id\"\n            :value=\"item.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"创建时间：\" prop=\"startTime\">\n        <el-date-picker\n          v-model=\"signData.startTime\"\n          type=\"date\"\n          placeholder=\"开始时间\"\n        ></el-date-picker>\n      </el-form-item>\n      <el-form-item prop=\"endTime\">\n          <el-date-picker v-model=\"signData.endTime\" type=\"date\" placeholder=\"结束时间\"></el-date-picker>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"searchFormData('formData')\" size=\"small\">查询</el-button>\n        <el-button @click=\"resetFormData('formData')\" size=\"small\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n  <div class=\"table_div\">\n    <el-button\n      type=\"primary\"\n      @click=\"addBtnClickEvent\"\n      size=\"small\"\n      v-auth=\"codeData\"\n      data-code=\"16020201\"\n    >新增</el-button>\n    <el-button\n      :disabled=\"multipleSelectionData.length==0\"\n      plain\n      @click=\"exportExcel\"\n      size=\"small\"\n    >导出</el-button>\n         <el-table\n      ref=\"multipleTable\"\n      :data=\"tableData\"\n      tooltip-effect=\"dark\"\n      style=\"width: 100%\"\n      header-row-class-name=\"item-table-header\"\n      @selection-change=\"selectionChange\"\n    >\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n      <el-table-column label=\"收款单号\" align=\"center\" width=\"170\">\n        <template slot-scope=\"scope\">{{ scope.row.statementSn?scope.row.statementSn:\"--\" }}</template>\n      </el-table-column>\n      <el-table-column prop=\"paymentStatus\" label=\"状态\" align=\"center\">\n        <template slot-scope=\"scope\">{{ scope.row.paymentStatus | filterPaymentStatus }}</template>\n      </el-table-column>\n      <el-table-column prop=\"accountReceivable\" label=\"应收货款金额\" align=\"center\">\n        <template slot-scope=\"scope\">{{scope.row.accountReceivable}}</template>\n      </el-table-column>\n      <el-table-column prop=\"accountsReceived\" label=\"实收货款金额\" align=\"center\">\n        <template slot-scope=\"scope\">{{scope.row.accountsReceived}}</template>\n      </el-table-column>\n      <el-table-column prop=\"merchant\" label=\"代销商户\" align=\"center\">\n        <template slot-scope=\"scope\">{{ scope.row.merchant?scope.row.merchant:\"--\" }}</template>\n      </el-table-column>\n      <el-table-column prop=\"organization\" label=\"隶属机构\" align=\"center\">\n        <template slot-scope=\"scope\">{{ scope.row.organization?scope.row.organization:\"--\" }}</template>\n      </el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\" align=\"center\" width=\"160\">\n        <template slot-scope=\"scope\">{{ scope.row.createTime | timestampToTime }}</template>\n      </el-table-column>\n      <el-table-column prop=\"creator\" label=\"创建人\" align=\"center\">\n        <template slot-scope=\"scope\">{{ scope.row.creator?scope.row.creator:\"--\" }}</template>\n      </el-table-column>\n      <el-table-column prop=\"address\" label=\"操作\" width=\"260\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button\n            @click=\"sureReceiptBtnClickEvent(scope.row)\"\n            type=\"text\"\n            :disabled=\"scope.row.paymentStatus=='09003'\"\n            v-auth=\"codeData\"\n            data-code=\"16020203\"\n          >确认收款</el-button>\n          <el-button @click=\"addFilesBtnClickEvent(scope.row)\" type=\"text\" v-auth=\"codeData\"\n      data-code=\"16020204\">添加附件</el-button>\n          <el-button @click=\"addRemarkBtnClickEvent(scope.row)\" type=\"text\" v-auth=\"codeData\"\n      data-code=\"16020205\">添加备注</el-button>\n          <el-dropdown @command=\"handleCommand\">\n            <span class=\"el-dropdown-link\">\n              <i class=\"el-icon-arrow-down el-icon--right\"></i>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item :command=\"dropdownItemValueChange('isReceipt',scope.row)\" v-auth=\"codeData\"\n            data-code=\"16020206\">收款记录</el-dropdown-item>\n              <el-dropdown-item :command=\"dropdownItemValueChange('isRemark',scope.row)\" v-auth=\"codeData\"\n            data-code=\"16020207\">备注记录</el-dropdown-item>\n              <el-dropdown-item :command=\"dropdownItemValueChange('isFile',scope.row)\" v-auth=\"codeData\"\n            data-code=\"16020208\">查看附件</el-dropdown-item>\n              <el-dropdown-item :disabled=\"scope.row.paymentStatus!='09001'\" :command=\"dropdownItemValueChange('isCancel',scope.row)\">取消收款</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"page_div\" v-show='this.tableData.length>0'>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"signData.pageIndex\"\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size=\"signData.pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"totalCount\"\n      ></el-pagination>\n    </div>\n  </div>\n   <!-- 新增 -->\n  <el-dialog title=\"新增\" :visible.sync=\"showAddFormDialog\" width=\"600px\" @closed='hideAddFormDialogEvnet'>\n    <el-form :model=\"addFormData\" ref=\"addForm\" :rules=\"addFormDRules\">\n      <el-form-item prop='merchantId' label=\"选择门店\" label-width=\"120px\">\n        <el-select v-model=\"addFormData.merchantId\" placeholder=\"请选择门店\" style=\"width:300px;\" @change=\"getStoreName\">\n          <el-option   \n            v-for=\"item in merchantData\"\n            :label=\"item.name\"\n            :key=\"item.id\"\n            :value=\"item.id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item prop='generalLedger' label=\"应收金额\" label-width=\"120px\">\n        <el-input v-model=\"addFormData.generalLedger\" placeholder=\"请输入金额\" style=\"width:300px;\" @input=\"generalLedgerInputEvent\"></el-input>\n        <span class=\"cloin-span\">元</span>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"cancelAddFormBtnClick\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"sureAddFormBtnClick('addForm')\">确 定</el-button>\n    </div>\n  </el-dialog>\n  <!-- 确认收付款 -->\n  <el-dialog title=\"确认收付款\" :visible.sync=\"showDialog\" width=\"600px\" @closed='hideReceiveDialogEvent'>\n    <el-form :model=\"receiveFormData\" ref=\"receivingForm\" :rules=\"receiveFormRules\">\n      <el-form-item prop='paymentCode' label=\"收付款方式\" label-width=\"120px\">\n        <el-select v-model=\"receiveFormData.paymentCode\" placeholder=\"请选择收付款方式\" style=\"width:300px;\">\n          <el-option   \n            v-for=\"item in paymentCodesData\"\n            :label=\"item.description\"\n            :key=\"item.code\"\n            :value=\"item.code\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item prop='account' label=\"收付款金额\" label-width=\"120px\">\n        <el-input v-model=\"receiveFormData.account\" placeholder=\"请输入金额\" v-financial-coin style=\"width:300px;\"></el-input>\n        <span class=\"cloin-span\">元</span>\n         <!-- @input=\"receivingInputEvent\" -->\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"cancelReceivingFormBtnClick('receivingForm')\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"sureReceivingFormBtnClick('receivingForm')\">确 定</el-button>\n    </div>\n  </el-dialog>\n  <!-- 上传附件 -->\n  <el-dialog :visible.sync=\"showUploadImg\" @closed=\"hideUploadDialogEvent\">\n    <p style=\"position: absolute;top: 21px;\">上传附件</p>\n    <div class=\"upload_div\">\n      <p>附件</p>\n      <el-upload\n        :class=\"{imgUploadhide:currentLimit==3}\"\n        :action=\"imgAction()\"\n        accept=\"image/*\"\n        list-type=\"picture-card\"\n        :on-success=\"handleAvatarSuccess\"\n        :on-remove=\"handleRemove\"\n        :before-upload=\"beforeAvatarUpload\"\n        :limit=\"3\"\n        :data=\"uploadData\"\n        ref=\"uploadImg\"\n      >\n        <i class=\"el-icon-plus\"></i>\n      </el-upload>\n    </div>\n    <p style=\"color:#CCCCCC;margin-top:10px;\">提示：仅支持png、jpeg格式的图片上传,最多支持上传3图片！</p>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"cancelUploadImage\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"sureUploadImage\">确 定</el-button>\n    </div>\n  </el-dialog>\n  <!-- 添加备注 -->\n  <el-dialog\n    title=\"添加备注\"\n    :visible.sync=\"showRemarksDialog\"\n    width=\"600px\"\n    @closed=\"hideRemarksDialogEvent\"\n  >\n    <el-form :model=\"remarksFormData\" ref=\"remarksForm\" :rules=\"remarksRules\">\n      <el-form-item label=\"填写备注：\" label-width=\"120px\" prop=\"remarks\">\n        <el-input\n          resize=\"none\"\n          v-model=\"remarksFormData.remarks\"\n          type=\"textarea\"\n          placeholder=\"请输入内容\"\n          style=\"width:300px;\"\n          rows=\"3\"\n        ></el-input>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"cancelAddRemarksBtnClick('remarksForm')\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"sureAddRemarksBtnClick('remarksForm')\">确 定</el-button>\n    </div>\n  </el-dialog>\n  <!-- 收款记录 -->\n  <el-dialog\n    title=\"收款/退款记录\"\n    :visible.sync=\"showCollectionRecordDialog\"\n    width=\"600px\"\n    height=\"600px\"\n    @closed=\"hideCollectionRecordDialogEvent\"\n  >\n    <el-table :data=\"handleRecordData\" max-height=\"250\" border style=\"width: 100%\" header-row-class-name=\"item-table-header\">\n      <el-table-column prop=\"tradeTime\" label=\"时间\" width=\"170\">\n        <template slot-scope=\"scope\">{{ scope.row.tradeTime | timestampToTime }}</template>\n      </el-table-column>\n      <el-table-column prop=\"operator\" label=\"收付款人员\">\n        <template slot-scope=\"scope\">{{ scope.row.operator}}</template>\n      </el-table-column>\n      <el-table-column prop=\"paymentCode\" label=\"收付款方式\">\n        <template slot-scope=\"scope\">{{ scope.row.paymentCode | filerPaymentCode }}</template>\n      </el-table-column>\n      <el-table-column prop=\"amount\" label=\"收款金额\"></el-table-column>\n    </el-table>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeCollectionRecordBtnClick\">关闭</el-button>\n    </div>\n  </el-dialog>\n  <!-- 备注记录 -->\n  <el-dialog\n    title=\"备注记录\"\n    :visible.sync=\"showRemarksRecordDialog\"\n    width=\"600px\"\n    height=\"600px\"\n    @closed=\"hideRemarksRecordDialogEvent\"\n  >\n    <el-table :data=\"handleRecordData\" max-height=\"250\" border style=\"width: 100%\" header-row-class-name=\"item-table-header\">\n      <el-table-column prop=\"createTime\" label=\"时间\">\n        <template slot-scope=\"scope\">{{ scope.row.createTime | timestampToTime }}</template>\n      </el-table-column>\n      <el-table-column prop=\"creator\" label=\"备注人员\"></el-table-column>\n      <el-table-column prop=\"remarks\" label=\"备注\"></el-table-column>\n    </el-table>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeRemarksRecordBtnClick\">关闭</el-button>\n    </div>\n  </el-dialog>\n  <!-- 查看附件 -->\n  <el-dialog\n    title=\"查看附件\"\n    :visible.sync=\"showFileRecordDialog\"\n    width=\"600px\"\n    height=\"600px\"\n    @closed=\"hideFileRecordDialogEvent\"\n  >\n    <div style='height:300px;overflow:auto;'>\n      <div  v-for='item in handleRecordData' :key=\"item.id\">\n        <div style=\"display:flex;border-bottom:1px solid #ccc;\">\n          <span style=\"flex:auto;\">{{item.createTime | timestampToTime}}</span>\n          <span>上传人员：{{item.creator?item.creator:'--'}}</span>\n        </div>\n        <div style=\"display:flex;\">\n          <el-popover placement=\"right\" width=\"400\" trigger=\"hover\" v-for='imgItem in item.associationList' :key=\"imgItem.id\">\n              <img :src='imgItem.attachment' style=\"width:380px;\"/>\n              <img :src='imgItem.attachment' slot=\"reference\" style=\"width:84px;height:71px;margin-right:5px;\"/>\n          </el-popover>\n        </div>\n      </div>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeFileRecordBtnClick\">关闭</el-button>\n    </div>\n  </el-dialog>\n</div>\n",null]}