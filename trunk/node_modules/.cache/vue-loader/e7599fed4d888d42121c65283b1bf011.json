{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\orders\\business\\purchase\\purchaseOrder_list.vue?vue&type=template&id=f41935e2&scoped=true&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\orders\\business\\purchase\\purchaseOrder_list.vue","mtime":1574160264615},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1558492728890},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["\n<!--//采购单-->\n<div class=\"purchases-bass\">\n  <!-- input-form -->\n  <div class=\"item-form\">\n    <el-form\n      class=\"item-form\"\n      :model=\"filtersData\"\n      label-width=\"90px\"\n      size=\"small\"\n      ref=\"filtersForm\"\n      inline\n    >\n      <el-row>\n        <el-col>\n          <el-form-item prop=\"searchKey\" label=\"模糊查询：\">\n            <el-input class=\"input-w\" placeholder=\"到货单号/采购订单号\" v-model=\"filtersData.searchKey\"></el-input>\n          </el-form-item>\n\n          <el-form-item prop=\"businessStatusList\" label=\"状态：\">\n            <el-select class=\"input-w\" placeholder=\"请选择\" multiple v-model=\"filtersData.businessStatusList\">\n              <el-option\n                v-for=\"item in options1\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item prop=\"channelCodes\" label=\"订单来源：\">\n            <code-set v-model=\"filtersData.channelCodes\" code=\"ORD001\" :multiple=\"true\"/>\n          </el-form-item>\n          <el-form-item label=\"所属机构：\" prop=\"organizationCodes\">\n           <el-select v-model=\"filtersData.organizationCodes\" placeholder=\"请选择\" :multiple=\"true\">\n            <el-option\n              v-for=\"item in organizationListData\"\n              :label=\"item.name\"\n              :key=\"item.id\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col>\n          <el-form-item prop=\"supplierCodes\" label=\"供应商：\">\n            <el-select class=\"input-w\" placeholder=\"请选择\" multiple v-model=\"filtersData.supplierCodes\">\n              <el-option\n                v-for=\"item in suppliers\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.code\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"选择日期：\">\n            <template>\n              <div class=\"block\">\n                <el-date-picker\n                  class=\"date-picker-div\"\n                  v-model=\"filtersData.startTime\"\n                  type=\"date\"\n                  placeholder=\"开始时间\"\n                ></el-date-picker>\n                <el-date-picker v-model=\"filtersData.endTime\" type=\"date\" placeholder=\"结束时间\"></el-date-picker>\n              </div>\n            </template>\n          </el-form-item>\n          <el-form-item>\n            <el-button @click=\"handleSearch\" type=\"primary\" plain size=\"small\">搜索</el-button>\n            <el-button @click=\"handleResetFilters('filtersForm')\" size=\"small\">重置</el-button>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n  </div>\n  <!-- table -->\n  <div class=\"item-table\">\n    <div class=\"item-cont\">\n      <el-button size=\"small\" type=\"primary\" @click=\"openAddClass()\" style=\"margin-right:10px;\">新增</el-button>\n      <el-upload\n        class=\"upload-demo\"\n        :action=\"fileAction()\"\n        accept=\".xlsx,.xls,.csv\"\n        :headers=\"tokenHeaders\"\n        name=\"multipartFile\"\n        :on-success=\"handleFileSuccess\"\n        :on-change=\"beforefileUploadChange\"\n        :show-file-list='false'\n        >\n        <el-button size=\"small\" type=\"primary\">导入</el-button>\n      </el-upload>\n      <!-- <el-button size=\"small\" @click=\"importExcel()\"  >导入</el-button> -->\n      <el-button size=\"small\" style=\"margin-left: 10px;\">\n        <a href=\"https://content-template.oss-cn-beijing.aliyuncs.com/excel/order.xlsx\" style=\"color:#222;\">下载模板</a>\n      </el-button>\n    </div>\n    <div class=\"item-table\">\n      <el-table\n        :data=\"purchaseOrderListData\"\n        stripe\n        empty-text=\"暂无数据\"\n        header-align=\"center\"\n        header-row-class-name=\"item-table-header\"\n        :highlight-current-row=\"true\"\n      >\n        <el-table-column prop=\"orderSn\" align=\"center\" label=\"采购订单号\" width=\"210\"></el-table-column>\n        <el-table-column align=\"center\" label=\"状态\" min-width=\"100\">\n          <template slot-scope=\"scope\">{{ scope.row.businessStatus | filterBusinessStatus}}</template>\n        </el-table-column>\n        <el-table-column prop=\"contractSn\" align=\"center\" label=\"采购合同号\" width=\"150\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.contractSn?scope.row.contractSn:'--'}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"supplier\" align=\"center\" label=\"供应商\" width=\"100\"></el-table-column>\n        <el-table-column prop=\"amount\" align=\"center\" label=\"采购金额\" width=\"100\"></el-table-column>\n        <!--todo 差两个参数-->\n        <el-table-column prop=\"validAmount\" align=\"center\" label=\"实付金额\" width=\"100\"></el-table-column>\n        <el-table-column align=\"center\" label=\"付款方式\" min-width=\"100\">\n          <template slot-scope=\"scope\">{{ scope.row.paymentCode | filterPaymentCode}}</template>\n        </el-table-column>\n        <el-table-column align=\"center\" label=\"到货状态\" min-width=\"100\">\n          <template slot-scope=\"scope\">{{ scope.row.warehouseStatus | filterWarehouseStatus}}</template>\n        </el-table-column>\n        <el-table-column prop=\"quantity\" align=\"center\" label=\"采购总数\" width=\"100\"></el-table-column>\n        <el-table-column prop=\"actualQuantity\" align=\"center\" label=\"实收总数\" width=\"100\"></el-table-column>\n        <el-table-column prop=\"deliverNum\" align=\"center\" label=\"发货次数\" width=\"100\"></el-table-column>\n        <el-table-column align=\"center\" label=\"创建时间\" min-width=\"180\">\n          <template slot-scope=\"scope\">{{ scope.row.createTime | timestampToTime}}</template>\n        </el-table-column>\n        <el-table-column prop=\"purchaser\" align=\"center\" label=\"采购人\" width=\"130\">\n          <template slot-scope=\"scope\">{{ scope.row.purchaser ? scope.row.purchaser :'--'}}</template>\n        </el-table-column>\n        <el-table-column prop=\"organization\" align=\"center\" label=\"所属机构\" width=\"100\">\n          <template slot-scope=\"scope\">{{ scope.row.organization ? scope.row.organization :'--'}}</template>\n        </el-table-column>\n        <el-table-column align=\"center\" label=\"订单来源\" min-width=\"100\">\n          <template slot-scope=\"scope\">{{ scope.row.channelCode | filterChannelCode}}</template>\n        </el-table-column>\n        <el-table-column\n          fixed=\"right\"\n          label-class-name=\"text-center\"\n          class-name=\"text-center\"\n          align=\"center\"\n          label=\"操作\"\n          width=\"160\"\n        >\n          <template slot-scope=\"scope\">\n            <el-button @click=\"openShowDetails(scope.row.orderSn)\" type=\"text\" size=\"small\" v-auth=\"codeData\" data-code='PCO_VIEW'>查看</el-button>\n            <el-button  @click=\"openEdit(scope.row.orderSn)\" type=\"text\" size=\"small\" v-auth=\"codeData\" data-code='PCO_UPDATE' :disabled=\"scope.row.businessStatus!='06' || scope.row.deliverNum!=0\">修改</el-button>\n            <el-button  @click=\"deleteItem(scope.row)\" type=\"text\" size=\"small\" v-auth=\"codeData\" data-code='PCO_DELETE' :disabled=\"scope.row.businessStatus!='06' || scope.row.deliverNum!=0\">删除</el-button>\n            <el-dropdown @command=\"handleCommand\">\n              <span class=\"el-dropdown-link\">\n                <i class=\"el-icon-arrow-down el-icon--right\"></i>\n              </span>\n              <el-dropdown-menu slot=\"dropdown\" v-if=\"scope.row.businessStatus=='06'\">\n                <el-dropdown-item :command=\"dropdownItemValueChange('addNote',scope.row)\">添加到货单</el-dropdown-item>\n                <el-dropdown-item :command=\"dropdownItemValueChange('done',scope.row)\">确认完成</el-dropdown-item>\n              </el-dropdown-menu>\n              <el-dropdown-menu slot=\"dropdown\" v-else>\n                <el-dropdown-item :command=\"dropdownItemValueChange('addNote',scope.row)\" disabled>添加到货单</el-dropdown-item>\n                <el-dropdown-item disabled :command=\"dropdownItemValueChange('done',scope.row)\">确认完成</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"pagination mt-10 mb-20\">\n        <el-pagination\n          class=\"mr-20\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"filtersData.pageIndex\"\n          :page-sizes=\"[10,20,30,40,50]\"\n          :page-size=\"filtersData.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n        ></el-pagination>\n      </div>\n    </div>\n  </div>\n</div>\n",null]}