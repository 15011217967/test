{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\OS\\ditch\\ditch.vue?vue&type=style&index=0&id=077afe88&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\OS\\ditch\\ditch.vue","mtime":1576229754265},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\css-loader\\index.js","mtime":1558492728478},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1558492728890},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\postcss-loader\\src\\index.js","mtime":1558492728823},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\less-loader\\dist\\cjs.js","mtime":1566193719488},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.seachKey-input {\r\n  width: 300px;\r\n}\r\n.btn {\r\n  width: 100%;\r\n  text-align: right;\r\n  margin-top: 15px;\r\n  margin-right: 20px;\r\n}\r\n.date-picker-div {\r\n  margin-right: 10px;\r\n}\r\n.base {\r\n  margin: 8px;\r\n}\r\n.main-top {\r\n  // background-color: aqua;\r\n  color: #222;\r\n  display: inline-block;\r\n  margin-left: -15px;\r\n  width: 300px;\r\n  line-height: 70px;\r\n}\r\n.block {\r\n  margin-top: 20px;\r\n  padding-bottom: 10px;\r\n  margin-right: 20px;\r\n}\r\nh3 {\r\n  margin-top: 0;\r\n  margin-bottom: 15px;\r\n}\r\n.el-form {\r\n  padding-top: 15px;\r\n}\r\n.middle-from {\r\n  background-color: #fff;\r\n  padding-left: 70px;\r\n}\r\n.table {\r\n  margin-top: 8px;\r\n  background-color: #fff;\r\n  padding: 24px;\r\n  // padding-top: 20px;\r\n  // padding-left: 70px;\r\n}\r\n.upload-demo {\r\n  float: left;\r\n  margin-right: 10px;\r\n}\r\n.circleProgress {\r\n  text-align: center;\r\n}\r\n.el-dialog__body {\r\n  height: 230px;\r\n}\r\n.el-upload {\r\n  position: relative;\r\n}\r\n.uptemp .el-col {\r\n  width: 100px;\r\n  margin-right: 10px;\r\n}\r\n.uptemp .el-upload-list {\r\n  position: absolute;\r\n  //  top: -65px;\r\n  //  width: 50%;\r\n}\r\n\r\n//   .uptemp {\r\n//     position: absolute;\r\n//     top: 0;\r\n//     width: 80%;\r\n//     left: 45px;\r\n//   }\r\n// .updemo2 /deep/.el-upload-list{\r\n//     position: absolute;\r\n//     top: 55px;\r\n//     left: 0px;\r\n// }\r\n.uptemp {\r\n  position: relative;\r\n  top: 55px;\r\n  width: 80%;\r\n  left: 80px;\r\n}\r\n.slotUl {\r\n  position: absolute;\r\n  left: 50px;\r\n  top: 0px;\r\n}\r\n/deep/.el-upload-list__item-name {\r\n  display: none;\r\n}\r\n.slotUl .upLi {\r\n  margin-bottom: 5px;\r\n}\r\n.uptemp1 .el-upload-list .el-upload-list__item {\r\n  margin-top: 0;\r\n}\r\n",{"version":3,"sources":["ditch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8lCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ditch.vue","sourceRoot":"src/views/OS/ditch","sourcesContent":["<template>\r\n  <!-- 渠道订单 -->\r\n  <div class=\"base\">\r\n    <div class=\"middle-from\">\r\n      <el-form\r\n        :inline=\"true\"\r\n        :model=\"formInline\"\r\n        size=\"small\"\r\n        ref=\"ruleForm\"\r\n        class=\"demo-form-inline\"\r\n      >\r\n        <el-form-item prop=\"searchKey\" label=\"模糊查询：\">\r\n          <el-input\r\n            class=\"seachKey-input\"\r\n            v-model=\"formInline.searchKey\"\r\n            placeholder=\"订单号/收货人/收货人电话/收货人地址\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"订单来源：\" prop='channelCodes'>\r\n          <code-set v-model=\"formInline.channelCodes\" code=\"ORD001\" :multiple=\"true\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"店铺名称：\" prop=\"storeIds\">\r\n          <el-select v-model=\"formInline.storeIds\" placeholder=\"请选择\" :multiple=\"true\">\r\n            <el-option\r\n              v-for=\"item in storeListData\"\r\n              :label=\"item.storeName\"\r\n              :key=\"item.id\"\r\n              :value=\"item.id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"订单状态：\" prop=\"businessStatusList\">\r\n          <el-select v-model=\"formInline.businessStatusList\" placeholder=\"请选择\" :multiple=\"true\">\r\n            <el-option label=\"待发货\" value=\"05\"></el-option>\r\n            <el-option label=\"已发货\" value=\"06\"></el-option>\r\n            <el-option label=\"已完成\" value=\"08\"></el-option>\r\n            <el-option label=\"异常完成\" value=\"16\"></el-option>\r\n            <el-option label=\"异常发货\" value=\"17\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item prop=\"dateTime\" label=\"创建时间：\">\r\n          <el-date-picker\r\n            class=\"date-picker-div\"\r\n            v-model=\"formInline.startTime\"\r\n            type=\"date\"\r\n            placeholder=\"开始时间\"\r\n          ></el-date-picker>\r\n          <el-date-picker v-model=\"formInline.endTime\" type=\"date\" placeholder=\"结束时间\"></el-date-picker>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" plain @click=\"onSearchContent\" size=\"small\">搜索</el-button>\r\n          <el-button @click=\"resetForm('ruleForm')\" size=\"small\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- table -->\r\n    <div class=\"table\">\r\n      <el-button\r\n        type=\"primary\"\r\n        @click=\"openAddAttrbute\"\r\n        size=\"small\"\r\n        v-auth=\"codeData\"\r\n        data-code=\"COSO_CREATE\"\r\n      >新增</el-button>\r\n      <el-button\r\n        plain\r\n        v-if=\"false\"\r\n        @click=\"leadToExcelData\"\r\n        size=\"small\"\r\n        v-auth=\"codeData\"\r\n        data-code=\"COSO_IMPORT\"\r\n      >导入</el-button>\r\n      <el-button\r\n        plain\r\n        @click=\"batchBtnClick\"\r\n        style=\"margin-bottom:20px;\"\r\n        size=\"small\"\r\n        v-auth=\"codeData\"\r\n        data-code=\"COSO_BATCHAUDIT\"\r\n        :disabled=\"multipleSelection.length==0\"\r\n      >批量审核</el-button>\r\n\r\n      <!-- table订单 -->\r\n      <template>\r\n        <el-table\r\n          ref=\"multipleTable\"\r\n          :data=\"netSalesTableData\"\r\n          tooltip-effect=\"dark\"\r\n          style=\"width: 100%\"\r\n          @selection-change=\"handleSelectionChange\"\r\n          header-row-class-name=\"item-table-header\"\r\n        >\r\n          <el-table-column :selectable=\"isSelectCheck\" type=\"selection\" width=\"55\"></el-table-column>\r\n\r\n          <el-table-column label=\"网销订单号\" prop=\"orderSn\" width=\"210\" align=\"center\"></el-table-column>\r\n\r\n          <el-table-column prop=\"orderStatus\" label=\"订单状态\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row | filterReviewed}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"paymentStatus\" label=\"支付状态\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.paymentStatus | filterPaymentStatus}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"customerName\" label=\"客户姓名\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.customerName ? scope.row.customerName:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"receiverName\" label=\"收货人\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.receiverName ? scope.row.receiverName:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"receiverMobile\" label=\"收货人电话\" width=\"160\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.receiverMobile ? scope.row.receiverMobile:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"receiverAddress\" label=\"收货地址\" width=\"160\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tooltip\r\n                class=\"item\"\r\n                effect=\"dark\"\r\n                :content=\"scope.row.receiverAddress\"\r\n                placement=\"top\"\r\n              >item\r\n                <span>{{scope.row.receiverAddress | filterToAddress}}</span>\r\n              </el-tooltip>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"amount\" label=\"订单金额\" width=\"180\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.amount | filterPrice}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"actualAmount\" label=\"实付金额\" width=\"180\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.actualAmount | filterPrice}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"paymentCode\" label=\"支付方式\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.paymentCode | filterPaymentCode}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"创建时间\" width=\"160\" align=\"center\">\r\n            <template slot-scope=\"scope\">{{ scope.row.createTime | timestampToTime}}</template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"storeName\" label=\"店铺名称\" width=\"180\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.storeName ? scope.row.storeName:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"channelCode\" label=\"订单来源\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.channelCode | filterChannelCode}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"agent\" label=\"推荐人\" width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.agent ? scope.row.agent:'--'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"address\" label=\"操作\" width=\"160\" fixed=\"right\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                @click=\"checkBtnClick(scope.row)\"\r\n                type=\"text\"\r\n                v-auth=\"codeData\"\r\n                data-code=\"COSO_VIEW\"\r\n              >查看</el-button>\r\n              <el-button\r\n                @click=\"editBtnClick(scope.row)\"\r\n                type=\"text\"\r\n                :disabled=\"scope.row.reviewed!=0 && scope.row.reviewed!=2\"\r\n                v-auth=\"codeData\"\r\n                data-code=\"COSO_UPDATE\"\r\n              >修改</el-button>\r\n              <el-button\r\n                :disabled=\"scope.row.reviewed == 1 && scope.row.businessStatus != '05'\"\r\n                @click=\"cancleBtnclick(scope.row)\"\r\n                type=\"text\"\r\n                v-auth=\"codeData\"\r\n                data-code=\"COSO_CANCEL\"\r\n              >取消</el-button>\r\n              <el-dropdown @command=\"handleCommand\">\r\n                <span class=\"el-dropdown-link\">\r\n                  <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </span>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item\r\n                    :command=\"dropdownItemValueChange('isRemark',scope.row)\"\r\n                    v-auth=\"codeData\"\r\n                    data-code=\"COSO_REMARKS\"\r\n                  >添加备注</el-dropdown-item>\r\n                  <el-dropdown-item\r\n                    v-if=\"scope.row.reviewed == 0\"\r\n                    :command=\"dropdownItemValueChange('isCheck',scope.row)\"\r\n                    v-auth=\"codeData\"\r\n                    data-code=\"COSO_AUDIT\"\r\n                  >审核订单</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <div class=\"block\" style=\"margin-top:20px;padding-bottom:10px;margin-right:20px;\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page.sync=\"formInline.pageIndex\"\r\n            :page-sizes=\"[10,20,30,40]\"\r\n            :page-size=\"10\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"totlePage\"\r\n          ></el-pagination>\r\n        </div>\r\n      </template>\r\n    </div>\r\n\r\n    <el-dialog title=\"导入订单\" :visible.sync=\"dialogFormVisible\">\r\n      <div>\r\n        <div>\r\n          <label style=\"font-size:12px;\">选择订单来源：</label>\r\n          <label style=\"font-size:12px;color:orange;\">淘宝</label>\r\n        </div>\r\n\r\n        <div style=\"margin-top:30px;height:125px;    position: relative;\">\r\n          <label style=\"font-size:12px;\">上传的：</label>\r\n          <ul class=\"slotUl\">\r\n            <template v-if=\"uploadList.length != ' '\">\r\n              <li v-for=\"(item,index) in uploadList\" :key=\"item.name\" class=\"upLi\">\r\n                {{item.name}}\r\n                <el-button @click=\"btnDel(item.type,index)\" style=\"padding: 1px 5px;\">x</el-button>\r\n              </li>\r\n            </template>\r\n            <template v-else>\r\n              <li style=\"color:#ccc\">待上传文件</li>\r\n            </template>\r\n          </ul>\r\n          <el-row class=\"uptemp\">\r\n            <el-col :span=\"3\">\r\n              <el-upload\r\n                class=\"upload-demo updemo1\"\r\n                :limit=\"1\"\r\n                accept=\".csv\"\r\n                :action=\"fileUrl\"\r\n                :multiple=\"false\"\r\n                :auto-upload=\"false\"\r\n                :on-remove=\"removeDitchFileList\"\r\n                :on-change=\"ditchfileChange\"\r\n                :http-request=\"customRequest\"\r\n                ref=\"ditch-upload\"\r\n              >\r\n                <el-button slot=\"trigger\" size=\"small\">导入订单表</el-button>\r\n              </el-upload>\r\n            </el-col>\r\n            <el-col :span=\"3\">\r\n              <el-upload\r\n                class=\"upload-demo updemo2\"\r\n                accept=\".csv\"\r\n                :limit=\"1\"\r\n                :action=\"fileUrl\"\r\n                :multiple=\"false\"\r\n                :auto-upload=\"false\"\r\n                :on-remove=\"removeBabyFileList\"\r\n                :on-change=\"babyFileChange\"\r\n                ref=\"baby-upload\"\r\n              >\r\n                <el-button slot=\"trigger\" size=\"small\">导入宝贝表</el-button>\r\n              </el-upload>\r\n            </el-col>\r\n            <el-col :span=\"3\">\r\n              <el-button size=\"small\" type=\"primary\" @click=\"submitUpload\">上传</el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n      </div>\r\n      <!-- <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"successBtnClickTable\">确 定</el-button>\r\n      </div>-->\r\n    </el-dialog>\r\n\r\n    <!-- 圆形进度条 -->\r\n    <el-dialog\r\n      :visible.sync=\"circleDialogVisible\"\r\n      class=\"circleProgress\"\r\n      @close=\"closeCircleProgress\"\r\n      :show-close=\"false\"\r\n      append-to-body\r\n    >\r\n      <el-progress type=\"circle\" :percentage=\"onUploadProgressTage\" :status=\"onUploadStatus\"></el-progress>\r\n      <div style=\"margin-top:10px;\">\r\n        <label v-if=\"onUploadProgressTage < 100\" >正在上传请稍后</label>\r\n        <label v-else>上传成功！正在读取订单请稍后！</label>\r\n      </div>\r\n      <div>\r\n        <label>请不要关闭本页面,关闭后将会读取失败!</label>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 表格数据  -->\r\n    <el-dialog :visible.sync=\"TableVisible\" :before-close=\"handleClose\">\r\n      <div style=\"position: relative;top:-40px;margin-right: 30px;\">\r\n        <div class=\"first-title\">\r\n          <h3>累计读取订单</h3>\r\n          <h3 style=\" right: 30px;position: absolute;top:10px;\">{{allTotalData}}单</h3>\r\n        </div>\r\n        <div class=\"middle-title\">\r\n          <h3>成功有效订单</h3>\r\n          <h3 style=\" right: 30px;position: absolute;top:53px;\">{{validTotalData}}单</h3>\r\n        </div>\r\n        <h5 style=\"position: absolute;top:127px;\">订单读取明细如下</h5>\r\n      </div>\r\n      <el-table :data=\"gridData\" height=\"200px\">\r\n        <el-table-column property=\"row\" label=\"行号\" width=\"50\"></el-table-column>\r\n        <el-table-column property=\"orderSn\" label=\"订单号\" width=\"200\"></el-table-column>\r\n        <el-table-column property=\"orderStatus\" label=\"读取结果\">\r\n          <template slot-scope=\"scope\">\r\n            <div>{{scope.row.orderStatus | filterOrderStatus}}</div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"有效状态\">\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <i :class=\"{'el-icon-success':scope.row.orderStatus==2}\"></i>\r\n              <span style=\"margin-left: 10px\">{{ scope.row.status }}</span>\r\n            </div>\r\n            <div>\r\n              <i :class=\"{'el-icon-warning':scope.row.orderStatus!=2}\"></i>\r\n              <span style=\"margin-left: 10px\">{{ scope.row.status }}</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"btn\">\r\n        <el-button plain @click=\"closeTable\" size=\"small\">关闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { getToken } from \"@/utils/auth\";\r\nimport codeSet from \"@/components/codeSet\";\r\nimport treeDept from \"@/components/treeDept\";\r\nlet token = getToken();\r\nexport default {\r\n  components: {\r\n    codeSet,\r\n    treeDept\r\n  },\r\n  data() {\r\n    return {\r\n      //是否显示备注信息框\r\n      isShowRemarkMsgBox: false,\r\n      //权限数据Code码\r\n      codeData: [],\r\n      //仓储性质数据\r\n      storageValArr: [],\r\n      //订单来源支持多数据绑定\r\n      orderValArr: [],\r\n      formInline: {\r\n        orderType: \"0101\",\r\n        searchKey: \"\",\r\n        // 日期时间\r\n        startTime: \"\",\r\n        endTime: \"\",\r\n        channelCodes: [],\r\n        //订单状态\r\n        businessStatusList:[],\r\n        //店铺名称\r\n        storeIds:[],\r\n        //当前页数\r\n        pageIndex: 1,\r\n        //每页要显示的数据条数,默认10条\r\n        pageSize: 10\r\n      },\r\n      //网销订单表格数据\r\n      netSalesTableData: [],\r\n      //总的条数\r\n      totlePage: 0,\r\n      //table中checkBox的状态\r\n      multipleSelection: [],\r\n      /***************上面的时网销订单相关******************/\r\n      //圆形进度条相关\r\n      circleDialogVisible: false,\r\n      // 日期时间\r\n      dateTime: \"\",\r\n      dialogFormVisible: false,\r\n      //表格数据\r\n      TableVisible: false,\r\n      gridData: [],\r\n      //总的单数\r\n      allTotalData: \"\",\r\n      invalidTotalData: 0,\r\n      //有效单数\r\n      validTotalData: 0,\r\n      //需要上传的文件\r\n      fileList: [],\r\n      fileData: new FormData(),\r\n      fileUrl: \"\",\r\n      ditchFileName: \"\",\r\n      babyFileName: \"\",\r\n      uploadData: [],\r\n      // 上传文件list\r\n      uploadList: [],\r\n      onUploadProgressTage:0,\r\n      onUploadStatus:'success',\r\n      //获取门店列表数据\r\n      storeListData:[],\r\n    };\r\n  },\r\n  created() {\r\n    console.log(this.$route);\r\n    //得到组织机构\r\n    this.getWarehouseListData();\r\n    this.getCodeLimitToBtnStatus(this.$route.meta.currentid);\r\n    //得到表格数据\r\n    this.getChannelSaleOrderListTableData();\r\n  },\r\n  // 过滤器\r\n  filters: {\r\n    filterOrderStatus(val) {\r\n      if (val == 2) {\r\n        return \"订单有效,商品库存已锁定\";\r\n      }\r\n      if (val == 1) {\r\n        return \"订单无效,无商品或无库存\";\r\n      }\r\n      return \"订单信息不全\";\r\n    },\r\n    //过滤地址\r\n    filterToAddress(val) {\r\n      if (val.indexOf(\"null\") >= 0) {\r\n        let newVal = \"--\";\r\n        return newVal;\r\n      } else if (val.length > 12) {\r\n        let newStr = val.substring(0, 11) + \"....\";\r\n        return newStr;\r\n      } else {\r\n        return val;\r\n      }\r\n    },\r\n    //过滤支付状态\r\n    filterPaymentCode(val) {\r\n      switch (val) {\r\n        case \"01\":\r\n          return \"现金\";\r\n          break;\r\n        case \"02\":\r\n          return \"银行卡\";\r\n          break;\r\n        case \"03\":\r\n          return \"微信\";\r\n          break;\r\n        case \"04\":\r\n          return \"支付宝\";\r\n          break;\r\n        case \"05\":\r\n          return \"支票\";\r\n          break;\r\n        case \"06\":\r\n          return \"电汇\";\r\n          break;\r\n        case \"07\":\r\n          return \"汇票\";\r\n          break;\r\n        case \"08\":\r\n          return \"其他\";\r\n          break;\r\n        default:\r\n          return '--'\r\n          break;\r\n      }\r\n    },\r\n    //过滤订单来源\r\n    filterChannelCode(val) {\r\n      switch (val) {\r\n        case \"01\":\r\n          return \"淘宝\";\r\n          break;\r\n        case \"02\":\r\n          return \"京东\";\r\n          break;\r\n        case \"03\":\r\n          return \"天猫\";\r\n          break;\r\n        case \"04\":\r\n          return \"手工录入\";\r\n          break;\r\n        default:\r\n          return '--'\r\n          break;\r\n      }\r\n    },\r\n    //过滤订单状态\r\n    filterReviewed(val) {\r\n      switch (val.reviewed) {\r\n        case 0:\r\n          return \"待审核\";\r\n          break;\r\n        case 2:\r\n          return \"审核驳回\";\r\n          break;\r\n        case 1:\r\n          switch (val.businessStatus) {\r\n            case \"05\":\r\n              return \"待发货\";\r\n              break;\r\n            case \"06\":\r\n              return \"已发货\";\r\n              break;\r\n            case \"08\":\r\n              return \"已完成\";\r\n              break;\r\n            case \"16\":\r\n              return \"异常完成\";\r\n              break;\r\n            case \"17\":\r\n              return \"异常发货\";\r\n              break;\r\n            default:\r\n             return '--'\r\n             break;\r\n          }\r\n          break;\r\n        default:\r\n          return '--'\r\n          break;\r\n      }\r\n    },\r\n    //过滤支付状态\r\n    filterPaymentStatus(val) {\r\n      switch (val) {\r\n        case '01':\r\n          return \"未支付\";\r\n          break;\r\n        case '02':\r\n          return \"部分支付\";\r\n          break;\r\n        case '03':\r\n          return \"已支付\";\r\n          break;\r\n        case \"08\":\r\n          return \"已完成\";\r\n          break;\r\n        default:\r\n          return '--'\r\n          break;\r\n      }\r\n    },\r\n    filterPrice(val) {\r\n      if (val && val != null) {\r\n        val = String(val);\r\n        let left = val.split(\".\")[0],\r\n          right = val.split(\".\")[1];\r\n        right = right\r\n          ? right.length >= 2\r\n            ? \".\" + right.substr(0, 2)\r\n            : \".\" + right + \"0\"\r\n          : \".00\";\r\n        let temp = left\r\n          .split(\"\")\r\n          .reverse()\r\n          .join(\"\")\r\n          .match(/(\\d{1,3})/g);\r\n        return (\r\n          \"￥\" +\r\n          (Number(val) < 0 ? \"-\" : \"\") +\r\n          temp\r\n            .join(\",\")\r\n            .split(\"\")\r\n            .reverse()\r\n            .join(\"\") +\r\n          right\r\n        );\r\n      } else if (val === 0) {\r\n        // 注意===在这里的使用，如果传入的money为0,if中会将其判定为boolean类型，故而要另外做===判断\r\n        return \"￥\" + \"0.00\";\r\n      } else {\r\n        return \"--\";\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    //得到组织机构数据\r\n    async getWarehouseListData() {\r\n      let info = await this.request(this.api.user.get_userinfo, {}, true);\r\n      console.log(info);\r\n      //得到部门Id\r\n      // this.signData.relationDepId = info.departId;\r\n\r\n      this.request(this.api.user.userCompany_getUserOrgByUserId, {\r\n        userId: info.userId,\r\n        type: 0\r\n      }).then(data => {\r\n        console.log(data);\r\n        //得到门店列表数据\r\n        this.getStoreBasicListData(data.id)\r\n      });\r\n    },\r\n    //得到门店列表数据\r\n    getStoreBasicListData(organizationId){\r\n      this.request(this.api.order.orderStore_orderStoreList,{\r\n          symbol: 1,\r\n          organizationCode: organizationId\r\n        },\r\n        true\r\n      ).then(res=>{\r\n        this.storeListData=res\r\n      });\r\n    },\r\n    // 得到code码，用来限制是否显示按钮\r\n    getCodeLimitToBtnStatus(codeId) {\r\n      this.request(this.api.user.crm_userCompany_authList, {\r\n        menuId: codeId\r\n      }).then(res => {\r\n        console.log(res);\r\n        this.codeData = res;\r\n      });\r\n    },\r\n    //新增基本信息  跳转页面\r\n    openAddAttrbute() {\r\n      this.$router.push({\r\n        path: \"/OS/ditch/ditch_add\",\r\n        name: \"ditch_add\",\r\n        query: {\r\n          type: \"add\"\r\n        }\r\n      });\r\n      localStorage.setItem(\"type\", \"add\");\r\n    },\r\n    //导入Excel表格数据\r\n    leadToExcelData() {\r\n      this.dialogFormVisible = true;\r\n      //清空存入的显示表格数据\r\n      this.uploadList = [];\r\n      this.$nextTick(res => {\r\n        this.$refs[\"ditch-upload\"].clearFiles();\r\n        this.$refs[\"baby-upload\"].clearFiles();\r\n      });\r\n    },\r\n    isSelectCheck(row, index) {\r\n      if (row.reviewed == 0) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    //取消\r\n    closeTable() {\r\n      this.TableVisible = false;\r\n      //刷新表格数据\r\n      this.getChannelSaleOrderListTableData();\r\n    },\r\n    //导入X号的关闭\r\n    handleClose(){\r\n      this.closeTable()\r\n    },\r\n    //确认\r\n    successBtnClickTable() {\r\n      //   dialogFormVisible = false\r\n      let tempData = this.gridData.filter(item => item.orderStatus == 2);\r\n      if (tempData.length > 0) {\r\n        this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n          channelSaleOrderVoList: tempData\r\n        }).then(data => {\r\n          this.TableVisible = false;\r\n        });\r\n      } else {\r\n        this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n          channelSaleOrderVoList: []\r\n        }).then(data => {\r\n          this.TableVisible = false;\r\n        });\r\n      }\r\n    },\r\n    //得到ListData表格数据\r\n    getChannelSaleOrderListTableData() {\r\n      this.request(this.api.order.channelSaleOrder_list, this.formInline).then(\r\n        res => {\r\n          if(res.data.length==0 && res.totalCount>0){\r\n            this.formInline.pageIndex--\r\n            this.request(this.api.order.channelSaleOrder_list, this.formInline).then(res=>{\r\n              //获取总的页数\r\n              this.totlePage = res.totalCount;\r\n              this.netSalesTableData = res.data;\r\n            })\r\n          }else{\r\n            //获取总的页数\r\n            this.totlePage = res.totalCount;\r\n            this.netSalesTableData = res.data;\r\n          }\r\n        }\r\n      );\r\n    },\r\n    onSubmit() {\r\n      this.getChannelSaleOrderListTableData();\r\n      console.log(\"submit!\");\r\n      console.log(this.valArr);\r\n    },\r\n    //搜索\r\n    onSearchContent() {\r\n      let startTime = this.formInline.startTime;\r\n      let endTime = this.formInline.endTime;\r\n      //搜索\r\n      this.getChannelSaleOrderListTableData();\r\n    },\r\n    //重置表单数据\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n      this.formInline.channelCodes = [];\r\n      this.formInline.startTime = \"\";\r\n      this.formInline.endTime = \"\";\r\n      console.log(2);\r\n    },\r\n    //导入按钮的点击事件\r\n    leadBtnClick() {\r\n      console.log(\"leadBtn\");\r\n    },\r\n    //批量审核\r\n    batchBtnClick() {\r\n      if (!this.multipleSelection.length) return;\r\n      this.multipleSelection.forEach(item => {\r\n        item.orderType = \"0101\";\r\n        item.reviewed = 1;\r\n      });\r\n      this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n        channelSaleOrderVoList: this.multipleSelection\r\n      }).then(data => {\r\n        console.log(data);\r\n        console.log(\"369===========\");\r\n        //上传成功，清空选项\r\n        this.$refs.multipleTable.clearSelection();\r\n        this.$message({\r\n          message: \"批量审核成功\",\r\n          type: \"success\"\r\n        });\r\n        //刷新列表\r\n        this.getChannelSaleOrderListTableData()\r\n      });\r\n    },\r\n    //文件上传相关的事件\r\n    // 手动上传\r\n    customRequest(file) {},\r\n    //选中checkBox的状态\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    //点击按钮上传服务器\r\n    submitUpload() {\r\n      if (this.ditchFileName.search(\"ExportOrderList\") == -1) {\r\n        this.ditchTipMsg();\r\n        return;\r\n      }\r\n      if (this.babyFileName.search(\"ExportOrderDetailList\") == -1) {\r\n        this.babyTipMsg();\r\n        return;\r\n      }\r\n      var formdata = new FormData();\r\n      formdata.append(\"channelSaleOrderImport\",this.fileData.get('OrderTableList'))\r\n      formdata.append(\"channelSaleOrderImport\",this.fileData.get('BabyTableList'))\r\n\r\n      console.log(formdata);\r\n      this.onUploadStatus='success';\r\n      this.circleDialogVisible=true;\r\n      axios({\r\n        method: \"POST\",\r\n        url: this.api.FN_ALLPATH(this.api.order.channelSaleOrder_Import),\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          accessToken: token\r\n        },\r\n        onUploadProgress:(progressEvent) => {\r\n            // 使用本地 progress 事件\r\n            if (progressEvent.lengthComputable) {\r\n              let num = Math.round((progressEvent.loaded / progressEvent.total) * 100)\r\n              this.onUploadProgressTage = num\r\n            }\r\n        },\r\n        data: formdata\r\n      })\r\n        .then(res => {\r\n          this.circleDialogVisible=false;\r\n          this.invalidTotalData = 0;\r\n          this.validTotalData = 0;\r\n          this.gridData = res.data.data;\r\n          this.allTotalData = this.gridData[this.gridData.length - 1].row;\r\n          this.gridData.forEach(item => {\r\n            this.invalidTotalData++;\r\n            if (item.orderStatus == 2) {\r\n              this.validTotalData++;\r\n            }\r\n          });\r\n          // this.validTotalData = this.allTotalData - this.gridData.length;\r\n          this.$refs[\"ditch-upload\"].clearFiles();\r\n          this.$refs[\"baby-upload\"].clearFiles();\r\n          this.fileData.delete(\"OrderTableList\");\r\n          this.fileData.delete(\"BabyTableList\");\r\n          this.fileData=new FormData()\r\n          this.ditchFileName = \"\";\r\n          this.babyFileName = \"\";\r\n           this.dialogFormVisible = false;\r\n          this.TableVisible = true;\r\n        })\r\n        .catch(err => {\r\n          this.$refs[\"ditch-upload\"].clearFiles();\r\n          this.$refs[\"baby-upload\"].clearFiles();\r\n          this.fileData.delete(\"OrderTableList\");\r\n          this.fileData.delete(\"BabyTableList\");\r\n          this.fileData=new FormData()\r\n          this.ditchFileName = \"\";\r\n          this.babyFileName = \"\";\r\n          this.onUploadStatus='exception';\r\n          setTimeout(() => {\r\n             this.dialogFormVisible = false;\r\n             this.circleDialogVisible=false;\r\n          }, 1000);\r\n        });\r\n    },\r\n    handleRemove(file, fileList) {\r\n        console.log(file, fileList);\r\n    },\r\n    handlePreview(file) {\r\n      //   console.log(file);\r\n    },\r\n    //订单表\r\n    ditchfileChange(file, fileList) {\r\n      let flag = null;\r\n      for (let i = 0; i < this.uploadList.length; i++) {\r\n        if (this.uploadList[i].type === 1) {\r\n          flag = this.uploadList[i];\r\n        }\r\n      }\r\n      if (flag) {\r\n        flag.name = file.name;\r\n      } else {\r\n        this.uploadList.push({\r\n          name: file.name,\r\n          type: 1\r\n        });\r\n      }\r\n      // console.log(this.uploadList)\r\n      //添加文件名字\r\n      this.fileData.append(\"OrderTableList\", file.raw);\r\n      //截取名字前缀\r\n      this.ditchFileName = file.name.slice(0, file.name.length - 4);\r\n    },\r\n    //文件列表移除时的操作\r\n    removeDitchFileList(file, fileList) {\r\n      this.$refs[\"ditch-upload\"].clearFiles();\r\n      this.ditchFileName = \"\";\r\n    },\r\n    ditchTipMsg() {\r\n      this.$message.error(\"订单表名字不正确\");\r\n    },\r\n\r\n    //宝贝表\r\n    babyFileChange(file, fileList) {\r\n      let flag = null;\r\n      for (let i = 0; i < this.uploadList.length; i++) {\r\n        if (this.uploadList[i].type === 2) {\r\n          flag = this.uploadList[i];\r\n        }\r\n      }\r\n      if (flag) {\r\n        flag.name = file.name;\r\n      } else {\r\n        this.uploadList.push({\r\n          name: file.name,\r\n          type: 2\r\n        });\r\n      }\r\n      this.fileData.append(\"BabyTableList\", file.raw);\r\n      this.babyFileName = file.name.slice(0, file.name.length - 4);\r\n    },\r\n    //清空宝贝表\r\n    removeBabyFileList(file, fileList) {\r\n      this.$refs[\"baby-upload\"].clearFiles();\r\n      this.babyFileName = \"\";\r\n    },\r\n    btnDel(type, index) {\r\n      console.log(33333333333);\r\n      console.log(type + \"===\" + index);\r\n      if (type === 1) {\r\n        this.$refs[\"ditch-upload\"].clearFiles();\r\n        this.fileData.delete(\"OrderTableList\");\r\n        this.ditchFileName = \"\";\r\n        this.uploadList.splice(index, 1);\r\n      } else if (type === 2) {\r\n        this.$refs[\"baby-upload\"].clearFiles();\r\n        this.fileData.delete(\"BabyTableList\");\r\n        this.babyFileName = \"\";\r\n        this.uploadList.splice(index, 1);\r\n      }\r\n    },\r\n    babyTipMsg() {\r\n      this.$message.error(\"宝贝表名字不正确\");\r\n    },\r\n    //CircleProgress关闭时的回调\r\n    closeCircleProgress() {\r\n      // console.log(\"closeCircleProgress\")\r\n     // this.TableVisible = true;\r\n    },\r\n    //下拉选项\r\n    handleCommand(rowId) {\r\n      console.log(\"485========\");\r\n\r\n      console.log(rowId);\r\n      if (rowId[\"remark\"] == \"isRemark\") {\r\n        //  this.isShowRemarkMsgBox=true\r\n        //备注\r\n        this.$prompt(\"请输入备注\", \"添加订单备注\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\"\r\n        })\r\n          .then(({ value }) => {\r\n            let rowObj = rowId[\"row\"];\r\n            rowObj.remarks = value;\r\n\r\n            console.log(\"510================\");\r\n            console.log(rowObj);\r\n            this.channelSaleOrderVoList = [];\r\n              this.channelSaleOrderVoList.push({\r\n                orderId: rowObj.orderId,\r\n                receiverAddress: rowObj.receiverAddress,\r\n                reviewed: rowObj.reviewed,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderSn: rowObj.orderSn,\r\n                receiverName: rowObj.receiverName,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderType: \"0101\",\r\n                channelCode: rowObj.channelCode,\r\n                remarks: rowObj.remarks,\r\n                warehouseCode:rowObj.warehouseCode,\r\n                goodsOwner:rowObj.goodsOwner\r\n              });\r\n            this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n              channelSaleOrderVoList: this.channelSaleOrderVoList\r\n            }).then(data => {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: \"备注信息是: \" + value\r\n              });\r\n              //刷新列表\r\n              this.getChannelSaleOrderListTableData()\r\n            });\r\n          })\r\n          .catch(() => {\r\n            this.$message({\r\n              type: \"info\",\r\n              message: \"取消备注\"\r\n            });\r\n          });\r\n      } else {\r\n        const h = this.$createElement;\r\n        this.$msgbox({\r\n          title: \"订单审核\",\r\n          message: h(\"p\", null, [\r\n            h(\"span\", null, \"审核通过后,库房将接收订单发货通知 \")\r\n          ]),\r\n          showCancelButton: true,\r\n          distinguishCancelAndClose: true,\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"驳回\"\r\n        })\r\n          .then(action => {\r\n            console.log(action);\r\n            let rowObj = rowId[\"row\"];\r\n            rowObj.reviewed = 1;\r\n            (this.channelSaleOrderVoList = []),\r\n              this.channelSaleOrderVoList.push({\r\n                orderId: rowObj.orderId,\r\n                receiverAddress: rowObj.receiverAddress,\r\n                reviewed: rowObj.reviewed,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderSn: rowObj.orderSn,\r\n                receiverName: rowObj.receiverName,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderType: \"0101\",\r\n                channelCode: rowObj.channelCode,\r\n                warehouseCode:rowObj.warehouseCode,\r\n                goodsOwner:rowObj.goodsOwner\r\n              });\r\n            this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n              channelSaleOrderVoList: this.channelSaleOrderVoList\r\n            }).then(data => {\r\n              this.$message({\r\n                type: \"info\",\r\n                message: \"action: \" + action\r\n              });\r\n              //刷新列表\r\n              this.getChannelSaleOrderListTableData()\r\n            });\r\n          })\r\n          .catch(res => {\r\n            console.log(res);\r\n            if (res === \"close\") return;\r\n            let rowObj = rowId[\"row\"];\r\n            rowObj.reviewed = 2;\r\n            (this.channelSaleOrderVoList = []),\r\n              this.channelSaleOrderVoList.push({\r\n                orderId: rowObj.orderId,\r\n                receiverAddress: rowObj.receiverAddress,\r\n                reviewed: rowObj.reviewed,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderSn: rowObj.orderSn,\r\n                receiverName: rowObj.receiverName,\r\n                receiverMobile: rowObj.receiverMobile,\r\n                orderType: \"0101\",\r\n                channelCode: rowObj.channelCode,\r\n                warehouseCode:rowObj.warehouseCode,\r\n                goodsOwner:rowObj.goodsOwner\r\n              });\r\n            this.request(this.api.order.channelSaleOrder_updateBatch, {\r\n              channelSaleOrderVoList: this.channelSaleOrderVoList\r\n            }).then(data => {\r\n              this.$message({\r\n                type: \"info\",\r\n                message: \"action: \" + res\r\n              });\r\n            });\r\n          });\r\n      }\r\n    },\r\n    dropdownItemValueChange(isRemark, row) {\r\n      return {\r\n        remark: isRemark,\r\n        row: row\r\n      };\r\n    },\r\n    //查看按钮\r\n    checkBtnClick(row) {\r\n      this.$router.push({\r\n        path: \"/OS/ditch/ditch_check\",\r\n        name: \"ditch_check\",\r\n        query: {\r\n          orderSn: row.orderSn\r\n        }\r\n      });\r\n    },\r\n    //修改按钮\r\n    editBtnClick(row) {\r\n      this.$router.push({\r\n        path: \"/OS/ditch/ditch_editor\",\r\n        name: \"ditch_editor\",\r\n        query: {\r\n         orderSn: row.orderSn,\r\n         reviewed:row.reviewed\r\n        }\r\n      });\r\n      localStorage.setItem(\"type\", \"add\");\r\n    },\r\n    //取消按钮\r\n    cancleBtnclick(row) {\r\n      console.log(row);\r\n      this.$confirm(\"确认取消订单?\", \"取消订单\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.request(this.api.order.channelSaleOrder_cancel, {\r\n          orderId: row.orderId,\r\n          orderType: \"0101\"\r\n        }).then(data => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"取消成功\"\r\n          });\r\n          //刷新表格数据\r\n          this.getChannelSaleOrderListTableData();\r\n        });\r\n      }).catch(()=>{\r\n        console.log(\"取消删除。。。\")\r\n      })\r\n    },\r\n    //每页条数改变时\r\n    handleSizeChange(page) {\r\n      console.log(page);\r\n      this.formInline.pageSize = page;\r\n\r\n      this.getChannelSaleOrderListTableData();\r\n    },\r\n    // 当前页改变时\r\n    handleCurrentChange(page) {\r\n      console.log(page);\r\n      this.formInline.pageIndex = page;\r\n      this.getChannelSaleOrderListTableData();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.seachKey-input {\r\n  width: 300px;\r\n}\r\n.btn {\r\n  width: 100%;\r\n  text-align: right;\r\n  margin-top: 15px;\r\n  margin-right: 20px;\r\n}\r\n.date-picker-div {\r\n  margin-right: 10px;\r\n}\r\n.base {\r\n  margin: 8px;\r\n}\r\n.main-top {\r\n  // background-color: aqua;\r\n  color: #222;\r\n  display: inline-block;\r\n  margin-left: -15px;\r\n  width: 300px;\r\n  line-height: 70px;\r\n}\r\n.block {\r\n  margin-top: 20px;\r\n  padding-bottom: 10px;\r\n  margin-right: 20px;\r\n}\r\nh3 {\r\n  margin-top: 0;\r\n  margin-bottom: 15px;\r\n}\r\n.el-form {\r\n  padding-top: 15px;\r\n}\r\n.middle-from {\r\n  background-color: #fff;\r\n  padding-left: 70px;\r\n}\r\n.table {\r\n  margin-top: 8px;\r\n  background-color: #fff;\r\n  padding: 24px;\r\n  // padding-top: 20px;\r\n  // padding-left: 70px;\r\n}\r\n.upload-demo {\r\n  float: left;\r\n  margin-right: 10px;\r\n}\r\n.circleProgress {\r\n  text-align: center;\r\n}\r\n.el-dialog__body {\r\n  height: 230px;\r\n}\r\n.el-upload {\r\n  position: relative;\r\n}\r\n.uptemp .el-col {\r\n  width: 100px;\r\n  margin-right: 10px;\r\n}\r\n.uptemp .el-upload-list {\r\n  position: absolute;\r\n  //  top: -65px;\r\n  //  width: 50%;\r\n}\r\n\r\n//   .uptemp {\r\n//     position: absolute;\r\n//     top: 0;\r\n//     width: 80%;\r\n//     left: 45px;\r\n//   }\r\n// .updemo2 /deep/.el-upload-list{\r\n//     position: absolute;\r\n//     top: 55px;\r\n//     left: 0px;\r\n// }\r\n.uptemp {\r\n  position: relative;\r\n  top: 55px;\r\n  width: 80%;\r\n  left: 80px;\r\n}\r\n.slotUl {\r\n  position: absolute;\r\n  left: 50px;\r\n  top: 0px;\r\n}\r\n/deep/.el-upload-list__item-name {\r\n  display: none;\r\n}\r\n.slotUl .upLi {\r\n  margin-bottom: 5px;\r\n}\r\n.uptemp1 .el-upload-list .el-upload-list__item {\r\n  margin-top: 0;\r\n}\r\n</style>\r\n\r\n"]}]}