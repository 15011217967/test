{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\fmis\\fund\\gathering.vue?vue&type=template&id=6abafb31&scoped=true&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\fmis\\fund\\gathering.vue","mtime":1577023671665},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1558492728890},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["\n<div>\n  <div class=\"search_div\">\n    <el-form ref=\"formData\" :model=\"signData\" label-width=\"110px\" :inline=\"true\">\n      <el-form-item label=\"模糊查询：\" prop=\"searchKey\" label-width=\"120px\">\n        <el-input style=\"width:300px;\" clearable v-model=\"signData.filter\" placeholder=\"收款单号\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"收款状态：\" prop=\"paymentStatusList\">\n        <el-select v-model=\"signData.receiptStatus\" clearable placeholder=\"请选择\">\n          <el-option\n            v-for=\"(item, index) in receiveFormList\"\n            :label=\"item\"\n            :key=\"index\"\n            :value=\"index\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"searchFormData('formData')\" size=\"small\">查询</el-button>\n        <el-button @click=\"resetFormData('formData')\" size=\"small\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n  <div class=\"box\">\n    <el-button\n      plain\n      @click=\"exportExcel\"\n      size=\"small\"\n    >导出</el-button>\n    <el-table\n      ref=\"multipleTable\"\n      :data=\"tableData\"\n      tooltip-effect=\"dark\"\n      style=\"width: 100%\"\n      header-row-class-name=\"item-table-header\"\n      @selection-change=\"selectionChange\">\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n      <el-table-column label=\"收款单\" align=\"center\" width=\"170\">\n        <template slot-scope=\"scope\">{{ scope.row.receiptNum ? scope.row.receiptNum:\"--\" }}</template>\n      </el-table-column>\n      <el-table-column prop=\"paymentStatus\" label=\"状态\" align=\"center\">\n        <template slot-scope=\"scope\">{{ scope.row._receiptStatus  }}</template>\n      </el-table-column>\n      <el-table-column prop=\"accountReceivable\" label=\"收款类型\" align=\"center\">\n        <template slot-scope=\"scope\">{{ scope.row.receiptTypeName }}</template>\n      </el-table-column>\n      <el-table-column prop=\"accountsReceived\" label=\"付款方名称\" align=\"center\">\n        <template slot-scope=\"scope\">{{scope.row.channelName}}</template>\n      </el-table-column>\n      <el-table-column prop=\"merchant\" label=\"付款账户\" align=\"center\">\n        <template slot-scope=\"scope\">{{ scope.row.paymentAccount }}</template>\n      </el-table-column>\n      <el-table-column prop=\"tradeType\" label=\"应收金额\" align=\"center\">\n        <template slot-scope=\"scope\">{{ scope.row.amountReceivable  }}</template>\n      </el-table-column>\n      <el-table-column prop=\"tradeType\" label=\"实收金额\" align=\"center\">\n        <template slot-scope=\"scope\">{{ scope.row.paidAmount  }}</template>\n      </el-table-column>\n      <el-table-column prop=\"createTime\" label=\"收款确认时间\" align=\"center\" width=\"160\">\n        <template slot-scope=\"scope\">{{ scope.row.updateTime  }}</template>\n      </el-table-column>\n      <el-table-column prop=\"creator\" label=\"收款确认人\" align=\"center\">\n        <template slot-scope=\"scope\">{{ scope.row.updateByName }}</template>\n      </el-table-column>\n      <el-table-column prop=\"address\" label=\"操作\" width=\"260\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button\n            @click=\"sureReceiptBtnClickEvent(scope.row)\"\n            type=\"text\"\n            :disabled=\"scope.row.receiptStatus == 2\"\n            v-auth=\"codeData\"\n            data-code=\"16020102\"\n          >确认收款</el-button>\n          <el-button @click=\"addRemarkBtnClickEvent(scope.row)\" type=\"text\" v-auth=\"codeData\"\n            data-code=\"16020104\">备注</el-button>\n          <el-button @click=\"addFilesBtnClickEvent(scope.row)\" type=\"text\" v-auth=\"codeData\"\n            data-code=\"16020103\">上传附件</el-button>\n            <el-button @click=\"handleCommand('isReceipt',scope.row)\" type=\"text\" v-auth=\"codeData\"\n            data-code=\"16020105\">收款记录</el-button>\n            <el-button @click=\"handleCommand('isRemark',scope.row)\" type=\"text\" v-auth=\"codeData\"\n            data-code=\"16020106\">备注记录</el-button>\n            <el-button @click=\"handleCommand('isFile',scope.row)\" type=\"text\" v-auth=\"codeData\"\n            data-code=\"16020107\">查看附件</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n     <div class=\"pagination mt-10 justify-content\">\n      <div>\n        累计应收金额：\n        <span>{{ tableData_statistics.amountReceivableSum }}</span>累计实收金额：\n        <span>{{ tableData_statistics.paidAmountSum }}</span>\n      </div>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"signData.pageIndex\"\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size=\"signData.pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"totalCount\"\n      ></el-pagination>\n    </div>\n  </div>\n  <!-- 确认收付款 -->\n  <el-dialog title=\"确认收付款\" :visible.sync=\"showDialog\" width=\"600px\" @closed='hideReceiveDialog'>\n    <el-form :model=\"receiveFormData\" ref=\"receivingForm\" :rules=\"receiveFormRules\">\n      <el-form-item prop='paymentMethod' label=\"付款方式\" label-width=\"120px\">\n        <el-select v-model=\"receiveFormData.paymentMethod\">\n          <el-option v-for=\"(item, index) in payList\" :key=\"index\" :label=\"item.name\" :value=\"item.name\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item prop='paidAmountCopy' label=\"收付款金额\" label-width=\"120px\">\n        <el-input v-model=\"receiveFormData.paidAmountCopy\" placeholder=\"请输入金额\" style=\"width:300px;\" v-financial-coin></el-input>\n        <span class=\"cloin-span\">元</span>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"cancelReceivingFormBtnClick('receivingForm')\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"sureReceivingFormBtnClick('receivingForm')\">确 定</el-button>\n    </div>\n  </el-dialog>\n  <!-- 上传附件 -->\n  <el-dialog :visible.sync=\"showUploadImg\" @closed=\"hideUploadDialogEvent\">\n    <p style=\"position: absolute;top: 21px;\">上传附件</p>\n    <div class=\"upload_div\">\n      <p>附件</p>\n      <el-upload\n        :class=\"{imgUploadhide:currentLimit==3}\"\n        :action=\"imgAction()\"\n        accept=\"image/*\"\n        list-type=\"picture-card\"\n        :on-success=\"handleAvatarSuccess\"\n        :on-remove=\"handleRemove\"\n        :before-upload=\"beforeAvatarUpload\"\n        :limit=\"3\"\n        :data=\"uploadData\"\n        ref=\"uploadImg\"\n      >\n        <i class=\"el-icon-plus\"></i>\n      </el-upload>\n    </div>\n    <p style=\"color:#CCCCCC;margin-top:10px;\">提示：仅支持png、jpeg格式的图片上传,最多支持上传3图片！</p>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"cancelUploadImage\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"sureUploadImage\">确 定</el-button>\n    </div>\n  </el-dialog>\n  <!-- 添加备注 -->\n  <el-dialog\n    title=\"添加备注\"\n    :visible.sync=\"showRemarksDialog\"\n    width=\"600px\"\n    @closed=\"hideRemarksDialogEvent\"\n  >\n    <el-form :model=\"remarksFormData\" ref=\"remarksForm\" :rules=\"remarksRules\">\n      <el-form-item label=\"填写备注：\" label-width=\"120px\" prop=\"remarks\">\n        <el-input\n          resize=\"none\"\n          v-model=\"remarksFormData.remarks\"\n          type=\"textarea\"\n          placeholder=\"请输入内容\"\n          style=\"width:300px;\"\n          rows=\"3\"\n        ></el-input>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"cancelAddRemarksBtnClick('remarksForm')\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"sureAddRemarksBtnClick('remarksForm')\">确 定</el-button>\n    </div>\n  </el-dialog>\n  <!-- 收款记录 -->\n  <el-dialog\n    title=\"收款/退款记录\"\n    :visible.sync=\"showCollectionRecordDialog\"\n    width=\"600px\"\n    height=\"600px\"\n    @closed=\"hideCollectionRecordDialogEvent\"\n  >\n    <el-table :data=\"handleRecordData\" max-height=\"250\" border style=\"width: 100%\" header-row-class-name=\"item-table-header\">\n      <el-table-column prop=\"tradeTime\" label=\"时间\" width=\"170\">\n        <template slot-scope=\"scope\">{{ scope.row.createTime | timestampToTime }}</template>\n      </el-table-column>\n      <el-table-column prop=\"operator\" label=\"收款人员\">\n        <template slot-scope=\"scope\">{{ scope.row.financialConfirmer}}</template>\n      </el-table-column>\n      <el-table-column prop=\"paymentCode\" label=\"收款方式\">\n        <template slot-scope=\"scope\">{{ scope.row.paymentMethod }}</template>\n      </el-table-column>\n      <el-table-column prop=\"collectionAmount\" label=\"收款金额\"></el-table-column>\n    </el-table>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeCollectionRecordBtnClick\">关闭</el-button>\n    </div>\n  </el-dialog>\n  <!-- 备注记录 -->\n  <el-dialog\n    title=\"备注记录\"\n    :visible.sync=\"showRemarksRecordDialog\"\n    width=\"600px\"\n    height=\"600px\"\n    @closed=\"hideRemarksRecordDialogEvent\"\n  >\n    <el-table :data=\"recordData\" max-height=\"250\" border style=\"width: 100%\" header-row-class-name=\"item-table-header\">\n      <el-table-column prop=\"createTime\" label=\"时间\">\n        <template slot-scope=\"scope\">{{ scope.row.createTime | timestampToTime }}</template>\n      </el-table-column>\n      <el-table-column prop=\"creator\" label=\"备注人员\"></el-table-column>\n      <el-table-column prop=\"remarks\" label=\"备注\"></el-table-column>\n    </el-table>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeRemarksRecordBtnClick\">关闭</el-button>\n    </div>\n  </el-dialog>\n  <!-- 查看附件 -->\n  <el-dialog\n    title=\"查看附件\"\n    :visible.sync=\"showFileRecordDialog\"\n    width=\"600px\"\n    height=\"600px\"\n    @closed=\"hideFileRecordDialogEvent\">\n    <div style='height:300px;overflow:auto;'>\n      <div  v-for='item in fileData' :key=\"item.id\">\n        <div style=\"display:flex;border-bottom:1px solid #ccc;padding-right:10px;\">\n          <span style=\"flex:auto;\">{{item.createTime}}</span>\n          <span>上传人员：{{item.creator?item.creator:'--'}}</span>\n        </div>\n        <div style=\"display:flex;margin:10px 0;\">\n          <el-popover placement=\"right\" width=\"400\" trigger=\"hover\" v-for='imgItem in item.associationList' :key=\"imgItem.id\">\n              <img :src='imgItem.attachment' style=\"width:380px;\"/>\n              <img :src='imgItem.attachment' slot=\"reference\" style=\"width:84px;height:71px;margin-right:10px;\"/>\n          </el-popover>\n        </div>\n      </div>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeFileRecordBtnClick\">关闭</el-button>\n    </div>\n  </el-dialog>\n</div>\n",null]}