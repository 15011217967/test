{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\scb\\goods\\lib\\row.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\scb\\goods\\lib\\row.vue","mtime":1578909984139},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport column from './column.vue'\nimport space from './space.vue'\nexport default {\n  name: 'row',\n    props: ['model','depth','columns','isdraggable','border', 'custom_field','onCheck','isContainChildren'],\n    data() {\n        return {\n            open: false,\n            visibility: 'visible'\n        }\n    },\n    components: {\n      column,\n      space\n    },\n    computed: {\n        isFolder() {\n            return this.model[this.custom_field.lists] && this.model[this.custom_field.lists].length\n        }\n    },\n    methods: {\n        toggle() {\n            if(this.isFolder) {\n                this.model[this.custom_field.open] = !this.model[this.custom_field.open];\n                this.$forceUpdate()\n            }\n        },\n        dragstart(e) {\n            if (navigator.userAgent.indexOf('Firefox') >= 0) {\n                // Firefox drag have a bug\n                e.dataTransfer.setData('Text', this.id);\n            }\n            window.dragId = e.target.children[0].getAttribute('tree-id');\n            window.dragPId = e.target.children[0].getAttribute('tree-p-id');\n            window.dragParentNode = e.target;\n            e.target.style.opacity = 0.2\n        },\n        dragend(e) {\n          e.target.style.opacity = 1;\n        },\n        setAllCheckData (curList, flag) {\n          const listKey = this.custom_field.lists\n          for( let i = 0; i < curList.length; i++) {\n            var item = curList[i]\n            this.$set(item, 'checked', flag)\n            if (item[listKey] && item[listKey].length) {\n              this.setAllCheckData(item[listKey], flag)\n            }\n          }\n        },\n        onCheckboxClick(evt, model) {\n          const list = model[this.custom_field.lists];\n          // 判断是否有子节点，如有需递归处理\n          if (list && this.isContainChildren) {\n            this.setAllCheckData([model] || [], !!evt.target.checked)\n          } else {\n            this.$set(model, 'checked', !!evt.target.checked)\n          }\n          this.onCheck && this.onCheck()\n        }\n    }\n}\n",{"version":3,"sources":["row.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"row.vue","sourceRoot":"src/views/scb/goods/lib","sourcesContent":["<template>\n        <div class=\"tree-block\" :draggable=\"!!isdraggable\" @dragstart=\"dragstart($event)\"\n            @dragend=\"dragend($event)\">\n            <div class=\"tree-row\"\n                @click=\"toggle\" \n                :data-level=\"depth\"\n                :tree-id=\"model[custom_field.id]\"\n                :tree-p-id=\"model[custom_field.parent_id]\"\n                :class=\"{'highlight-row': model.highlight == true}\"\n                v-bind:style=\"{backgroundColor: model.backgroundColor}\"> \n                <column\n                    v-for=\"(subItem, subIndex) in columns\"\n                    v-bind:class=\"['align-' + subItem.align, 'colIndex' + subIndex]\"\n                    :field=\"subItem.field\"\n                    :width=\"subItem.width\"\n                    :flex=\"subItem.flex\"\n                    :border=\"border\"\n                    :key=\"subIndex\">\n                    <span v-if=\"subItem.type === 'selection'\">\n                        <space :depth=\"depth\"/>\n                        <span v-if = \"model[custom_field.lists] && model[custom_field.lists].length\" class=\"zip-icon\" v-bind:class=\"[model[custom_field.open] ? 'arrow-bottom' : 'arrow-right']\">\n                        </span>\n                        <span v-else class=\"zip-icon arrow-transparent\">\n                        </span>\n                        <span v-if=\"subItem.formatter\" v-html=\"subItem.formatter(model)\"></span>\n                        <span v-else v-html=\"model[subItem.field]\"></span>\n\n                    </span>\n                    <span v-else-if=\"subItem.type === 'image'\">\n                        <span v-if=\"model[subItem.field]\">\n                            <img class=\"subItemImage\" :src=\"model[subItem.field]\" alt=\"\">\n                        </span>\n                        <span v-else>/</span>\n                    </span>\n                    <span v-else-if=\"subItem.type === 'action'\">\n                        <a class=\"action-item\"\n                            v-for=\"(acItem, acIndex) in subItem.actions\"\n                            :key=\"acIndex\"\n                            type=\"text\" size=\"small\" \n                            @click.stop.prevent=\"acItem.onclick(model)\">\n                            <i :class=\"acItem.icon\" style=\"margin-right:10px;\" v-html=\"acItem.formatter(model)\"></i>\n                        </a>\n                    </span>\n                    <span v-else-if=\"subItem.type === 'checkbox'\">\n                      <input type=\"checkbox\"\n                        v-if=\"model.isShowCheckbox !== false\"\n                        :name=\"model[custom_field.id]\"\n                        v-model=\"model[custom_field.checked]\"\n                        class=\"checkbox action-item\"\n                        @click.stop=\"onCheckboxClick($event, model)\"/>\n                    </span>\n                    <span v-else>\n                        <span v-if=\"subItem.formatter\" v-html=\"subItem.formatter(model)\"></span>\n                        <span v-else>{{ model[subItem.field] != null ? model[subItem.field] : '/' }}</span>\n                    </span>\n                </column>\n                <div class=\"hover-model\" style=\"display: none\">\n                    <div class=\"hover-block prev-block\">\n                        <i class=\"el-icon-caret-top\"></i>\n                    </div>\n                    <div class=\"hover-block center-block\">\n                        <i class=\"el-icon-caret-right\"></i>\n                    </div>\n                    <div class=\"hover-block next-block\">\n                        <i class=\"el-icon-caret-bottom\"></i>\n                    </div>\n                </div>\n            </div>\n            <row \n                v-show=\"model[custom_field.open]\"\n                v-for=\"(item, index) in model[custom_field.lists]\" \n                :model=\"item\"\n                :columns=\"columns\"\n                :key=\"index\" \n                :isdraggable=\"isdraggable\"\n                :border=\"border\"\n                :depth=\"depth * 1 + 1\"\n                :custom_field=\"custom_field\"\n                :onCheck=\"onCheck\"\n                :isContainChildren=\"isContainChildren\"\n                v-if=\"isFolder\">\n            </row>\n        </div>\n        \n    </template>\n    <script>\n    import column from './column.vue'\n    import space from './space.vue'\n    export default {\n      name: 'row',\n        props: ['model','depth','columns','isdraggable','border', 'custom_field','onCheck','isContainChildren'],\n        data() {\n            return {\n                open: false,\n                visibility: 'visible'\n            }\n        },\n        components: {\n          column,\n          space\n        },\n        computed: {\n            isFolder() {\n                return this.model[this.custom_field.lists] && this.model[this.custom_field.lists].length\n            }\n        },\n        methods: {\n            toggle() {\n                if(this.isFolder) {\n                    this.model[this.custom_field.open] = !this.model[this.custom_field.open];\n                    this.$forceUpdate()\n                }\n            },\n            dragstart(e) {\n                if (navigator.userAgent.indexOf('Firefox') >= 0) {\n                    // Firefox drag have a bug\n                    e.dataTransfer.setData('Text', this.id);\n                }\n                window.dragId = e.target.children[0].getAttribute('tree-id');\n                window.dragPId = e.target.children[0].getAttribute('tree-p-id');\n                window.dragParentNode = e.target;\n                e.target.style.opacity = 0.2\n            },\n            dragend(e) {\n              e.target.style.opacity = 1;\n            },\n            setAllCheckData (curList, flag) {\n              const listKey = this.custom_field.lists\n              for( let i = 0; i < curList.length; i++) {\n                var item = curList[i]\n                this.$set(item, 'checked', flag)\n                if (item[listKey] && item[listKey].length) {\n                  this.setAllCheckData(item[listKey], flag)\n                }\n              }\n            },\n            onCheckboxClick(evt, model) {\n              const list = model[this.custom_field.lists];\n              // 判断是否有子节点，如有需递归处理\n              if (list && this.isContainChildren) {\n                this.setAllCheckData([model] || [], !!evt.target.checked)\n              } else {\n                this.$set(model, 'checked', !!evt.target.checked)\n              }\n              this.onCheck && this.onCheck()\n            }\n        }\n    }\n    </script>\n  <style lang=\"less\">\n    .tree-block{\n      width: 100%;\n      background: rgba(255,255,255,0.8)\n    }\n    .tree-row{\n      position: relative;\n      display: flex;\n    //   padding: 10px 10px;\n      border-bottom: 1px solid #eee;\n      line-height: 45px;\n      font-size: 15px;\n      &:hover{\n          background: #ecf5ff\n      }\n      &.highlight-row{\n          background: #ffe88c;\n      }\n      .align-left{\n          text-align: left;\n      }\n      .align-right{\n          text-align: right;\n      }\n      .align-center{\n          text-align: center;\n      }\n    }\n    .hover-model{\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255,255,255,0.6);\n    }\n    .hover-block{\n        display: flex;\n        opacity: 0.1;\n        transition: opacity 0.5s;\n        justify-content: center;\n        align-items: center;\n        i{\n            color: #FFF;\n        }\n    }\n    .prev-block{\n        height: 25%;\n        background: #a0c8f7;\n    }\n    .center-block{\n        height: 50%;\n        background: #a0c8f7;\n    }\n    .next-block{\n        height: 25%;\n        background: #a0c8f7;\n    }\n    .action-item{\n        color: #409eff;\n        cursor: pointer;\n        i{\n            font-style: normal;\n        }\n    }\n    .zip-icon{\n        display: inline-block;\n        width: 18px;\n        height: 18px;\n        margin-right: 10px;\n        vertical-align: middle;\n        background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAf0lEQVQ4T7XT0Q2AMAhF0dvNdALdSEdzBB3BDXQD85LGRNMCauS7nAKBxMdIhfwemIAtYpeAEeiANoLUgAGYI4gFqAMX8QAXiQBCNFDNRBVdIgpUkSfADjT3KqLACmg/XrWw5J+Li+VVYCZrMBbgJluA+tXA3Hv45ZgiR3i+OQBeSyYRPEyeUAAAAABJRU5ErkJggg==') no-repeat center;\n        background-size: cover;\n    }\n    .arrow-transparent{\n        visibility: hidden;\n    }\n    .arrow-right{\n        \n    }\n    .arrow-bottom{\n        transform: rotate(90deg)\n    }\n    [draggable=true] {\n      -khtml-user-drag: element;\n    }\n    .subItemImage{\n        width: 45px;\n        height: 45px;\n    }\n    </style>\n    "]}]}