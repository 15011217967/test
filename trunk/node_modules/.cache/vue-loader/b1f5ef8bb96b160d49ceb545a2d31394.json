{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\market\\discount\\discount_order_add.vue?vue&type=template&id=38407407&scoped=true&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\market\\discount\\discount_order_add.vue","mtime":1572415124560},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1558492728890},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["\n<div>\n   <el-dialog title=\"选择商品\" :visible.sync=\"dialogTableVisible\">\n     <div class=\"box\">\n       <el-form\n         class=\"item-form\"\n         size=\"small\"\n         :inline=\"true\"\n         :model=\"goodsFiltersData\">\n         <!-- 模糊查询 -->\n         <el-form-item prop=\"cateIdentifier\" clearable label=\"品类：\">\n           <el-cascader\n             class=\"input-w\"\n             :options=\"classData\"\n             v-model=\"cateArr\"\n             :value=\"cateArr\"\n             @change=\"cascaderGet\"\n             :show-all-levels=\"false\"\n             :props=\"props\"\n             change-on-select\n           ></el-cascader>\n         </el-form-item>\n         <el-form-item label=\"品牌：\">\n           <el-select class=\"input-w\" filterable clearable placeholder=\"请选择\" v-model=\"goodsFiltersData.brandId\">\n             <el-option\n               v-for=\"item in brandOptions\"\n               :key=\"item.id\"\n               :label=\"item.name\"\n               :value=\"item.id\"\n             ></el-option>\n           </el-select>\n         </el-form-item>\n         <el-form-item label=\"售价：\">\n           <el-input placeholder=\"请输入售价最小值\" clearable  v-model.number=\"goodsFiltersData.retailPriceGE\" class=\"el-input-width155\"></el-input>\n           <el-input placeholder=\"请输入售价最大值\" clearable  v-model.number=\"goodsFiltersData.retailPriceLE\" class=\"el-input-width155 ml-10\"></el-input>\n         </el-form-item>\n         <el-form-item label=\"季节：\">\n           <el-select v-model=\"goodsFiltersData.seasonalStyleCode\" clearable placeholder=\"请选择\">\n             <el-option v-for=\"(item, index) in codeItem_list_get.data\" :key=\"index\" :label=\"item.name\" :value=\"item.code\"></el-option>\n           </el-select>\n         </el-form-item>\n         <br/>\n         <el-form-item label=\"店内库存：\">\n           <el-input placeholder=\"请输入库存最小值\" clearable  v-model=\"goodsFiltersData.quantityLowerLimit\" class=\"el-input-width155\"></el-input>\n           <el-input placeholder=\"请输入库存最大值\" clearable  v-model=\"goodsFiltersData.quantityUpperLimit\" class=\"el-input-width155 ml-10\"></el-input>\n         </el-form-item>\n         <el-form-item label=\"关键词：\">\n           <el-input placeholder=\"请输入关键词，如：货号、款号、商品名称\" clearable  v-model=\"goodsFiltersData.searchWords\" class=\"el-input-width355\"></el-input>\n         </el-form-item>\n         <!-- 搜索，重置 -->\n         <el-form-item>\n           <el-button size=\"small\" @click=\"handleSearch\" type=\"primary\" plain>搜索</el-button>\n           <el-button size=\"small\" @click=\"handleResetFilters\">重置</el-button>\n         </el-form-item>\n       </el-form>\n     </div>\n     <div class=\"box\">\n       <!-- 全部商品 -->\n       <div class=\"item-table\">\n         <el-button size=\"small\" type=\"primary\" class=\"ml-20 mt-24\" @click=\"marketingMiddleground_addPageSingleProduct\">本页全部添加</el-button>\n         <el-table\n             class=\"mt-20\"\n           :data=\"goodsList.data\"  \n           stripe\n           empty-text=\"暂无数据\"\n           header-align=\"center\"\n           header-row-class-name=\"item-table-header\"\n           :highlight-current-row=\"true\">\n           <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品款号\" min-width=\"100\">\n             <template  slot-scope=\"scope\">{{ scope.row.productCode|| '--' }}</template>\n           </el-table-column>\n           <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品货号\" min-width=\"150\">\n             <template  slot-scope=\"scope\">{{ scope.row.code || '--' }}</template>\n           </el-table-column>\n           <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"品牌\" min-width=\"100\">\n             <template  slot-scope=\"scope\">{{ scope.row.productBrandName || '--' }}</template>\n           </el-table-column>\n           <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"品类\" min-width=\"100\">\n             <template  slot-scope=\"scope\">{{ scope.row.fullCateName || '--' }}</template>\n           </el-table-column>\n           <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品名称\" min-width=\"100\">\n             <template  slot-scope=\"scope\">{{ scope.row.name || '--' }}</template>\n           </el-table-column>\n           <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品图片\" min-width=\"100\">\n             <template  slot-scope=\"scope\"><img class=\"discountImg\" :src=\"scope.row.image\" alt=\"\"></template>\n           </el-table-column>\n           <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"店内库存\" min-width=\"100\">\n             <template  slot-scope=\"scope\">{{ scope.row.stock === null ? '门店没有该商品' : scope.row.stock }}</template>\n           </el-table-column>\n           <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"售价\" min-width=\"100\">\n             <template  slot-scope=\"scope\">{{ scope.row.retailPrice || '--'  }}</template>\n           </el-table-column>\n           <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"当前折扣\" min-width=\"100\">\n             <template  slot-scope=\"scope\">{{ scope.row.discountStr || '--' }}</template>\n           </el-table-column>\n           <!-- 操作 -->\n           <el-table-column\n               fixed=\"right\"\n               label-class-name=\"text-center\"\n               class-name=\"text-center\"\n               align=\"center\"\n               label=\"操作\"\n               width=\"180\">\n               <template slot-scope=\"scope\">\n                 <el-button type=\"text\" v-if=\"scope.row.currentDiscount === null\" size=\"small\" @click=\"marketingMiddleground_addStatelessSingleProduct(scope.row)\">添加</el-button>\n                 <el-button type=\"text\" v-if=\"scope.row.currentDiscount === 0\" size=\"small\" @click=\"marketingMiddleground_addOtherInSingleProduct(scope.row)\">切换到当前折扣</el-button>\n                 <el-button type=\"text\" v-if=\"scope.row.currentDiscount === 1\" size=\"small\" @click=\"marketingMiddleground_removeInSingleProduct(scope.row)\">从列表内剔除</el-button>\n               </template>\n           </el-table-column>\n         </el-table>\n         <div class=\"pagination mt-10 mb-20\">\n           <!-- 分页 -->\n           <el-pagination\n               class=\"mr-20\"\n               @size-change=\"handleSizeChange\"\n               @current-change=\"handleCurrentChange\"\n               :current-page=\"goodsFiltersData.pageIndex\"\n               :page-sizes=\"[10,20,30,40,50]\"\n               :page-size=\"goodsFiltersData.pageSize\"\n               layout=\"total, sizes, prev, pager, next, jumper\"\n               :total=\"goodsList.totalCount\"\n           ></el-pagination>\n         </div>\n       </div>\n     </div>\n   </el-dialog>\n   <el-form\n     :model=\"discountData\"\n     label-width=\"150px\"\n     class=\"form-label\"\n     :rules=\"rules\"\n     ref=\"formName\">\n     <!-- 1.折扣类型选择 -->\n     <div class=\"box\">\n       <el-form-item label=\"适用门店：\" prop=\"storeId\">\n         <el-select \n           clearable \n           filterable \n           v-model=\"discountData.storeId\" \n           @focus=\"visibleChange\"\n           :disabled=\"isEdit ? isEdit : false\" \n           @change=\"changeStore\" \n           class=\"el-input-short\">\n           <el-option v-for=\"(item, index) in storeList.data\" :key=\"index\" :label=\"item.name\" :value=\"item.id\"></el-option>\n         </el-select>\n       </el-form-item>\n       <el-form-item label=\"折扣方案类型：\" prop=\"type\">\n         <el-select v-model=\"discountData.type\" :disabled=\"isEdit ? isEdit : false\" class=\"el-input-short\">\n           <el-option v-for=\"(item, index) in discountType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\n         </el-select>\n       </el-form-item>\n     </div>\n     <!-- 2.折扣内容配置 -->\n     <template>\n       <!-- （预约）折扣 -->\n       <div class=\"box\" v-if=\"discountData.type === 0\">\n         <el-form-item label=\"预约折扣类型：\" prop=\"appointmentDiscountType\">\n           <el-select \n             v-model=\"discountData.appointmentDiscountType\" \n             class=\"el-input-short\" \n             @change=\"discountData.appointmentDiscountEd = null\"\n             placeholder=\"请选择预约折扣类型\">\n             <el-option v-for=\"(item, index) in appointmentDiscountType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\n           </el-select>\n         </el-form-item>\n         <el-form-item label=\"减免金额：\" v-show=\"discountData.appointmentDiscountType !== null && discountData.appointmentDiscountType === 0\" prop=\"appointmentDiscountEd\">\n           <el-input v-enter-number v-model=\"discountData.appointmentDiscountEd\"  placeholder=\"请输入金额，如50\" class=\"el-input-width155\"></el-input>&nbsp;元\n         </el-form-item>\n         <el-form-item label=\"折扣额度：\" v-show=\"discountData.appointmentDiscountType !== null && discountData.appointmentDiscountType === 1\" prop=\"appointmentDiscountEd\">\n           <el-input  v-model=\"discountData.appointmentDiscountEd\" v-discount  placeholder=\"请输入折扣，如3.5\" class=\"el-input-width155\"></el-input>&nbsp;折\n         </el-form-item>\n         <el-form-item label=\"\" prop=\"\" class=\"mt-74\">\n           <el-button type=\"primary\" @click=\"saveDiscount\">保存</el-button>\n           <el-button @click=\"href('market/discount/discount_manage_list')\">取消</el-button>\n         </el-form-item>\n       </div>\n       <!-- （阶梯）折扣 -->\n       <div class=\"box\" v-if=\"discountData.type === 1\">\n         <el-form-item label=\"阶梯折扣类型：\" prop=\"ladderDiscountType\">\n           <el-select @change=\"changeLadderDiscountType\" v-model=\"discountData.ladderDiscountType\" class=\"el-input-short\" placeholder=\"请选择阶梯折扣类型\">\n             <el-option v-for=\"(item, index) in ladderDiscountType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\n           </el-select>\n         </el-form-item>\n         <!-- 设置阶梯 -->\n         <el-form-item label=\"设置阶梯：\" prop=\"ladderDiscountList\">\n           <div class=\"addRadder\">\n             <div \n               v-for=\"(item, index) in discountData.ladderDiscountList\"\n               :key=\"index\"\n               >\n               <!-- 满数量打折 -->\n               <div v-show=\"discountData.ladderDiscountType  === 0\">满\n                 <el-input class=\"el-input-mini mlr10px mb-10\" v-enter-number v-model=\"item.quantity\"></el-input>件，打\n                 <el-input v-discount class=\"el-input-mini mlr10px\" v-model=\"item.value\"></el-input>折\n                 <i class=\"el-icon-remove  mlr10px\" @click=\"deleteLadderItem(index)\"></i></div>\n               <!-- 满金额打折 -->\n               <div v-show=\"discountData.ladderDiscountType  === 1\">满\n                 <el-input class=\"el-input-mini mlr10px mb-10\" v-enter-number v-model=\"item.quantity\"></el-input>元，打\n                 <el-input v-discount class=\"el-input-mini mlr10px\" v-model=\"item.value\"></el-input>折\n                 <i class=\"el-icon-remove  mlr10px\" @click=\"deleteLadderItem(index)\"></i></div>\n               <!-- 满数量减免指定金额 -->\n               <div v-show=\"discountData.ladderDiscountType  === 2\">满\n                 <el-input class=\"el-input-mini mlr10px mb-10\" v-enter-number v-model=\"item.quantity\"></el-input>件，减\n                 <el-input class=\"el-input-mini mlr10px\" v-enter-number v-model=\"item.value\"></el-input>元\n                 <i class=\"el-icon-remove  mlr10px\" @click=\"deleteLadderItem(index)\"></i></div> \n               <!-- 满金额减免指定金额 -->\n               <div v-show=\"discountData.ladderDiscountType  === 3\">满\n                 <el-input class=\"el-input-mini mlr10px mb-10\" v-enter-number v-model=\"item.quantity\"></el-input>元，减\n                 <el-input class=\"el-input-mini mlr10px\" v-enter-number v-model=\"item.value\"></el-input>元\n                 <i class=\"el-icon-remove  mlr10px\" @click=\"deleteLadderItem(index)\"></i></div>\n             </div>\n             <el-button @click=\"createLadder\">新增阶梯</el-button>\n           </div>\n         </el-form-item>\n         <el-form-item label=\"\" prop=\"\" class=\"mt-74\">\n           <el-button type=\"primary\" @click=\"saveDiscount\">保存</el-button>\n           <el-button @click=\"href('market/discount/discount_manage_list')\">取消</el-button>\n         </el-form-item>\n       </div>\n       <!-- 单品折扣 -->\n       <div v-if=\"discountData.type === 2\">\n         <div class=\"box\">\n           <el-form-item label=\"单品折扣类型：\" prop=\"itemDiscountType\">\n             <el-select \n               v-model=\"discountData.itemDiscountType\" \n               class=\"el-input-short\" \n               @change=\"discountData.itemDiscountEd = null\"\n               placeholder=\"请选择单品折扣类型\">\n               <el-option v-for=\"(item, index) in itemDiscountType\" :key=\"index\" :label=\"item\" :value=\"index\"></el-option>\n             </el-select>\n           </el-form-item>\n           <el-form-item label=\"折扣额度：\" v-show=\"discountData.itemDiscountType !== null && discountData.itemDiscountType ===1\"  prop=\"itemDiscountEd\">\n             <el-input placeholder=\"请输入折扣，如3.5\" v-discount v-model=\"discountData.itemDiscountEd\" class=\"el-input-width155\"></el-input>&nbsp;折\n           </el-form-item>\n           <el-form-item label=\"定价：\" v-show=\"discountData.itemDiscountType !== null && discountData.itemDiscountType === 0\"  prop=\"itemDiscountEd\">\n             <el-input placeholder=\"请输入定价，如：299\" v-enter-number v-model=\"discountData.itemDiscountEd\" class=\"el-input-width155\"></el-input>&nbsp;元\n           </el-form-item> \n           <el-form-item label=\"\" prop=\"\" class=\"mt-74\">\n             <el-button type=\"primary\" @click=\"saveDiscount\">{{ isGoods ? '刷新折扣' :  '下一步，选商品' }}</el-button>\n             <el-button @click=\"href('market/discount/discount_manage_list')\">取消</el-button>\n           </el-form-item>\n         </div>\n         <div class=\"box\" v-if=\"isGoods\">\n           <el-form\n             class=\"item-form\"\n             size=\"small\"\n             :inline=\"true\"\n             :model=\"goodsFiltersDataCheck\">\n             <!-- 模糊查询 -->\n             <el-form-item prop=\"cateIdentifier\" clearable label=\"品类：\">\n               <el-cascader\n                 class=\"input-w\"\n                 :options=\"classData\"\n                 v-model=\"cateArrs\"\n                 :value=\"cateArrs\"\n                 @change=\"cascaderGets\"\n                 :show-all-levels=\"false\"\n                 :props=\"props\"\n                 change-on-select\n               ></el-cascader>\n             </el-form-item>\n             <el-form-item label=\"品牌：\">\n               <el-select class=\"input-w\" filterable clearable placeholder=\"请选择\" v-model=\"goodsFiltersDataCheck.brandId\">\n                 <el-option\n                   v-for=\"item in brandOptions\"\n                   :key=\"item.id\"\n                   :label=\"item.name\"\n                   :value=\"item.id\"\n                 ></el-option>\n               </el-select>\n             </el-form-item>\n             <el-form-item label=\"售价：\">\n               <el-input placeholder=\"请输入售价最小值\" clearable  v-model=\"goodsFiltersDataCheck.retailPriceGE\" class=\"el-input-width155\"></el-input>\n               <el-input placeholder=\"请输入售价最大值\" clearable  v-model=\"goodsFiltersDataCheck.retailPriceLE\" class=\"el-input-width155 ml-10\"></el-input>\n             </el-form-item>\n             <el-form-item label=\"季节：\">\n               <el-select v-model=\"goodsFiltersDataCheck.seasonalStyleCode\" clearable placeholder=\"请选择\">\n                 <el-option v-for=\"(item, index) in codeItem_list_get.data\" :key=\"index\" :label=\"item.name\" :value=\"item.code\"></el-option>\n               </el-select>\n             </el-form-item>\n             <br/>\n             <el-form-item label=\"店内库存：\">\n               <el-input placeholder=\"请输入库存最小值\" clearable  v-model=\"goodsFiltersDataCheck.quantityLowerLimit\" class=\"el-input-width155\"></el-input>\n               <el-input placeholder=\"请输入库存最大值\" clearable  v-model=\"goodsFiltersDataCheck.quantityUpperLimit\" class=\"el-input-width155 ml-10\"></el-input>\n             </el-form-item>\n             <el-form-item label=\"关键词：\">\n               <el-input placeholder=\"请输入关键词，如：货号、款号、商品名称\" clearable  v-model=\"goodsFiltersDataCheck.searchWords\" class=\"el-input-width355\"></el-input>\n             </el-form-item>\n             <!-- 搜索，重置 -->\n             <el-form-item>\n               <el-button size=\"small\" @click=\"handleSearchCheck\" type=\"primary\" plain>搜索</el-button>\n               <el-button size=\"small\" @click=\"handleResetFiltersCheck\">重置</el-button>\n             </el-form-item>\n           </el-form>\n         </div>\n         <div class=\"box\" v-if=\"isGoods\">\n           <div class=\"item-table\">\n             <el-button size=\"small\" type=\"primary\" class=\"ml-20 mt-24\" @click=\"dialogTableVisible = true\">添加商品</el-button>\n             <el-table\n                 class=\"mt-20\"\n               :data=\"goodsCheckList.data\"\n               stripe\n               empty-text=\"暂无数据\"\n               header-align=\"center\"\n               header-row-class-name=\"item-table-header\"\n               :highlight-current-row=\"true\">\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品款号\" min-width=\"100\">\n                 <template  slot-scope=\"scope\">{{ scope.row.productCode|| '--' }}</template>\n               </el-table-column>\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品货号\" min-width=\"100\">\n                 <template  slot-scope=\"scope\">{{ scope.row.code || '--' }}</template>\n               </el-table-column>\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"品牌\" min-width=\"100\">\n                 <template  slot-scope=\"scope\">{{ scope.row.productBrandName || '--' }}</template>\n               </el-table-column>\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"品类\" min-width=\"100\">\n                 <template  slot-scope=\"scope\">{{ scope.row.fullCateName || '--' }}</template>\n               </el-table-column>\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品名称\" min-width=\"100\">\n                 <template  slot-scope=\"scope\">{{ scope.row.name || '--' }}</template>\n               </el-table-column>\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"商品图片\" min-width=\"100\">\n                 <template  slot-scope=\"scope\"><img class=\"discountImg\" :src=\"scope.row.image\" alt=\"\"></template>\n               </el-table-column>\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"店内库存\" min-width=\"100\">\n                 <template  slot-scope=\"scope\">{{ scope.row.stock === null ? '门店没有该商品' : scope.row.stock }}</template>\n               </el-table-column>\n               <el-table-column prop=\"\" align=\"center\" :show-overflow-tooltip=\"true\" label=\"售价\" min-width=\"100\">\n                 <template  slot-scope=\"scope\">{{ scope.row.retailPrice || '--'  }}</template>\n               </el-table-column>\n               <!-- 操作 -->\n               <el-table-column\n                   fixed=\"right\"\n                   label-class-name=\"text-center\"\n                   class-name=\"text-center\"\n                   align=\"center\"\n                   label=\"操作\"\n                   width=\"180\">\n                   <template slot-scope=\"scope\">\n                     <el-button type=\"text\" size=\"small\" @click=\"marketingMiddleground_removeInSingleProduct(scope.row)\">剔除</el-button>\n                   </template>\n               </el-table-column>\n             </el-table>\n             <div class=\"pagination mt-10 mb-20\">\n               <!-- 分页 -->\n               <el-pagination\n                   class=\"mr-20\"\n                   @size-change=\"handleSizeChangeCheck\"\n                   @current-change=\"handleCurrentChangeCheck\"\n                   :current-page=\"goodsFiltersDataCheck.pageIndex\"\n                   :page-sizes=\"[10,20,30,40,50]\"\n                   :page-size=\"goodsFiltersDataCheck.pageSize\"\n                   layout=\"total, sizes, prev, pager, next, jumper\"\n                   :total=\"goodsCheckList.totalCount\"\n               ></el-pagination>\n             </div>\n           </div>\n         </div>\n       </div>\n     </template>\n   </el-form>\n</div>\n",null]}