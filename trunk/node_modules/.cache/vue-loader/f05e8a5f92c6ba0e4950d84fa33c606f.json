{"remainingRequest":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\warehouse\\warehouse_manager\\warehouse_manager.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\src\\views\\warehouse\\warehouse_manager\\warehouse_manager.vue","mtime":1572415125330},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":1558492720858},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558492728398},{"path":"C:\\Users\\EDZ\\Desktop\\研发项目\\vue-project\\trunk\\node_modules\\vue-loader\\lib\\index.js","mtime":1558492728890}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport division from \"@/components/division\";\r\nexport default {\r\n  components: {\r\n    division\r\n  },\r\n  data(){\r\n    return{\r\n      //标记当前仓库的索引值\r\n      idx:-1,\r\n      //仓库列表数据源\r\n      warehouseData:['北京CDC','上海CDC','广东CDC'],\r\n      //隶属机构数据\r\n      organizationListData:[],\r\n      //表单数据\r\n      signData:{\r\n        //启停状态\r\n        valid:true,\r\n        name:'',\r\n        //地址相关\r\n        addressId: \"\",\r\n        provinceName: \"\",\r\n        provinceCode: \"\",\r\n        cityName: \"\",\r\n        cityCode: \"\",\r\n        areaName: \"\",\r\n        areaCode: \"\",\r\n        addressInfo: \"\",\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入活动名称', trigger: 'blur' },\r\n          { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\r\n        ],\r\n        region:[\r\n          { required: true, message: '仓库不能为空', trigger: 'change' },\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getOrganizationListData() \r\n  },\r\n  methods:{\r\n    //得到组织机构数据\r\n    async getOrganizationListData() {\r\n      let info = await this.request(this.api.user.get_userinfo, {}, true);\r\n      console.log(info);\r\n      //得到直属机构与关联机构（type-0 机构 type-1 部门）\r\n      this.request(this.api.user.userCompany_getUserAllDepartByUserId, {\r\n        userId: info.userId,\r\n        type: 0\r\n      }).then(data => {\r\n        //得到组织机构数据\r\n        this.organizationListData=data;\r\n        console.log(data);\r\n        // this.signData.organizationIds=[]\r\n        // data.forEach(item => {\r\n        //   this.signData.organizationIds.push(item.id);\r\n        // });\r\n      });\r\n    },\r\n    //新增Btn的点击事件\r\n    addBtnCliclEvent(){\r\n      console.log('新增btn的点击事件---')\r\n    },\r\n    //新增仓库的点击事件\r\n    warehouseLiClickEvent(index){  \r\n      if(this.idx!=index){\r\n        console.log(index)\r\n        this.idx=index\r\n      }\r\n    },\r\n    //保存Btn的点击事件\r\n    saveBtnCliclEvent(formName){\r\n      console.log('saveBtnCliclEvent---')\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          alert('submit!');\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    setDivision(var1) {\r\n      this.signData.provinceName = var1.province;\r\n      this.signData.provinceCode = var1.provinceCode;\r\n      this.signData.cityName = var1.municipality;\r\n      this.signData.cityCode = var1.municipalityCode;\r\n      this.signData.areaName = var1.area;\r\n      this.signData.areaCode = var1.areaCode;\r\n      this.signData.addressId = var1.divisionId;\r\n    },\r\n  }\r\n}\r\n",{"version":3,"sources":["warehouse_manager.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"warehouse_manager.vue","sourceRoot":"src/views/warehouse/warehouse_manager","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"left-content\">\r\n      <div class=\"left\">\r\n        <span>仓库列表</span>\r\n        <el-button type=\"primary\" class=\"add-btn\" size=\"small\" @click=\"addBtnCliclEvent\">新增</el-button>\r\n      </div>\r\n      <div class=\"warehouse-name\" v-if=\"false\">\r\n        <span>仓库名称</span>\r\n        <ul>\r\n          <li v-for=\"(item,index) in warehouseData\" :key=\"item.id\" @click=\"warehouseLiClickEvent(index)\">\r\n          {{item}}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"blank\" v-else>\r\n        <span>\r\n          暂无仓库\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"right-content\">\r\n      <div v-if=\"false\">\r\n        <div class=\"right\">\r\n          <span>仓库信息</span>\r\n          <el-button type=\"primary\" class=\"add-btn\" size=\"small\" @click=\"saveBtnCliclEvent('ruleForm')\">保存</el-button>\r\n        </div>\r\n        <div class=\"right-form\">\r\n          <el-form :model=\"signData\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"130px\" class=\"demo-ruleForm\">\r\n            <el-form-item label=\"仓库名称：\" prop=\"warehouseName\">\r\n              <el-input v-model=\"signData.warehouseName\" style=\"width:300px\" placeholder=\"请输入仓库名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"仓库类型：\" prop=\"warehouseType\">\r\n              <el-select v-model=\"signData.warehouseType\" placeholder=\"请选择\" style=\"width:300px\">\r\n                <el-option label=\"总仓\" value=\"shanghai\"></el-option>\r\n                <el-option label=\"分仓\" value=\"beijing\"></el-option>\r\n                <el-option label=\"中转仓\" value=\"beijing\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"所属机构：\" prop=\"organizationCodes\">\r\n              <el-select v-model=\"signData.organizationCodes\" placeholder=\"请选择\" style=\"width:300px\">\r\n                <el-option\r\n                  v-for=\"item in organizationListData\"\r\n                  :label=\"item.name\"\r\n                  :key=\"item.id\"\r\n                  :value=\"item.id\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item prop=\"addressId\" label=\"仓库地址：\">\r\n              <div style=\"width:750px;\">\r\n                <division @set-division=\"setDivision\" v-model=\"signData.addressId\"></division>\r\n              </div>\r\n            </el-form-item>\r\n            <el-form-item prop=\"addressId\" label=\"详细地址：\">\r\n              <el-input v-model=\"signData.addressInfo\" style=\"width:300px\" placeholder=\"请输入详细地址\"></el-input>           \r\n            </el-form-item>\r\n            <el-form-item label=\"联系人：\" prop=\"contact\">\r\n              <el-input v-model=\"signData.contact\" style=\"width:300px\" placeholder=\"请输入联系人\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系方式：\" prop=\"contactMobile\">\r\n              <el-input v-model=\"signData.contactMobile\" style=\"width:300px\" placeholder=\"请输入联系方式\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"仓库面积：\" prop=\"acreage\">\r\n              <el-input v-model=\"signData.acreage\" style=\"width:300px\" placeholder=\"请输入仓库面积\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"启停状态：\" prop=\"valid\">\r\n              <el-switch v-model=\"signData.valid\" active-color=\"#13ce66\" inactive-color=\"#ff4949\"></el-switch>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n      <div class=\"blank\" v-else>\r\n        <span>\r\n          暂无数据\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport division from \"@/components/division\";\r\nexport default {\r\n  components: {\r\n    division\r\n  },\r\n  data(){\r\n    return{\r\n      //标记当前仓库的索引值\r\n      idx:-1,\r\n      //仓库列表数据源\r\n      warehouseData:['北京CDC','上海CDC','广东CDC'],\r\n      //隶属机构数据\r\n      organizationListData:[],\r\n      //表单数据\r\n      signData:{\r\n        //启停状态\r\n        valid:true,\r\n        name:'',\r\n        //地址相关\r\n        addressId: \"\",\r\n        provinceName: \"\",\r\n        provinceCode: \"\",\r\n        cityName: \"\",\r\n        cityCode: \"\",\r\n        areaName: \"\",\r\n        areaCode: \"\",\r\n        addressInfo: \"\",\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入活动名称', trigger: 'blur' },\r\n          { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\r\n        ],\r\n        region:[\r\n          { required: true, message: '仓库不能为空', trigger: 'change' },\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getOrganizationListData() \r\n  },\r\n  methods:{\r\n    //得到组织机构数据\r\n    async getOrganizationListData() {\r\n      let info = await this.request(this.api.user.get_userinfo, {}, true);\r\n      console.log(info);\r\n      //得到直属机构与关联机构（type-0 机构 type-1 部门）\r\n      this.request(this.api.user.userCompany_getUserAllDepartByUserId, {\r\n        userId: info.userId,\r\n        type: 0\r\n      }).then(data => {\r\n        //得到组织机构数据\r\n        this.organizationListData=data;\r\n        console.log(data);\r\n        // this.signData.organizationIds=[]\r\n        // data.forEach(item => {\r\n        //   this.signData.organizationIds.push(item.id);\r\n        // });\r\n      });\r\n    },\r\n    //新增Btn的点击事件\r\n    addBtnCliclEvent(){\r\n      console.log('新增btn的点击事件---')\r\n    },\r\n    //新增仓库的点击事件\r\n    warehouseLiClickEvent(index){  \r\n      if(this.idx!=index){\r\n        console.log(index)\r\n        this.idx=index\r\n      }\r\n    },\r\n    //保存Btn的点击事件\r\n    saveBtnCliclEvent(formName){\r\n      console.log('saveBtnCliclEvent---')\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          alert('submit!');\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    setDivision(var1) {\r\n      this.signData.provinceName = var1.province;\r\n      this.signData.provinceCode = var1.provinceCode;\r\n      this.signData.cityName = var1.municipality;\r\n      this.signData.cityCode = var1.municipalityCode;\r\n      this.signData.areaName = var1.area;\r\n      this.signData.areaCode = var1.areaCode;\r\n      this.signData.addressId = var1.divisionId;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.content{\r\n  .left-content{\r\n    position:absolute;\r\n    background-color:white;\r\n    width:20%;\r\n    top:70px;\r\n    bottom:10px;\r\n    .left{\r\n      margin:10px;\r\n      display:flex;\r\n      flex-direction:column;\r\n      span{\r\n        border-bottom:1px solid #ddd;\r\n        padding:10px;\r\n        // padding-bottom:15px;\r\n        // padding-left:10px;\r\n      }\r\n      .add-btn{\r\n        width:60px;\r\n        position:absolute;\r\n        top:12px;\r\n        right:18px;\r\n      }\r\n    }\r\n    .warehouse-name{\r\n      margin:10px;\r\n      margin-top:20px;\r\n      display:flex;\r\n      flex-direction:column;\r\n      span{\r\n        color:#222;\r\n        font-weight:700;\r\n        border-bottom:1px solid #ddd;\r\n        padding:10px;\r\n      }\r\n      li{\r\n        padding:10px;\r\n        border-bottom:1px solid #ddd;\r\n      }\r\n      li:hover{\r\n        background-color:#FAFAFA;\r\n      }\r\n    }\r\n  }\r\n  .right-content{\r\n    position:absolute;\r\n    background-color:white;\r\n    width:79%;\r\n    left:20.5%;\r\n    top:70px;\r\n    bottom:10px;\r\n    .right{\r\n      margin:10px;\r\n      padding:5px;\r\n      border-bottom:1px solid #ddd;\r\n      display:flex;\r\n      align-items:center;\r\n      span{\r\n        flex:auto;\r\n      }\r\n    }\r\n    .right-form{\r\n      margin-top:20px;  \r\n    }\r\n  }\r\n  .blank{\r\n    position:absolute;\r\n    left:50%;\r\n    top:50%;\r\n    transform:translate(-50%,-50%); \r\n    color:#ddd;\r\n    font-size:35px;\r\n  }\r\n}\r\n</style>"]}]}